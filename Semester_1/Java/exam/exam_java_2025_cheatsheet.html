<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Java Exam 2025</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Java Exam 2025</h1>
</header>
<h1
id="классы-языка-java-и-их-синтаксис.-члены-класса.-статические-члены-класса.поля-и-методы-класса.-главный-метод-приложения.-конструкторы-класса.-цепочкиконструкторов.-блоки-инициализации.-статические-поля-и-методы-классов.инициализация-статических-полей-класса">1.
Классы языка Java и их синтаксис. Члены класса. Статические члены
класса.Поля и методы класса. Главный метод приложения. Конструкторы
класса. Цепочкиконструкторов. Блоки инициализации. Статические поля и
методы классов.Инициализация статических полей класса</h1>
<p>这是基于第一题 的详细拆解。</p>
<h2 id="классы-языка-java-и-их-синтаксис">1.1 Классы языка Java и их
синтаксис</h2>
<p><strong>Java 语言的类及其语法</strong></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Тело класса</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 类的主体</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс — это шаблон для создания
объектов. Основной синтаксис включает ключевое слово <code>class</code>,
имя класса и фигурные скобки. 类是创建对象的模板。基本语法包括关键字
<code>class</code>、类名和花括号。</li>
</ul>
<hr />
<h2 id="члены-класса">2.2 Члены класса</h2>
<p><strong>类的成员</strong></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span>          <span class="co">// Поле (成员变量)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">study</span><span class="op">()</span> <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span>  <span class="co">// Метод (成员方法)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Члены класса — это основные
элементы, из которых состоит класс. К ним относятся поля (переменные) и
методы (функции).
类的成员是构成类的基本元素。它们包括字段（变量）和方法（函数）。</li>
</ul>
<hr />
<h2 id="статические-члены-класса">2.3 Статические члены класса</h2>
<p><strong>类的静态成员</strong></p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="bu">String</span> university <span class="op">=</span> <span class="st">&quot;MSU&quot;</span><span class="op">;</span> <span class="co">// Статическое поле (静态字段)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="dt">void</span> <span class="fu">showUniversity</span><span class="op">()</span> <span class="op">{</span>    <span class="co">// Статический метод (静态方法)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>university<span class="op">);</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Статические члены объявляются с
ключевым словом <code>static</code>. Они принадлежат самому классу, а не
экземплярам класса. 静态成员使用 <code>static</code>
关键字声明。它们属于类本身，而不是类的实例。</li>
</ul>
<hr />
<h2 id="поля-и-методы-класса">2.4 Поля и методы класса</h2>
<p><strong>类的字段和方法</strong></p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> age<span class="op">;</span> <span class="co">// Поле: хранит состояние (字段：存储状态)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">grow</span><span class="op">()</span> <span class="op">{</span> <span class="co">// Метод: определяет поведение (方法：定义行为)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        age<span class="op">++;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Поля хранит данные или состояние
объекта. Методы определяют поведение объекта и могут изменять его
состояние.
字段存储对象的数据或状态。方法定义对象的行为，并可以修改其状态。</li>
</ul>
<hr />
<h2 id="главный-метод-приложения">2.5 Главный метод приложения</h2>
<p><strong>应用程序的主方法</strong></p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Точка входа в программу</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 程序的入口点</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Это точка входа для любого
приложения Java. Он всегда должен быть <code>public</code>,
<code>static</code>, <code>void</code> и принимать массив строк
<code>String[]</code>. 这是任何 Java 应用程序的入口点。它必须始终是
<code>public</code>、<code>static</code>、<code>void</code>，并接收一个字符串数组
<code>String[]</code>。</li>
</ul>
<hr />
<h2 id="конструкторы-класса">2.6 Конструкторы класса</h2>
<p><strong>类的构造器</strong></p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Student</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Код конструктора</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 构造器代码</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Конструктор — это специальный
блок кода, который вызывается при создании нового объекта (с помощью
<code>new</code>). Он используется для инициализации объекта.
构造器是一个特殊的代码块，在创建新对象（使用
<code>new</code>）时被调用。它用于初始化对象。</li>
</ul>
<hr />
<h2 id="цепочки-конструкторов">2.7 Цепочки конструкторов</h2>
<p><strong>构造器链</strong></p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Student</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">(</span><span class="st">&quot;Unknown&quot;</span><span class="op">);</span> <span class="co">// Вызов другого конструктора (调用另一个构造器)</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Student</span><span class="op">(</span><span class="bu">String</span> name<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person <span class="op">{</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Конструктор родителя</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 父类构造器</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Person</span><span class="op">(</span><span class="bu">String</span> name<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;1. Parent Constructor: &quot;</span> <span class="op">+</span> name<span class="op">);</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Student <span class="kw">extends</span> Person <span class="op">{</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> id<span class="op">;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Конструктор потомка</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 子类构造器</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Student</span><span class="op">(</span><span class="bu">String</span> name<span class="op">,</span> <span class="dt">int</span> id<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span><span class="op">(</span>name<span class="op">);</span> <span class="co">// Вызов конструктора родителя (обязательно первая строка!)</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                     <span class="co">// 调用父类构造器（必须是第一行！）</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">id</span> <span class="op">=</span> id<span class="op">;</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;2. Student Constructor&quot;</span><span class="op">);</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Это процесс, когда один
конструктор вызывает другой конструктор того же класса (используя
<code>this()</code>) или конструктор родительского класса (используя
<code>super()</code>). 这是一个构造器调用同一个类的另一个构造器（使用
<code>this()</code>）或父类构造器（使用
<code>super()</code>）的过程。</li>
</ul>
<hr />
<h2 id="блоки-инициализации">2.8 Блоки инициализации</h2>
<p><strong>初始化块</strong></p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Instance Block&quot;</span><span class="op">);</span> <span class="co">// Блок инициализации экземпляра (实例初始化块)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="op">{</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Static Block&quot;</span><span class="op">);</span> <span class="co">// Статический блок инициализации (静态初始化块)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Это блоки кода в фигурных
скобках внутри класса. Обычные блоки выполняются при создании каждого
объекта, а статические — только один раз при загрузке класса.
这是类内部花括号中的代码块。普通块在每次创建对象时执行，而静态块在类加载时只执行一次。</li>
</ul>
<hr />
<h2 id="статические-поля-и-методы-классов">2.9 Статические поля и методы
классов</h2>
<p><strong>类的静态字段和方法</strong></p>
<p><em>(注：这部分内容在题目中与第3点有重叠，但在考试中可能要求再次强调具体用途)</em></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Math</span><span class="op">.</span><span class="fu">PI</span><span class="op">;</span>         <span class="co">// Статическое поле (静态字段)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span><span class="op">(-</span><span class="dv">5</span><span class="op">);</span>    <span class="co">// Статический метод (静态方法)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Эти элементы можно использовать,
не создавая экземпляр класса. Обычно они используются для утилит или
констант.
这些元素可以在不创建类实例的情况下使用。通常用于工具类或常量。</li>
</ul>
<hr />
<h2 id="инициализация-статических-полей-класса">2.10 Инициализация
статических полей класса</h2>
<p><strong>静态类字段的初始化</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Config <span class="op">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="dt">int</span> timeout<span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="op">{</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Сложная логика инициализации</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 复杂的初始化逻辑</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        timeout <span class="op">=</span> <span class="dv">1000</span> <span class="op">*</span> <span class="dv">60</span><span class="op">;</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Статические поля
инициализируются при загрузке класса. Это можно сделать напрямую при
объявлении или внутри статического блока инициализации.
静态字段在类加载时初始化。这可以在声明时直接完成，也可以在静态初始化块内完成。
—</li>
</ul>
<h1
id="пакеты-классов-и-интерфейсов.-импорт-классов-и-интерфейсов-из-другихпакетов.-разновидности-видимости-классов-и-интерфейсов.-соглашения-обименовании-пакетов-классов-директорий-и-файлов-при-программировании-на-java.">2.
Пакеты классов и интерфейсов. Импорт классов и интерфейсов из
другихпакетов. Разновидности видимости классов и интерфейсов. Соглашения
обименовании пакетов, классов, директорий и файлов при программировании
на Java.</h1>
<h2 id="пакеты-классов-и-интерфейсов">2.1 Пакеты классов и
интерфейсов</h2>
<p><strong>类和接口的包</strong></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Объявляем, что этот класс живет в пакете &quot;ru.msu.utils&quot;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 声明该类位于 &quot;ru.msu.utils&quot; 包中</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> ru</span><span class="op">.</span><span class="im">msu</span><span class="op">.</span><span class="im">utils</span><span class="op">;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MathTools <span class="op">{</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">sayHello</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Привет из пакета utils! (来自 utils 包的问候！)&quot;</span><span class="op">);</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> ru</span><span class="op">.</span><span class="im">msu</span><span class="op">.</span><span class="im">main</span><span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">// !!! Ключевой момент: Импорт (关键点：导入) !!!</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Мы говорим Java: &quot;Найди класс MathTools в пакете ru.msu.utils&quot;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">// 我们告诉 Java：“去 ru.msu.utils 包里找 MathTools 这个类”</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">ru</span><span class="op">.</span><span class="im">msu</span><span class="op">.</span><span class="im">utils</span><span class="op">.</span><span class="im">MathTools</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Application <span class="op">{</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Теперь мы можем использовать MathTools как обычно</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 现在我们可以像往常一样使用 MathTools</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>        MathTools tools <span class="op">=</span> <span class="kw">new</span> <span class="fu">MathTools</span><span class="op">();</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>        tools<span class="op">.</span><span class="fu">sayHello</span><span class="op">();</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Пакет — это пространство имен,
которое группирует связанные классы и интерфейсы для предотвращения
конфликтов имен и управления доступом.
包是一个命名空间，它将相关的类和接口组合在一起，以防止命名冲突并控制访问权限。</li>
</ul>
<hr />
<h2 id="импорт-классов-и-интерфейсов-из-других-пакетов">2.2 Импорт
классов и интерфейсов из других пакетов</h2>
<p><strong>从其他包导入类和接口</strong></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> com</span><span class="op">.</span><span class="im">msu</span><span class="op">.</span><span class="im">exam</span><span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">List</span><span class="op">;</span>       <span class="co">// Импорт конкретного класса (导入具体类)</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">Scanner</span><span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Main <span class="op">{</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> list<span class="op">;</span>       <span class="co">// Можно использовать короткое имя (可以使用短名称)</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Ключевое слово
<code>import</code> позволяет использовать классы из других пакетов по
их коротким именам, не указывая полный путь каждый раз.
<code>import</code>
关键字允许按短名称使用其他包中的类，而无需每次都指定完整路径。</li>
</ul>
<hr />
<h2 id="разновидности-видимости-классов-и-интерфейсов">2.3 Разновидности
видимости классов и интерфейсов</h2>
<p><strong>类和接口的可见性类型</strong></p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Public: Виден везде (随处可见)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> PublicClass <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Package-Private (default): Виден только внутри пакета (仅包内可见)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DefaultClass <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> У классов верхнего уровня есть
только два уровня доступа: <code>public</code> (доступен из любого
пакета) и пакетный (доступен только внутри своего пакета).
顶层类只有两个访问级别：<code>public</code>（可从任何包访问）和包级私有（仅在自己的包内可访问）。</li>
</ul>
<hr />
<h2 id="соглашения-об-именовании-пакетов">2.4 Соглашения об именовании
пакетов</h2>
<p><strong>包的命名约定</strong></p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Правильно (正确):</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> ru</span><span class="op">.</span><span class="im">msu</span><span class="op">.</span><span class="im">cmc</span><span class="op">.</span><span class="im">exam</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Неправильно (错误):</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> RU</span><span class="op">.</span><span class="im">MSU</span><span class="op">.</span><span class="im">CMC</span><span class="op">.</span><span class="im">Exam</span><span class="op">;</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Имена пакетов всегда
записываются строчными (маленькими) буквами, чтобы избежать конфликтов с
именами классов или интерфейсов.
包名总是用小写字母书写，以避免与类名或接口名冲突。</li>
</ul>
<hr />
<h2 id="соглашения-об-именовании-классов">2.5 Соглашения об именовании
классов</h2>
<p><strong>类的命名约定</strong></p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// UpperCamelCase (PascalCase)</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ExamQuestion <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> StudentRecord <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Имена классов должны быть
существительными и записываться в стиле UpperCamelCase (каждое слово с
большой буквы). 类名应该是名词，并采用 UpperCamelCase
风格（每个单词首字母大写）书写。</li>
</ul>
<hr />
<h2 id="соглашения-об-именовании-директорий-и-файлов">2.6 Соглашения об
именовании директорий и файлов</h2>
<p><strong>目录和文件的命名约定</strong></p>
<pre class="text"><code>Файл (File): Student.java
|-- Класс (Class): public class Student { ... }
</code></pre>
<ul>
<li><strong>Объяснение (解释):</strong> Имя файла с исходным кодом
должно в точности совпадать с именем публичного класса, который в нем
находится (включая регистр букв).
源代码文件的名称必须与其中包含的公共类的名称完全匹配（包括大小写）。</li>
</ul>
<hr />
<h1
id="наследование-полей-и-методов-классов-в-языке-java.-перекрытие-наследуемых-методов.-использование-конструкторов-наследуемых-классов.-разновидности-видимости-членов-классов.-полиморфизм.-абстрактные-классы.-конечные-final-классы.">3.
Наследование полей и методов классов в языке Java. Перекрытие
наследуемых методов. Использование конструкторов наследуемых классов.
Разновидности видимости членов классов. Полиморфизм. Абстрактные классы.
Конечные (final) классы.</h1>
<h2 id="наследование-полей-и-методов-классов-в-языке-java">3.1
Наследование полей и методов классов в языке Java</h2>
<div class="sourceCode" id="cb19"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Parent <span class="op">{</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> publicField <span class="op">=</span> <span class="st">&quot;Public Field&quot;</span><span class="op">;</span> <span class="co">// доступно везде</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="dt">void</span> protectedField <span class="op">=</span> <span class="st">&quot;Protected Field&quot;</span><span class="op">;</span> <span class="co">// доступно в подклассах и в том же пакете</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> defaultField <span class="op">=</span> <span class="st">&quot;Default Field&quot;</span><span class="op">;</span> <span class="co">// package-private - только в этом пакете</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">void</span> privateField <span class="op">=</span> <span class="st">&quot;Private Field&quot;</span><span class="op">;</span> <span class="co">// только в этом классе</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Метод класса Parent</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">PublicMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">ProtectedMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">DefaultMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">void</span> <span class="fu">PrivateMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Child <span class="kw">extends</span> Parent <span class="op">{</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">test</span><span class="op">(){</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Доступ к унаследованным полям и методам</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>publicField<span class="op">);</span> <span class="co">// Доступно</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>protectedField<span class="op">);</span> <span class="co">// Доступно</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>defaultField<span class="op">);</span> <span class="co">// Доступно (если в том же пакете)</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>        <span class="co">// System.out.println(privateField); // Ошибка: недоступно</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">PublicMethod</span><span class="op">();</span> <span class="co">// Доступно</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ProtectedMethod</span><span class="op">();</span> <span class="co">// Доступно</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">DefaultMethod</span><span class="op">();</span> <span class="co">// Доступно (если в том же пакете)</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// PrivateMethod(); // Ошибка: недоступно</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="перекрытие-наследуемых-методов">3.2 Перекрытие наследуемых
методов</h2>
<div class="sourceCode" id="cb20"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Aniaml <span class="op">{</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Animal sound&quot;</span><span class="op">);</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">final</span> <span class="dt">void</span> <span class="fu">sleep</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Animal is sleeping&quot;</span><span class="op">);</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Aniaml <span class="op">{</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{</span> <span class="co">// Перекрытие метода</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Dog Bark&quot;</span><span class="op">);</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">//можно вызвать родительский метод</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">MakeSoundAndParentSound</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span><span class="op">.</span><span class="fu">makeSound</span><span class="op">();</span> <span class="co">// Вызов метода родителя</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">makeSound</span><span class="op">();</span> <span class="co">// Вызов перекрытого метода</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Ошибка: нельзя переопределить final метод</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">// @Override</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">// public void sleep() {</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">//     System.out.println(&quot;Dog is sleeping&quot;);</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">// }</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="использование-конструкторов-наследуемых-классов">3.3
Использование конструкторов наследуемых классов</h2>
<div class="sourceCode" id="cb21"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">int</span> age<span class="op">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Animal</span><span class="op">(</span><span class="bu">String</span> name<span class="op">,</span> <span class="dt">int</span> age<span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">age</span> <span class="op">=</span> age<span class="op">;</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> breed<span class="op">;</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Dog</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">breed</span> <span class="op">=</span> <span class="st">&quot;Unknown&quot;</span><span class="op">;</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Dog</span><span class="op">(</span><span class="bu">String</span> name<span class="op">,</span> <span class="dt">int</span> age<span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span><span class="op">(</span>name<span class="op">,</span> age<span class="op">);</span> <span class="co">// Вызов конструктора родителя</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">breed</span> <span class="op">=</span> <span class="st">&quot;Unknown&quot;</span><span class="op">;</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Dog</span><span class="op">(</span><span class="bu">String</span> name<span class="op">,</span> <span class="dt">int</span> age<span class="op">,</span> <span class="bu">String</span> breed<span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span><span class="op">(</span>name<span class="op">,</span> age<span class="op">);</span> <span class="co">// Вызов конструктора родителя - должен быть первой строкой</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">breed</span> <span class="op">=</span> breed<span class="op">;</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="разновидности-видимости-членов-классов.">3.4 Разновидности
видимости членов классов.</h2>
<div class="sourceCode" id="cb22"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> ru</span><span class="op">.</span><span class="im">example</span><span class="op">.</span><span class="im">package1</span><span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> VisibilityDemo <span class="op">{</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> publicVar <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>          <span class="co">// Доступно везде</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="dt">int</span> protectedVar <span class="op">=</span> <span class="dv">2</span><span class="op">;</span>    <span class="co">// Доступно в подклассах и в том же пакете</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> defaultVar <span class="op">=</span> <span class="dv">3</span><span class="op">;</span>                <span class="co">// package-private - только в этом пакете</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">int</span> privateVar <span class="op">=</span> <span class="dv">4</span><span class="op">;</span>        <span class="co">// только в этом классе</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">publicMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">protectedMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">defaultMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">void</span> <span class="fu">privateMethod</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> ru</span><span class="op">.</span><span class="im">example</span><span class="op">.</span><span class="im">package2</span><span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">ru</span><span class="op">.</span><span class="im">example</span><span class="op">.</span><span class="im">package1</span><span class="op">.</span><span class="im">VisibilityDemo</span><span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Класс в другом пакете, но подкласс</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> SubClass <span class="kw">extends</span> VisibilityDemo <span class="op">{</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    publicVar <span class="op">=</span> <span class="dv">10</span><span class="op">;</span>          <span class="co">// Доступно</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    protectedVar <span class="op">=</span> <span class="dv">20</span><span class="op">;</span>      <span class="co">// Доступно</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// defaultVar = 30;     // Ошибка: недоступно</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// privateVar = 40;     // Ошибка: недоступно</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">publicMethod</span><span class="op">();</span>         <span class="co">// Доступно</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">protectedMethod</span><span class="op">();</span>      <span class="co">// Доступно</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// defaultMethod();    // Ошибка: недоступно</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// privateMethod();    // Ошибка: недоступно</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co">// Класс в другом пакете, не подкласс</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> OtherClassDiffPackage <span class="op">{</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        VisibilityDemo demo <span class="op">=</span> <span class="kw">new</span> <span class="fu">VisibilityDemo</span><span class="op">();</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        demo<span class="op">.</span><span class="fu">publicVar</span> <span class="op">=</span> <span class="dv">10</span><span class="op">;</span>          <span class="co">// Доступно</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// demo.protectedVar = 20;    // Ошибка: недоступно</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">// demo.defaultVar = 30;      // Ошибка: недоступно</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// demo.privateVar = 40;      // Ошибка: недоступно</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>        demo<span class="op">.</span><span class="fu">publicMethod</span><span class="op">();</span>         <span class="co">// Доступно</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">// demo.protectedMethod();    // Ошибка: недоступно</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// demo.defaultMethod();      // Ошибка: недоступно</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">// demo.privateMethod();      // Ошибка: недоступно</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col style="width: 21%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 36%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr>
<th>Модификатор</th>
<th>Класс</th>
<th>Пакет</th>
<th>Подкласс (другой пакет)</th>
<th>Все остальные</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>Да</td>
<td>Да</td>
<td>Да</td>
<td>Да</td>
</tr>
<tr>
<td>protected</td>
<td>Да</td>
<td>Да</td>
<td>Да</td>
<td>Нет</td>
</tr>
<tr>
<td>default</td>
<td>Да</td>
<td>Да</td>
<td>Нет</td>
<td>Нет</td>
</tr>
<tr>
<td>private</td>
<td>Да</td>
<td>Нет</td>
<td>Нет</td>
<td>Нет</td>
</tr>
</tbody>
</table>
<h2 id="полиморфизм">3.5 Полиморфизм</h2>
<div class="sourceCode" id="cb24"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Перекрытие методов (Overriding)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{}</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Meow&quot;</span><span class="op">);</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Перегрузка методов (Overloading)</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Calculator <span class="op">{</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">add</span><span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">add</span> <span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a <span class="op">+</span> b <span class="op">+</span> c<span class="op">;</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">add</span><span class="op">(</span><span class="dt">double</span> a<span class="op">,</span> <span class="dt">double</span> b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Полиморфизм через интерфейсы</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> CanFly <span class="op">{</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">fly</span><span class="op">();</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Bird <span class="kw">implements</span> CanFly <span class="op">{</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">fly</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Bird is flying&quot;</span><span class="op">);</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Airplane <span class="kw">implements</span> CanFly <span class="op">{</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">fly</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Airplane is flying&quot;</span><span class="op">);</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="абстрактные-классы">3.6 Абстрактные классы</h2>
<div class="sourceCode" id="cb25"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">abstract</span> <span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Абстрактный метод (без реализации)</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">abstract</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">();</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Обычный метод (с реализацией)</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">sleep</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Animal is sleeping&quot;</span><span class="op">);</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Статический метод в абстрактном классе</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">staticMethod</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Static method in abstract class&quot;</span><span class="op">);</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">//конструктор абстрактного класса</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Animal</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Constructor of Abstract Animal&quot;</span><span class="op">);</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Поля абстрактного класса</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">// конкретная клфасс должна реализовать абстрактные методы</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Dog Bark&quot;</span><span class="op">);</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">// можно иметь собственные поля и методы</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">showName</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Dog&#39;s name is &quot;</span> <span class="op">+</span> name<span class="op">);</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="конечные-final-классы">3.7 Конечные (final) классы</h2>
<div class="sourceCode" id="cb26"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. final класс нельзя наследовать</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="dt">final</span> <span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{</span><span class="kw">...</span><span class="op">}</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Ошибка: нельзя наследовать final класс</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">// class Dog extends Animal {</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. final класс можно наследовать</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="dt">final</span> <span class="kw">class</span> Dog <span class="kw">extends</span> Mammal <span class="op">{</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// можно иметь обычные методы</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">bark</span><span class="op">()</span> <span class="op">{</span><span class="kw">...</span><span class="op">}</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// можно иметь final методы - их нельзя переопределять в подклассах</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">final</span> <span class="dt">void</span> <span class="fu">finalMethod</span><span class="op">()</span> <span class="op">{</span><span class="kw">...</span><span class="op">}</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1
id="вложенность-классов.-статические-вложенные-и-внутренние-классы.-доступ-к-статическим-вложенным-классам.-внутренние-классы.-доступ-к-внутренним-классам.-внутренние-локальные-классы.-внутренние-анонимные-классы.">4.
Вложенность классов. Статические вложенные и внутренние классы. Доступ к
статическим вложенным классам. Внутренние классы. Доступ к внутренним
классам. Внутренние локальные классы. Внутренние анонимные классы.</h1>
<h2 id="статические-вложенные-классы">4.1 Статические вложенные
классы</h2>
<div class="sourceCode" id="cb27"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> name <span class="op">=</span> <span class="st">&quot;Animal&quot;</span><span class="op">;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="bu">String</span> dogType <span class="op">=</span> <span class="st">&quot;Bulldog&quot;</span><span class="op">;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Animal</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Статический вложенный класс</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">static</span> <span class="kw">class</span> DogToy <span class="op">{</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">private</span> <span class="bu">String</span> toyName<span class="op">;</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">DogToy</span><span class="op">(</span><span class="bu">String</span> toyName<span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>            <span class="kw">this</span><span class="op">.</span><span class="fu">toyName</span> <span class="op">=</span> toyName<span class="op">;</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">play</span><span class="op">(){</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Доступ к статическому полю внешнего класса</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Playing with &quot;</span> <span class="op">+</span> toyName <span class="op">+</span> <span class="st">&quot; of type &quot;</span> <span class="op">+</span> dogType<span class="op">);</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Ошибка: нельзя обратиться к нестатическому полю внешнего класса</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>            <span class="co">// System.out.println(&quot;Animal name is &quot; + name);</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">showDogType</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Dog type is &quot;</span> <span class="op">+</span> dogType<span class="op">);</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="доступ-к-статическим-вложенным-классам.">4.2 Доступ к
статическим вложенным классам.</h2>
<div class="sourceCode" id="cb28"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Main <span class="op">{</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Создание экземпляра статического вложенного класса</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>        Animal<span class="op">.</span><span class="fu">DogToy</span> toy <span class="op">=</span> <span class="kw">new</span> Animal<span class="op">.</span><span class="fu">DogToy</span><span class="op">(</span><span class="st">&quot;Bone&quot;</span><span class="op">);</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        toy<span class="op">.</span><span class="fu">play</span><span class="op">();</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Вызов статического метода вложенного класса</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        Animal<span class="op">.</span><span class="fu">DogToy</span><span class="op">.</span><span class="fu">showDogType</span><span class="op">();</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="внутренние-классы">4.3 Внутренние классы</h2>
<div class="sourceCode" id="cb29"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="op">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> breed<span class="op">;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Dog</span><span class="op">(</span><span class="bu">String</span> name<span class="op">,</span> <span class="bu">String</span> breed<span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">breed</span> <span class="op">=</span> breed<span class="op">;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Внутренний класс</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> DogCollor<span class="op">{</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">private</span> <span class="bu">String</span> color<span class="op">;</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">private</span> <span class="bu">String</span> size<span class="op">;</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">DogCollor</span><span class="op">(</span><span class="bu">String</span> color<span class="op">,</span> <span class="bu">String</span> size<span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">this</span><span class="op">.</span><span class="fu">color</span> <span class="op">=</span> color<span class="op">;</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">this</span><span class="op">.</span><span class="fu">size</span> <span class="op">=</span> size<span class="op">;</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">showInfo</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Доступ к полям внешнего класса</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Dog Name: &quot;</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">&quot;, Breed: &quot;</span> <span class="op">+</span> breed <span class="op">+</span> <span class="st">&quot;, Color: &quot;</span> <span class="op">+</span> color <span class="op">+</span> <span class="st">&quot;, Size: &quot;</span> <span class="op">+</span> size<span class="op">);</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="доступ-к-внутренним-классам.">4.4 Доступ к внутренним
классам.</h2>
<div class="sourceCode" id="cb30"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Main <span class="op">{</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Сначала создаем экземпляр внешнего класса</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        Dog dog <span class="op">=</span> <span class="kw">new</span> <span class="fu">Dog</span><span class="op">(</span><span class="st">&quot;Buddy&quot;</span><span class="op">,</span> <span class="st">&quot;Golden Retriever&quot;</span><span class="op">);</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Затем создаем экземпляр внутреннего класса</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>        Dog<span class="op">.</span><span class="fu">DogCollor</span> collor <span class="op">=</span> dog<span class="op">.</span><span class="fu">new</span> <span class="fu">DogCollor</span><span class="op">(</span><span class="st">&quot;Golden&quot;</span><span class="op">,</span> <span class="st">&quot;Large&quot;</span><span class="op">);</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>        collor<span class="op">.</span><span class="fu">showInfo</span><span class="op">();</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="внутренние-локальные-классы">4.5 Внутренние локальные
классы</h2>
<div class="sourceCode" id="cb31"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="op">{</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Dog</span><span class="op">(</span><span class="bu">String</span> name<span class="op">)</span> <span class="op">{</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Метод с локальным внутренним классом</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">getForWalk</span><span class="op">(</span><span class="bu">String</span> parkName<span class="op">)</span> <span class="op">{</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">final</span> <span class="dt">int</span> walkDuration <span class="op">=</span> <span class="dv">60</span><span class="op">;</span> <span class="co">// Локальная переменная</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Локальный внутренний класс</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">class</span> Walk <span class="op">{</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="dt">void</span> <span class="fu">startWalk</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>                <span class="co">// Доступ к полям внешнего класса и локальным переменным</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>                <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>name <span class="op">+</span> <span class="st">&quot; is walking in &quot;</span> <span class="op">+</span> parkName<span class="op">);</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>                <span class="co">// Доступ к final локальной переменной</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>                <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Walk duration: &quot;</span> <span class="op">+</span> walkDuration <span class="op">+</span> <span class="st">&quot; minutes&quot;</span><span class="op">);</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Создание экземпляра локального класса и вызов метода</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>        Walk walk <span class="op">=</span> <span class="kw">new</span> <span class="fu">Walk</span><span class="op">();</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>        walk<span class="op">.</span><span class="fu">startWalk</span><span class="op">();</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="co">// Другой пример использования локального класса(метод с возвратом локального класса)</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">Runnable</span> <span class="fu">getRunnable</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">String</span> message <span class="op">=</span> <span class="st">&quot;Hello from Runnable&quot;</span><span class="op">;</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Локальный класс, реализующий интерфейс Runnable</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> MyRunnable <span class="kw">implements</span> <span class="bu">Runnable</span> <span class="op">{</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">@Override</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">run</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>message<span class="op">);</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="fu">MyRunnable</span><span class="op">();</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="внутренние-анонимные-классы">4.6 Внутренние анонимные
классы</h2>
<div class="sourceCode" id="cb32"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Анонимный класс от интерфейса / Anonymous class from interface / 基于接口的匿名类</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Animal <span class="op">{</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">();</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Test1 <span class="op">{</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Создание анонимного класса / Creating anonymous class / 创建匿名类</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>        Animal dog <span class="op">=</span> <span class="kw">new</span> <span class="fu">Animal</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">@Override</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="dt">void</span> <span class="fu">makeSound</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>                <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Woof!&quot;</span><span class="op">);</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>        dog<span class="op">.</span><span class="fu">makeSound</span><span class="op">();</span> <span class="co">// Woof!</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Анонимный класс от абстрактного класса / Anonymous class from abstract class / 基于抽象类的匿名类</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="kw">abstract</span> <span class="kw">class</span> Vehicle <span class="op">{</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">abstract</span> <span class="dt">void</span> <span class="fu">move</span><span class="op">();</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Test2 <span class="op">{</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>        Vehicle car <span class="op">=</span> <span class="kw">new</span> <span class="fu">Vehicle</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">@Override</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>            <span class="dt">void</span> <span class="fu">move</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>                <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Car is driving&quot;</span><span class="op">);</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>        car<span class="op">.</span><span class="fu">move</span><span class="op">();</span> <span class="co">// Car is driving</span></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Анонимный класс с конструктором / Anonymous class with constructor-like / 类似构造函数的匿名类</span></span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="op">{</span></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Dog</span><span class="op">(</span><span class="bu">String</span> name<span class="op">)</span> <span class="op">{</span> <span class="kw">this</span><span class="op">.</span><span class="fu">name</span> <span class="op">=</span> name<span class="op">;</span> <span class="op">}</span></span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">bark</span><span class="op">()</span> <span class="op">{</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Woof!&quot;</span><span class="op">);</span> <span class="op">}</span></span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Test3 <span class="op">{</span></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Передача параметров в &quot;конструктор&quot; / Passing parameters to &quot;constructor&quot; / 传递参数给&quot;构造函数&quot;</span></span>
<span id="cb32-46"><a href="#cb32-46" aria-hidden="true" tabindex="-1"></a>        Dog dog <span class="op">=</span> <span class="kw">new</span> <span class="fu">Dog</span><span class="op">(</span><span class="st">&quot;Rex&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb32-47"><a href="#cb32-47" aria-hidden="true" tabindex="-1"></a>            <span class="at">@Override</span></span>
<span id="cb32-48"><a href="#cb32-48" aria-hidden="true" tabindex="-1"></a>            <span class="dt">void</span> <span class="fu">bark</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-49"><a href="#cb32-49" aria-hidden="true" tabindex="-1"></a>                <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>name <span class="op">+</span> <span class="st">&quot; says: WOOF WOOF!&quot;</span><span class="op">);</span></span>
<span id="cb32-50"><a href="#cb32-50" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb32-51"><a href="#cb32-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb32-52"><a href="#cb32-52" aria-hidden="true" tabindex="-1"></a>        dog<span class="op">.</span><span class="fu">bark</span><span class="op">();</span> <span class="co">// Rex says: WOOF WOOF!</span></span>
<span id="cb32-53"><a href="#cb32-53" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb32-54"><a href="#cb32-54" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-55"><a href="#cb32-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-56"><a href="#cb32-56" aria-hidden="true" tabindex="-1"></a><span class="co">// 4. Анонимный класс в аргументе метода / Anonymous class in method argument / 方法参数中的匿名类</span></span>
<span id="cb32-57"><a href="#cb32-57" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> OnClickListener <span class="op">{</span></span>
<span id="cb32-58"><a href="#cb32-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">onClick</span><span class="op">();</span></span>
<span id="cb32-59"><a href="#cb32-59" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-60"><a href="#cb32-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-61"><a href="#cb32-61" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="bu">Button</span> <span class="op">{</span></span>
<span id="cb32-62"><a href="#cb32-62" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">setOnClickListener</span><span class="op">(</span>OnClickListener listener<span class="op">)</span> <span class="op">{</span></span>
<span id="cb32-63"><a href="#cb32-63" aria-hidden="true" tabindex="-1"></a>        listener<span class="op">.</span><span class="fu">onClick</span><span class="op">();</span></span>
<span id="cb32-64"><a href="#cb32-64" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb32-65"><a href="#cb32-65" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb32-66"><a href="#cb32-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-67"><a href="#cb32-67" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Test4 <span class="op">{</span></span>
<span id="cb32-68"><a href="#cb32-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-69"><a href="#cb32-69" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Button</span> button <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">();</span></span>
<span id="cb32-70"><a href="#cb32-70" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Анонимный класс как аргумент / Anonymous class as argument / 匿名类作为参数</span></span>
<span id="cb32-71"><a href="#cb32-71" aria-hidden="true" tabindex="-1"></a>        button<span class="op">.</span><span class="fu">setOnClickListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">OnClickListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-72"><a href="#cb32-72" aria-hidden="true" tabindex="-1"></a>            <span class="at">@Override</span></span>
<span id="cb32-73"><a href="#cb32-73" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="dt">void</span> <span class="fu">onClick</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-74"><a href="#cb32-74" aria-hidden="true" tabindex="-1"></a>                <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Button clicked!&quot;</span><span class="op">);</span></span>
<span id="cb32-75"><a href="#cb32-75" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb32-76"><a href="#cb32-76" aria-hidden="true" tabindex="-1"></a>        <span class="op">});</span></span>
<span id="cb32-77"><a href="#cb32-77" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb32-78"><a href="#cb32-78" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="типы-перечисления.-поля-и-методы-типов-перечислений.">5.
Типы-перечисления. Поля и методы типов-перечислений.</h1>
<p>这是 <strong>第 2 题 (Question 2)</strong> 的详细解析（根据常见的
Java 考纲顺序）。</p>
<p>这道题考察的是 Java 中一个非常强大的特性：<strong>枚举
(Enum)</strong>。 很多初学者以为枚举只是简单的常量列表，但实际上在 Java
中，<strong>枚举是类 (Class)</strong>，这使得它比 C/C++
中的枚举强大得多。</p>
<hr />
<h3 id="типы-перечисления-enums">1. Типы-перечисления (Enums)</h3>
<p><strong>枚举类型</strong></p>
<p><strong>定义 (Definition):</strong> <code>enum</code> —
这是一种特殊的 Java
类，用于定义一组固定的常量（例如：季节、星期几、订单状态）。</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Объявление простого перечисления.</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Declaring a simple enum.</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 声明一个简单的枚举。</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">enum</span> Season <span class="op">{</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    WINTER<span class="op">,</span> SPRING<span class="op">,</span> SUMMER<span class="op">,</span> AUTUMN</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Использование.</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 使用。</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>Season current <span class="op">=</span> Season<span class="op">.</span><span class="fu">SUMMER</span><span class="op">;</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Внутри Java
<code>enum Season</code> превращается в класс, который наследуется от
<code>java.lang.Enum</code>. Каждый элемент (WINTER, SPRING…) — это
статический финальный объект этого класса. 在 Java
内部，<code>enum Season</code> 会变成一个继承自
<code>java.lang.Enum</code> 的类。每个元素（WINTER,
SPRING…）都是这个类的静态最终 (static final) 对象。</li>
</ul>
<hr />
<h3 id="поля-типов-перечислений">2. Поля типов-перечислений</h3>
<p><strong>枚举类型的字段</strong></p>
<p>既然枚举是类，它就可以有<strong>字段 (Fields)</strong> 和
<strong>构造器 (Constructor)</strong>。这是 Java
枚举最酷的地方：你可以给常量附加数据。</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">enum</span> CoffeeSize <span class="op">{</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Вызов конструктора для каждой константы.</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Calling constructor for each constant.</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 为每个常量调用构造器。</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">SMALL</span><span class="op">(</span><span class="dv">100</span><span class="op">),</span> </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">MEDIUM</span><span class="op">(</span><span class="dv">200</span><span class="op">),</span> </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">LARGE</span><span class="op">(</span><span class="dv">300</span><span class="op">);</span> </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Поле перечисления.</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Enum field.</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 枚举字段。</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">int</span> milliliters<span class="op">;</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Конструктор (всегда private или package-private).</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Constructor (always private or package-private).</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 构造器（必须是 private 或包级私有）。</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">CoffeeSize</span><span class="op">(</span><span class="dt">int</span> milliliters<span class="op">)</span> <span class="op">{</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">milliliters</span> <span class="op">=</span> milliliters<span class="op">;</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Геттер для поля.</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 字段的 Getter 方法。</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getMl</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> milliliters<span class="op">;</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Вы можете хранить данные внутри
каждого элемента перечисления. Конструктор вызывается автоматически при
загрузке класса. <strong>Создавать объекты enum через <code>new</code>
нельзя!</strong>
你可以在每个枚举元素内部存储数据。构造器在类加载时自动调用。<strong>不能通过
<code>new</code> 手动创建枚举对象！</strong></li>
</ul>
<hr />
<h3 id="методы-типов-перечислений-пользовательские">3. Методы
типов-перечислений (Пользовательские)</h3>
<p><strong>枚举类型的方法（自定义方法）</strong></p>
<p>枚举也可以有普通的方法，甚至是抽象方法。</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">enum</span> <span class="bu">Operation</span> <span class="op">{</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    PLUS<span class="op">,</span> MINUS<span class="op">;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Обычный метод.</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 普通方法。</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">apply</span><span class="op">(</span><span class="dt">double</span> x<span class="op">,</span> <span class="dt">double</span> y<span class="op">)</span> <span class="op">{</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">switch</span><span class="op">(</span><span class="kw">this</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">case</span> PLUS<span class="op">:</span> <span class="cf">return</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">case</span> MINUS<span class="op">:</span> <span class="cf">return</span> x <span class="op">-</span> y<span class="op">;</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>            <span class="kw">default</span><span class="op">:</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">// Usage:</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> result <span class="op">=</span> <span class="bu">Operation</span><span class="op">.</span><span class="fu">PLUS</span><span class="op">.</span><span class="fu">apply</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">);</span> <span class="co">// 30.0</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Перечисления могут содержать
логику. Это позволяет избавиться от длинных <code>if-else</code> цепочек
в основном коде, переместив логику внутрь самого перечисления.
枚举可以包含逻辑。这允许你将逻辑移动到枚举内部，从而消除主代码中冗长的
<code>if-else</code> 链。</li>
</ul>
<hr />
<h3 id="встроенные-методы-standard-methods">4. Встроенные методы
(Standard Methods)</h3>
<p><strong>内置方法</strong></p>
<p>所有枚举都自动拥有几个重要的方法，这是编译器生成的。</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>Season s <span class="op">=</span> Season<span class="op">.</span><span class="fu">WINTER</span><span class="op">;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] values()</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Возвращает массив всех констант (для перебора).</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 返回所有常量的数组（用于遍历）。</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span>Season season <span class="op">:</span> Season<span class="op">.</span><span class="fu">values</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>season<span class="op">);</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] valueOf(String name)</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Превращает строку в enum.</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 将字符串转换为枚举。</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>Season w <span class="op">=</span> Season<span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span><span class="st">&quot;WINTER&quot;</span><span class="op">);</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co">// [3] ordinal()</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Возвращает порядковый номер (индекс), начиная с 0.</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 返回序号（索引），从 0 开始。</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> index <span class="op">=</span> Season<span class="op">.</span><span class="fu">SPRING</span><span class="op">.</span><span class="fu">ordinal</span><span class="op">();</span> <span class="co">// 1</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co">// [4] name()</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Возвращает имя константы в виде строки.</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 以字符串形式返回常量名称。</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> n <span class="op">=</span> Season<span class="op">.</span><span class="fu">SUMMER</span><span class="op">.</span><span class="fu">name</span><span class="op">();</span> <span class="co">// &quot;SUMMER&quot;</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>values()</code> и
<code>valueOf()</code> — это статические методы, добавляемые
компилятором. <code>ordinal()</code> использовать не рекомендуется для
логики программы, так как порядок констант может измениться.
<code>values()</code> 和 <code>valueOf()</code>
是编译器添加的静态方法。不建议在程序逻辑中使用
<code>ordinal()</code>，因为常量的顺序可能会改变。</li>
</ul>
<hr />
<h1
id="стандартная-библиотека-коллекций-языка-java.-интерфейсы-реализации-иалгоритмы-коллекций.-структура-библиотеки-коллекций.-коллекции-множества-исписки.-использование-реализаций-интерфейсов-коллекций.-карты-maps-вбиблиотеке-коллекций.-использование-различных-реализаций-карт.-итераторыкарт-и-коллекций.-стандартные-алгоритмы-библиотеки-для-работы-с-коллекциями-и-массивами.">6.
Стандартная библиотека коллекций языка Java. Интерфейсы, реализации
иалгоритмы коллекций. Структура библиотеки коллекций. Коллекции,
множества исписки. Использование реализаций интерфейсов коллекций. Карты
(maps) вбиблиотеке коллекций. Использование различных реализаций карт.
Итераторыкарт и коллекций. Стандартные алгоритмы библиотеки для работы с
коллекциями и массивами.</h1>
<p>这是 <strong>第 3 题 (Question 3)</strong> 的详细解析。这道题是 Java
面试和考试中的“重中之重”。Java 集合框架 (JCF)
是日常开发中最常用的工具。</p>
<p>我们将按照你给出的每一个小句作为独立的小问来解答。</p>
<hr />
<h3 id="стандартная-библиотека-коллекций-языка-java">1. Стандартная
библиотека коллекций языка Java</h3>
<p><strong>Java 标准集合库</strong></p>
<p><strong>概念：</strong> Java 集合框架 (Java Collections Framework,
JCF) 是一组用于存储和操作对象组的类和接口的统一架构。 它位于
<code>java.util</code> 包中。</p>
<ul>
<li><strong>RU:</strong> Это единая архитектура для представления и
манипулирования группами объектов.</li>
<li><strong>EN:</strong> It is a unified architecture for representing
and manipulating groups of objects.</li>
<li><strong>CN:</strong> 它是一个用于表示和操作对象组的统一架构。</li>
</ul>
<hr />
<h3 id="интерфейсы-реализации-и-алгоритмы-коллекций">2. Интерфейсы,
реализации и алгоритмы коллекций</h3>
<p><strong>集合的接口、实现和算法</strong></p>
<p>库由三个主要部分组成：</p>
<ol type="1">
<li><strong>接口 (Interfaces):</strong> 抽象数据类型 (如
<code>List</code>, <code>Set</code>,
<code>Map</code>)。它们定义了集合应该“做什么”。</li>
<li><strong>实现 (Implementations):</strong> 具体的类 (如
<code>ArrayList</code>,
<code>HashSet</code>)。它们定义了集合“怎么做”。</li>
<li><strong>算法 (Algorithms):</strong> 执行有用计算的方法 (如
<code>Collections.sort</code>, <code>Collections.shuffle</code>)。</li>
</ol>
<div class="sourceCode" id="cb37"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Interface (List) -&gt; Implementation (ArrayList)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> list <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Algorithm (Sort)</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Collections</span><span class="op">.</span><span class="fu">sort</span><span class="op">(</span>list<span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="структура-библиотеки-коллекций">3. Структура библиотеки
коллекций</h3>
<p><strong>集合库的结构</strong></p>
<p>这是考试中需要画图或者描述清楚的部分。</p>
<ul>
<li><p><strong>Collection (Root):</strong>
集合层次结构的根接口。</p></li>
<li><p><strong>List:</strong> 有序集合。</p></li>
<li><p><strong>Set:</strong> 不包含重复元素的集合。</p></li>
<li><p><strong>Queue:</strong> 队列。</p></li>
<li><p><strong>Map:</strong> <strong>注意！Map 不是 Collection
的子接口！</strong> 它是一个独立的键值对 (Key-Value) 分支。</p></li>
</ul>
<hr />
<h3 id="коллекции-множества-и-списки">4. Коллекции, множества и
списки</h3>
<p><strong>集合、集 (Sets) 和列表 (Lists)</strong></p>
<p>这是最常用的两种集合类型的对比。</p>
<p><strong>List (Список / 列表):</strong></p>
<ul>
<li><strong>有序 (Ordered):</strong> 元素有索引 (0, 1, 2…)。</li>
<li><strong>允许重复 (Duplicates OK):</strong>
可以有两个相同的对象。</li>
<li><strong>示例:</strong> <code>ArrayList</code>,
<code>LinkedList</code>.</li>
</ul>
<p><strong>Set (Множество / 集):</strong></p>
<ul>
<li><strong>无序 (Unordered):</strong> 通常不保证顺序 (HashSet)。</li>
<li><strong>唯一 (Unique):</strong> 不允许重复元素。</li>
<li><strong>示例:</strong> <code>HashSet</code>,
<code>TreeSet</code>.</li>
</ul>
<div class="sourceCode" id="cb38"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">// List: Сохраняет порядок, разрешает дубликаты</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">// List: 保留顺序，允许重复</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> list <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Apple&quot;</span><span class="op">);</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Apple&quot;</span><span class="op">);</span> <span class="co">// OK</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Set: Уникальность, порядок не гарантирован</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Set: 唯一性，不保证顺序</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="bu">Set</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> set <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashSet</span><span class="op">&lt;&gt;();</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>set<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Apple&quot;</span><span class="op">);</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>set<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Apple&quot;</span><span class="op">);</span> <span class="co">// Игнорируется (Ignored)</span></span></code></pre></div>
<hr />
<h3 id="использование-реализаций-интерфейсов-коллекций">5. Использование
реализаций интерфейсов коллекций</h3>
<p><strong>使用集合接口的实现</strong></p>
<p><strong>核心原则：</strong> 面向接口编程。 声明变量时使用接口
(<code>List</code>)，实例化时使用具体类
(<code>ArrayList</code>)。这样以后想换实现（比如换成
<code>LinkedList</code>）非常容易。</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Правильно! Используем интерфейс слева.</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Correct! Use interface on the left.</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 正确！左边使用接口。</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> data <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Если нужно часто вставлять в начало, просто меняем правую часть.</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: If we need frequent insertions at the beginning, just change the right side.</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 如果需要频繁在头部插入，只需更改右边。</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co">// List&lt;String&gt; data = new LinkedList&lt;&gt;(); </span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Не рекомендуется (привязка к реализации).</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 不推荐（绑定到了具体实现）。</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co">// ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();</span></span></code></pre></div>
<hr />
<h3 id="карты-maps-в-библиотеке-коллекций">6. Карты (maps) в библиотеке
коллекций</h3>
<p><strong>集合库中的映射 (Map)</strong></p>
<p><code>Map</code> 用于存储 <strong>键值对 (Key-Value
Pairs)</strong>。</p>
<ul>
<li><strong>Key (键):</strong> 必须唯一 (Unique)。</li>
<li><strong>Value (值):</strong> 可以重复。</li>
</ul>
<div class="sourceCode" id="cb40"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> phoneBook <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>phoneBook<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;Alice&quot;</span><span class="op">,</span> <span class="dv">123456</span><span class="op">);</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>phoneBook<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;Bob&quot;</span><span class="op">,</span> <span class="dv">654321</span><span class="op">);</span></span></code></pre></div>
<hr />
<h3 id="использование-различных-реализаций-карт">7. Использование
различных реализаций карт</h3>
<p><strong>使用各种 Map 的实现</strong></p>
<p>不同的 Map 实现有不同的特性：</p>
<ol type="1">
<li><strong>HashMap:</strong></li>
</ol>
<ul>
<li><strong>特点:</strong> 最快 (Fastest)。无序 (Unordered)。</li>
<li><strong>用途:</strong> 通用缓存、查找表。</li>
</ul>
<ol start="2" type="1">
<li><strong>LinkedHashMap:</strong></li>
</ol>
<ul>
<li><strong>特点:</strong> 记住插入顺序 (Insertion
Order)。稍慢一点。</li>
<li><strong>用途:</strong> 需要按添加顺序遍历时。</li>
</ul>
<ol start="3" type="1">
<li><strong>TreeMap:</strong></li>
</ol>
<ul>
<li><strong>特点:</strong> 按 Key 排序 (Sorted by Key)。最慢 (Slowest,
O(log n))。</li>
<li><strong>用途:</strong> 需要按字母顺序或数字大小显示数据时。</li>
</ul>
<div class="sourceCode" id="cb41"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Сортировка по ключам (алфавит).</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 按键排序（字母顺序）。</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> treeMap <span class="op">=</span> <span class="kw">new</span> <span class="bu">TreeMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>treeMap<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;Banana&quot;</span><span class="op">,</span> <span class="dv">2</span><span class="op">);</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>treeMap<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;Apple&quot;</span><span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Iteration: Apple, then Banana</span></span></code></pre></div>
<hr />
<h3 id="итераторы-карт-и-коллекций">8. Итераторы карт и коллекций</h3>
<p><strong>Map 和 Collection 的迭代器</strong></p>
<p><strong>Collection Iterator:</strong>
这是遍历列表的标准方式（<code>for-each</code> 循环底层就是它）。</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> list <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span><span class="op">);</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Iterator</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> it <span class="op">=</span> list<span class="op">.</span><span class="fu">iterator</span><span class="op">();</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span><span class="op">(</span>it<span class="op">.</span><span class="fu">hasNext</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> s <span class="op">=</span> it<span class="op">.</span><span class="fu">next</span><span class="op">();</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// it.remove(); // RU: Безопасное удаление! (CN: 安全删除！)</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><strong>Map Iteration (Map 没有直接的 iterator):</strong> Map
必须先转换成 Set 才能遍历。</p>
<ol type="1">
<li><code>keySet()</code>: 遍历键。</li>
<li><code>values()</code>: 遍历值。</li>
<li><code>entrySet()</code>: 遍历键值对（最高效）。</li>
</ol>
<div class="sourceCode" id="cb43"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> map <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co">// ... put data ...</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Самый эффективный способ перебора Map.</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 遍历 Map 最高效的方法。</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="bu">Map</span><span class="op">.</span><span class="fu">Entry</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> entry <span class="op">:</span> map<span class="op">.</span><span class="fu">entrySet</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>entry<span class="op">.</span><span class="fu">getKey</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot; -&gt; &quot;</span> <span class="op">+</span> entry<span class="op">.</span><span class="fu">getValue</span><span class="op">());</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3
id="стандартные-алгоритмы-библиотеки-для-работы-с-коллекциями-и-массивами">9.
Стандартные алгоритмы библиотеки для работы с коллекциями и
массивами</h3>
<p><strong>用于集合和数组的标准库算法</strong></p>
<p>Java 提供了两个工具类：<code>java.util.Collections</code> (针对集合)
和 <code>java.util.Arrays</code> (针对数组)。</p>
<p><strong>Collections 类 (工具类):</strong></p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> nums <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>nums<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="dv">3</span><span class="op">);</span> nums<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="dv">1</span><span class="op">);</span> nums<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="dv">2</span><span class="op">);</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Collections</span><span class="op">.</span><span class="fu">sort</span><span class="op">(</span>nums<span class="op">);</span>    <span class="co">// 排序: [1, 2, 3]</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Collections</span><span class="op">.</span><span class="fu">reverse</span><span class="op">(</span>nums<span class="op">);</span> <span class="co">// 反转: [3, 2, 1]</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="bu">Collections</span><span class="op">.</span><span class="fu">shuffle</span><span class="op">(</span>nums<span class="op">);</span> <span class="co">// 打乱 (Shuffling)</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="bu">Integer</span> max <span class="op">=</span> <span class="bu">Collections</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>nums<span class="op">);</span> <span class="co">// 最大值</span></span></code></pre></div>
<p><strong>Arrays 类 (工具类):</strong></p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">3</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">};</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Arrays</span><span class="op">.</span><span class="fu">sort</span><span class="op">(</span>arr<span class="op">);</span> <span class="co">// 排序</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Двоичный поиск (работает только на отсортированном массиве).</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 二分查找（仅适用于已排序的数组）。</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> index <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">binarySearch</span><span class="op">(</span>arr<span class="op">,</span> <span class="dv">3</span><span class="op">);</span> </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Преобразование массива в список (фиксированного размера).</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 将数组转换为列表（固定大小）。</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> list <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">);</span></span></code></pre></div>
<hr />
<h1
id="методы-рефакторинга-для-преобразования-структуры-программы-на-языке-java.-рефакторинг-типов.-рефакторинг-иерархии-наследования.-перемещение-методов-по-иерархии-наследования-и-между-классами.-использование-среды-eclipse-для-рефакторинга-программы-на-языке-java.">7.Методы
рефакторинга для преобразования структуры программы на языке Java.
Рефакторинг типов. Рефакторинг иерархии наследования. Перемещение
методов по иерархии наследования и между классами. Использование среды
Eclipse для рефакторинга программы на языке Java.</h1>
<h2
id="методы-рефакторинга-для-преобразования-структуры-программы-на-языке-java.">7.1
Методы рефакторинга для преобразования структуры программы на языке
Java.</h2>
<p>这是 <strong>第 7 题 (Question 7)</strong> 的核心内容。
考题原文提到：<strong>“Методы рефакторинга… Рефакторинг иерархии
наследования. Перемещение
методов”</strong>（重构方法…继承层次重构。移动方法）。</p>
<p>这里为你挑选了 <strong>3 个最经典、最适合初学者</strong>
的重构例子。</p>
<hr />
<h3 id="extract-method-выделение-метода-提取方法">1. Extract Method
(Выделение метода / 提取方法)</h3>
<p><strong>场景：</strong>
一个方法太长了，或者某段代码逻辑是独立的。我们把它“挖”出来变成一个新方法。
<strong>Сценарий:</strong> Метод слишком длинный, или часть кода
логически независима. Мы “выделяем” её в новый метод.
<strong>Scenario:</strong> A method is too long, or a piece of code is
logically independent. We “extract” it into a new method.</p>
<h4 id="before-до-重构前">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb46"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">printOwing</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printBanner</span><span class="op">();</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Печать деталей (дублирование или сложная логика)</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Print details (duplication or complex logic)</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 打印细节（重复代码或复杂逻辑）</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;name: &quot;</span> <span class="op">+</span> name<span class="op">);</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;amount: &quot;</span> <span class="op">+</span> amount<span class="op">);</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb47"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">printOwing</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printBanner</span><span class="op">();</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printDetails</span><span class="op">(</span>amount<span class="op">);</span> <span class="co">// RU: Вызов нового метода</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>                          <span class="co">// EN: Call the new method</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>                          <span class="co">// CN: 调用新方法</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Выделенный метод. Код стал чище.</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Extracted method. Code became cleaner.</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 被提取的方法。代码变得更整洁。</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">printDetails</span><span class="op">(</span><span class="dt">double</span> amount<span class="op">)</span> <span class="op">{</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;name: &quot;</span> <span class="op">+</span> name<span class="op">);</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;amount: &quot;</span> <span class="op">+</span> amount<span class="op">);</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="rename-method-переименование-метода-重命名方法">2. Rename Method
(Переименование метода / 重命名方法)</h3>
<p><strong>场景：</strong> 方法名不能清楚地说明它在做什么。
<strong>Сценарий:</strong> Имя метода не объясняет ясно, что он делает.
<strong>Scenario:</strong> The method name does not clearly explain what
it does.</p>
<h4 id="before-до-重构前-1">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb48"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Имя &quot;doIt&quot; ничего не значит</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Name &quot;doIt&quot; means nothing</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 名字 &quot;doIt&quot; 没有任何意义</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">doIt</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> days <span class="op">*</span> <span class="dv">24</span><span class="op">;</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-1">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb49"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Имя объясняет суть (часы в днях)</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Name explains the essence (hours in days)</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 名字解释了本质（天数转小时）</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">convertDaysToHours</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> days <span class="op">*</span> <span class="dv">24</span><span class="op">;</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="pull-up-method-подъем-метода-上移方法">3. Pull Up Method (Подъем
метода / 上移方法)</h3>
<p><strong>场景：</strong>
两个子类有完全相同的代码。为了消除重复，我们把它移到父类里。<strong>(这是考题中“继承层次重构”的重点)</strong>
<strong>Сценарий:</strong> Два подкласса имеют абсолютно одинаковый код.
Чтобы убрать дублирование, мы переносим его в родительский класс.
<strong>Scenario:</strong> Two subclasses have exactly the same code. To
remove duplication, we move it to the parent class.</p>
<h4 id="before-до-重构前-2">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb50"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Дублирующийся код</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Duplicated code</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 重复代码</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">sleep</span><span class="op">()</span> <span class="op">{</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Zzz...&quot;</span><span class="op">);</span> <span class="op">}</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Дублирующийся код</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Duplicated code</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 重复代码</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">sleep</span><span class="op">()</span> <span class="op">{</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Zzz...&quot;</span><span class="op">);</span> <span class="op">}</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-2">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb51"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Метод перемещен в родителя (Рефакторинг иерархии)</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Method moved to parent (Hierarchy refactoring)</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 方法被移到父类（继承层次重构）</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">sleep</span><span class="op">()</span> <span class="op">{</span> </span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Zzz...&quot;</span><span class="op">);</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal <span class="op">{</span> </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Теперь пусто, наследует sleep()</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Now empty, inherits sleep()</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 现在是空的，继承了 sleep()</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat <span class="kw">extends</span> Animal <span class="op">{</span> </span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ... </span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h2 id="рефакторинг-типов.">7.2 Рефакторинг типов.</h2>
<p>这是 <strong>第 7 题 (Question 7)</strong> 中的 <strong>“Рефакторинг
типов” (类型重构)</strong> 。</p>
<p>最经典、最常考的例子是 <strong>“Generalize Type”
(泛化类型)</strong>，即用更通用的接口替换具体的实现类。</p>
<hr />
<h3 id="generalize-type-обобщение-типа-泛化类型">1. Generalize Type
(Обобщение типа / 泛化类型)</h3>
<p><strong>场景：</strong> 我们把变量声明为具体类（如
<code>ArrayList</code>），这限制了灵活性。应该改为接口（如
<code>List</code>）。 <strong>Сценарий:</strong> Мы объявляем переменную
как конкретный класс (<code>ArrayList</code>), что ограничивает
гибкость. Лучше использовать интерфейс (<code>List</code>).
<strong>Scenario:</strong> We declare a variable as a concrete class
(<code>ArrayList</code>), limiting flexibility. It’s better to use an
interface (<code>List</code>).</p>
<h4 id="before-до-重构前-3">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb52"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Жесткая привязка к ArrayList. Мы не можем легко заменить его на LinkedList.</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Hard dependency on ArrayList. We cannot easily switch to LinkedList.</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 硬编码依赖 ArrayList。我们无法轻松切换到 LinkedList。</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">processData</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">ArrayList</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> names <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    names<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Alice&quot;</span><span class="op">);</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-3">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb53"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Использование интерфейса List. Теперь можно подставить любую реализацию списка.</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Using List interface. Now we can swap in any list implementation.</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 使用 List 接口。现在可以替换为任何列表实现。</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">processData</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> names <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span> </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// List&lt;String&gt; names = new LinkedList&lt;&gt;(); // RU: Легко изменить! (CN: 容易更改！)</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    names<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Alice&quot;</span><span class="op">);</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3
id="replace-primitive-with-object-замена-примитива-объектом-以对象取代基本类型">2.
Replace Primitive with Object (Замена примитива объектом /
以对象取代基本类型)</h3>
<p><strong>场景：</strong> 代码里用简单的 <code>String</code> 或
<code>int</code>
表示复杂概念（如电话号码、邮政编码）。应该创建一个专门的类。
<strong>Сценарий:</strong> Код использует простые <code>String</code>
или <code>int</code> для сложных понятий (телефон, индекс). Стоит
создать специальный класс. <strong>Scenario:</strong> The code uses
simple <code>String</code> or <code>int</code> for complex concepts
(phone, zip code). A special class should be created.</p>
<h4 id="before-до-重构前-4">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb54"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> User <span class="op">{</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Просто строка. Нет проверки формата, нет логики.</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Just a string. No format validation, no logic.</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 只是个字符串。没有格式验证，没有逻辑。</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> phoneNumber<span class="op">;</span> </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-4">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb55"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> User <span class="op">{</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Теперь это тип! Внутри класса PhoneNumber может быть валидация.</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Now it&#39;s a type! Inside PhoneNumber class, there can be validation.</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 现在它是一个类型！PhoneNumber 类内部可以包含验证逻辑。</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    PhoneNumber phoneNumber<span class="op">;</span> </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PhoneNumber <span class="op">{</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> number<span class="op">;</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Constructor, format logic...</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="рефакторинг-иерархии-наследования.">7.3 Рефакторинг иерархии
наследования.</h3>
<p>这是 <strong>第 7 题 (Question 7)</strong> 中的 <strong>“Рефакторинг
иерархии наследования” (继承层次重构)</strong>。</p>
<p>这一部分的重点在于<strong>改变类之间的父子关系</strong>，而不仅仅是移动方法。最经典的两个例子是
<strong>“提炼超类” (Extract Superclass)</strong> 和
<strong>“折叠继承体系” (Collapse Hierarchy)</strong>。</p>
<hr />
<h3 id="extract-superclass-выделение-суперкласса-提炼超类">1. Extract
Superclass (Выделение суперкласса / 提炼超类)</h3>
<p><strong>场景：</strong>
两个类有相似的字段和方法，但它们没有共同的父类（或者父类太通用了）。我们需要创建一个新的父类来存放共性。
<strong>Сценарий:</strong> Два класса имеют похожие поля и методы, но у
них нет общего родителя. Мы создаем новый родительский класс для общего
кода. <strong>Scenario:</strong> Two classes have similar fields and
methods, but they lack a common parent. We create a new parent class for
the common code.</p>
<h4 id="before-до-重构前-5">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb56"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Два независимых класса с дублированием (name, email)</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Two independent classes with duplication (name, email)</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 两个独立的类，存在重复代码 (name, email)</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> email<span class="op">;</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">study</span><span class="op">()</span> <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Teacher <span class="op">{</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> email<span class="op">;</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">teach</span><span class="op">()</span> <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-5">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb57"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Создаем общего родителя Person</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Create a common parent Person</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 创建一个共同的父类 Person</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person <span class="op">{</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> email<span class="op">;</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Теперь классы наследуются от Person. Дублирование исчезло.</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: Now classes inherit from Person. Duplication is gone.</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 现在这些类继承自 Person。重复代码消失了。</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Student <span class="kw">extends</span> Person <span class="op">{</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">study</span><span class="op">()</span> <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Teacher <span class="kw">extends</span> Person <span class="op">{</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">teach</span><span class="op">()</span> <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="collapse-hierarchy-свертывание-иерархии-折叠继承体系">2.
Collapse Hierarchy (Свертывание иерархии / 折叠继承体系)</h3>
<p><strong>场景：</strong>
子类和父类太像了，子类几乎没有添加任何新功能（由于重构或其他原因）。这时应该把它们合并。
<strong>Сценарий:</strong> Подкласс и суперкласс слишком похожи,
подкласс почти ничего не добавляет. Их следует объединить.
<strong>Scenario:</strong> The subclass and superclass are too similar;
the subclass adds almost nothing. They should be merged.</p>
<h4 id="before-до-重构前-6">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb58"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee <span class="op">{</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> salary<span class="op">;</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Этот класс почти пустой. Он не нужен.</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: This class is almost empty. It is not needed.</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 这个类几乎是空的。它是不必要的。</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Salesman <span class="kw">extends</span> Employee <span class="op">{</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Нет уникального поведения</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: No unique behavior</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 没有独特的行为</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-6">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb59"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Мы удалили класс Salesman и перенесли всё использование в Employee</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: We removed Salesman class and moved all usage to Employee</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 我们删除了 Salesman 类，并将所有引用都移到了 Employee</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee <span class="op">{</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> salary<span class="op">;</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h2
id="перемещение-методов-по-иерархии-наследования-и-между-классами.">7.4
Перемещение методов по иерархии наследования и между классами.</h2>
<p>这是 <strong>第 7 题 (Question 7)</strong>
的最后一部分：<strong>“Перемещение методов по иерархии наследования и
между
классами”</strong>（在继承层次结构中移动方法以及在类之间移动方法）。</p>
<p>这部分主要考察两个核心操作：</p>
<ol type="1">
<li><strong>Push Down Method (Спуск метода / 方法下移):</strong>
针对继承关系。</li>
<li><strong>Move Method (Перемещение метода / 移动方法):</strong>
针对类与类之间的协作。</li>
</ol>
<hr />
<h3 id="push-down-method-спуск-метода-方法下移">1. Push Down Method
(Спуск метода / 方法下移)</h3>
<p><strong>场景：</strong>
父类中有一个方法，但只有<strong>部分</strong>子类需要它。对于其他子类来说，这个方法是多余甚至错误的。
<strong>Сценарий:</strong> В родительском классе есть метод, который
нужен только <strong>некоторым</strong> подклассам.
<strong>Scenario:</strong> The parent class has a method that is used by
only <strong>some</strong> subclasses.</p>
<h4 id="before-до-重构前-7">🔴 Before (До / 重构前)</h4>
<div class="sourceCode" id="cb60"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Ошибка: не все животные лают. Кошкам этот метод не нужен.</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Error: not all animals bark. Cats don&#39;t need this method.</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 错误：不是所有动物都会叫。猫不需要这个方法。</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">bark</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Woof!&quot;</span><span class="op">);</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal <span class="op">{</span> <span class="op">}</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Наследует bark(), что странно.</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Inherits bark(), which is weird.</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 继承了 bark()，这很奇怪。</span></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-7">🟢 After (После / 重构后)</h4>
<div class="sourceCode" id="cb61"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal <span class="op">{</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Метод убран из родителя.</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Method removed from parent.</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 方法从父类中移除。</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Метод перемещен (&quot;спущен&quot;) сюда, где он действительно нужен.</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Method moved (&quot;pushed down&quot;) here, where it is actually needed.</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 方法被移动（“下移”）到这里，这里才是真正需要它的地方。</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">bark</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Woof!&quot;</span><span class="op">);</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat <span class="kw">extends</span> Animal <span class="op">{</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Чисто. Нет лишних методов.</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Clean. No extra methods.</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 干净。没有多余的方法。</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="move-method-перемещение-метода-移动方法">2. Move Method
(Перемещение метода / 移动方法)</h3>
<p><strong>场景：</strong> 一个类（Class
A）中的方法，使用<strong>另一个类</strong>（Class
B）的数据比用自己类的数据还多。这种现象叫“特性依恋” (Feature
Envy)。应该把这个方法移到 Class B 去。 <strong>Сценарий:</strong> Метод
в классе A использует данные класса B больше, чем свои собственные. Это
называется “Зависть к функциям”. Метод нужно перенести в класс B.
<strong>Scenario:</strong> A method in Class A uses more data from Class
B than from its own class. This is called “Feature Envy”. The method
should be moved to Class B.</p>
<h4 id="before-до-重构前-8">🔴 Before (До / 重构前)</h4>
<p><strong>目标：</strong> <code>Student</code> 类里有个打印
<code>Course</code> 详情的方法。</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Этот метод живет в Student, но использует только данные Course.</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: This method lives in Student, but uses only Course data.</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 这个方法在 Student 里，但只使用了 Course 的数据。</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">printCourseInfo</span><span class="op">(</span>Course c<span class="op">)</span> <span class="op">{</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Course: &quot;</span> <span class="op">+</span> c<span class="op">.</span><span class="fu">getTitle</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;, Price: &quot;</span> <span class="op">+</span> c<span class="op">.</span><span class="fu">getPrice</span><span class="op">());</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Course <span class="op">{</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> title<span class="op">;</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">double</span> price<span class="op">;</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// getters...</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-重构后-8">🟢 After (После / 重构后)</h4>
<p><strong>操作：</strong> 把方法剪切到 <code>Course</code> 类里。</p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Теперь Student просто вызывает метод у Course.</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Now Student just calls the method on Course.</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 现在 Student 只是调用 Course 的方法。</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">displayInfo</span><span class="op">(</span>Course c<span class="op">)</span> <span class="op">{</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>        c<span class="op">.</span><span class="fu">printInfo</span><span class="op">();</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Course <span class="op">{</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> title<span class="op">;</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">double</span> price<span class="op">;</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Метод перемещен сюда. Ему здесь самое место.</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Method moved here. It belongs here.</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 方法移到了这里。这才是它的归宿。</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">printInfo</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Course: &quot;</span> <span class="op">+</span> <span class="kw">this</span><span class="op">.</span><span class="fu">title</span> <span class="op">+</span> <span class="st">&quot;, Price: &quot;</span> <span class="op">+</span> <span class="kw">this</span><span class="op">.</span><span class="fu">price</span><span class="op">);</span></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3
id="использование-среды-eclipse-для-рефакторинга-программы-на-языке-java.">7.5
Использование среды Eclipse для рефакторинга программы на языке
Java.</h3>
<p>这是 <strong>第 7 题 (Question 7)</strong>
的最后一个考点：<strong>“Использование среды Eclipse для рефакторинга
программы на языке Java”</strong> (使用 Eclipse 环境重构 Java 程序)
。</p>
<p>在考试中，回答这道题的关键不仅是写代码，还要描述 <strong>“操作步骤”
(Action/Steps)</strong>。Eclipse 的强大之处在于它是自动化的。</p>
<p>这里有两个最常用的 Eclipse 重构功能演示。</p>
<hr />
<h3 id="rename-переименование-重命名">1. Rename (Переименование /
重命名)</h3>
<p><strong>场景：</strong>
你想改一个变量名。如果你手动改，你需要查找整个项目里所有用到它的地方。用
Eclipse，一键搞定。 <strong>Сценарий:</strong> Вы хотите изменить имя
переменной. Вручную это долго. Eclipse делает это автоматически во всем
проекте. <strong>Scenario:</strong> You want to rename a variable. Doing
it manually is slow. Eclipse does it automatically across the whole
project.</p>
<p><strong>操作步骤 (Steps):</strong></p>
<ol type="1">
<li><strong>RU:</strong> Выделите переменную <code>n</code> -&gt;
Нажмите <strong>Alt + Shift + R</strong> -&gt; Введите <code>name</code>
-&gt; Enter.</li>
<li><strong>EN:</strong> Select variable <code>n</code> -&gt; Press
<strong>Alt + Shift + R</strong> -&gt; Type <code>name</code> -&gt;
Enter.</li>
<li><strong>CN:</strong> 选中变量 <code>n</code> -&gt; 按 <strong>Alt +
Shift + R</strong> -&gt; 输入 <code>name</code> -&gt; 回车。</li>
</ol>
<h4 id="before-до-操作前">🔴 Before (До / 操作前)</h4>
<div class="sourceCode" id="cb64"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Плохое имя, непонятно что это</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Bad name, unclear meaning</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 名字不好，不清楚是什么</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> n<span class="op">;</span> </span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getN</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> n<span class="op">;</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-eclipse-自动修改后">🟢 After (После / Eclipse
自动修改后)</h4>
<div class="sourceCode" id="cb65"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Student <span class="op">{</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Eclipse переименовал поле И метод (getN -&gt; getName)</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Eclipse renamed the field AND the method (getN -&gt; getName)</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: Eclipse 重命名了字段和方法 (getN -&gt; getName)</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">String</span> name<span class="op">;</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getName</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> name<span class="op">;</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="encapsulate-field-инкапсуляция-поля-封装字段">2. Encapsulate
Field (Инкапсуляция поля / 封装字段)</h3>
<p><strong>场景：</strong> 你有一些 <code>public</code>
字段，想改成标准的 <code>private</code> 字段加 Getters/Setters。
<strong>Сценарий:</strong> У вас есть <code>public</code> поля, нужно
превратить их в <code>private</code> с геттерами и сеттерами.
<strong>Scenario:</strong> You have <code>public</code> fields, need to
convert them to <code>private</code> with getters and setters.</p>
<p><strong>操作步骤 (Steps):</strong></p>
<ol type="1">
<li><strong>RU:</strong> Правый клик по полю -&gt;
<strong>Refactor</strong> -&gt; <strong>Encapsulate Field…</strong></li>
<li><strong>EN:</strong> Right-click on field -&gt;
<strong>Refactor</strong> -&gt; <strong>Encapsulate Field…</strong></li>
<li><strong>CN:</strong> 右键点击字段 -&gt; <strong>Refactor</strong>
-&gt; <strong>Encapsulate Field…</strong></li>
</ol>
<h4 id="before-до-操作前-1">🔴 Before (До / 操作前)</h4>
<div class="sourceCode" id="cb66"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> User <span class="op">{</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Публичный доступ (небезопасно)</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Public access (unsafe)</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 公有访问（不安全）</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> age<span class="op">;</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="after-после-eclipse-自动修改后-1">🟢 After (После / Eclipse
自动修改后)</h4>
<div class="sourceCode" id="cb67"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> User <span class="op">{</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Eclipse сделал поле приватным</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Eclipse made the field private</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: Eclipse 把字段变成了私有</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">int</span> age<span class="op">;</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: И автоматически сгенерировал методы</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: And automatically generated methods</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 并且自动生成了方法</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getAge</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> age<span class="op">;</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setAge</span><span class="op">(</span><span class="dt">int</span> age<span class="op">)</span> <span class="op">{</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">age</span> <span class="op">=</span> age<span class="op">;</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="常用快捷键-полезные-горячие-клавиши-useful-shortcuts">3.
常用快捷键 (Полезные горячие клавиши / Useful Shortcuts)</h3>
<p>考试时如果能写出这几个快捷键，会非常加分：</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>功能 (Function)</th>
<th>快捷键 (Windows)</th>
<th>俄语说明 (RU)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Rename</strong></td>
<td><code>Alt + Shift + R</code></td>
<td>Переименование (самый важный!)</td>
</tr>
<tr>
<td><strong>Extract Method</strong></td>
<td><code>Alt + Shift + M</code></td>
<td>Выделение метода (код в новый метод)</td>
</tr>
<tr>
<td><strong>Extract Local Variable</strong></td>
<td><code>Alt + Shift + L</code></td>
<td>Выделение локальной переменной</td>
</tr>
<tr>
<td><strong>Organize Imports</strong></td>
<td><code>Ctrl + Shift + O</code></td>
<td>Организация импорта (удаление лишнего)</td>
</tr>
</tbody>
</table>
<hr />
<h1
id="родовые-типы-в-языке-java.-назначение-родовых-типов.-не-ковариантность-родовых-типов.-родовой-тип-wildcard.-родовые-методы.-ограниченные-родовые-типы.">8.
Родовые типы в языке Java. Назначение родовых типов. Не ковариантность
родовых типов. Родовой тип wildcard. Родовые методы. Ограниченные
родовые типы.</h1>
<hr />
<h3 id="родовые-типы-в-языке-java">1. Родовые типы в языке Java</h3>
<p><strong>Java 语言中的泛型</strong></p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Класс Box может хранить объект любого типа T</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Box 类可以存储任何类型 T 的对象</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> <span class="bu">Box</span><span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="op">{</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> T t<span class="op">;</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">set</span><span class="op">(</span>T t<span class="op">)</span> <span class="op">{</span> <span class="kw">this</span><span class="op">.</span><span class="fu">t</span> <span class="op">=</span> t<span class="op">;</span> <span class="op">}</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> T <span class="fu">get</span><span class="op">()</span> <span class="op">{</span> <span class="cf">return</span> t<span class="op">;</span> <span class="op">}</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Использование (使用):</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a><span class="bu">Box</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> integerBox <span class="op">=</span> <span class="kw">new</span> <span class="bu">Box</span><span class="op">&lt;&gt;();</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="bu">Box</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> stringBox <span class="op">=</span> <span class="kw">new</span> <span class="bu">Box</span><span class="op">&lt;&gt;();</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Родовые типы (Generics)
позволяют абстрагировать тип данных, используемый в классе или
интерфейсе. <code>T</code> — это параметр типа, который заменяется
реальным типом при создании объекта.
泛型允许我们在类或接口中抽象出数据类型。<code>T</code>
是一个类型参数，在创建对象时会被替换为具体的类型。</li>
</ul>
<hr />
<h3 id="назначение-родовых-типов">2. Назначение родовых типов</h3>
<p><strong>泛型的用途</strong></p>
<div class="sourceCode" id="cb69"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Без Generics (No Type Safety)</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 无泛型（无类型安全）</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span> list <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">();</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">);</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="dv">100</span><span class="op">);</span> <span class="co">// Ошибка не видна при компиляции (编译时看不出错误)</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="co">// String s = (String) list.get(1); // Runtime Exception! (运行时异常)</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] С Generics (Type Safety)</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 有泛型（类型安全）</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> listGen <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>listGen<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">);</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="co">// listGen.add(100); // Ошибка компиляции! (编译错误！)</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> s <span class="op">=</span> listGen<span class="op">.</span><span class="fu">get</span><span class="op">(</span><span class="dv">0</span><span class="op">);</span> <span class="co">// Приведение типов не нужно (不需要类型转换)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Главные цели: 1. Обеспечение
строгой типизации на этапе компиляции (обнаружение ошибок раньше). 2.
Устранение необходимости в явном приведении типов (casting).
主要目的：1. 在编译阶段提供严格的类型检查（更早发现错误）。2.
消除显式强制类型转换的需要。</li>
</ul>
<hr />
<h3 id="не-ковариантность-родовых-типов">3. Не ковариантность родовых
типов</h3>
<p><strong>泛型的非协变性</strong></p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> strings <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ❌ ОШИБКА КОМПИЛЯЦИИ (COMPILATION ERROR)</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// List&lt;Object&gt; objects = strings; </span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Почему это запрещено? (为什么禁止这样做？)</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Если бы это было можно, мы могли бы сделать так:</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 如果允许这样做，我们就可以：</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// objects.add(new Integer(123)); // Добавили число в список строк! (把数字加进了字符串列表！)</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// String s = strings.get(0); // ClassCastException при чтении</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> В Java дженерики инвариантны:
<code>List&lt;String&gt;</code> <strong>не</strong> является подтипом
<code>List&lt;Object&gt;</code>, даже если <code>String</code> является
подтипом <code>Object</code>. Это сделано для предотвращения порчи кучи
(Heap Pollution). 在 Java
中，泛型是不变的：<code>List&lt;String&gt;</code> <strong>不是</strong>
<code>List&lt;Object&gt;</code> 的子类型，即使 <code>String</code> 是
<code>Object</code> 的子类型。这是为了防止堆污染（Heap
Pollution）。</li>
</ul>
<hr />
<h3 id="родовой-тип-wildcard">4. Родовой тип wildcard</h3>
<p><strong>通配符泛型 (<code>?</code>)</strong></p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Метод принимает список ЛЮБОГО типа</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 该方法接受“任何”类型的列表</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printList</span><span class="op">(</span><span class="bu">List</span><span class="op">&lt;?&gt;</span> list<span class="op">)</span> <span class="op">{</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="bu">Object</span> elem <span class="op">:</span> list<span class="op">)</span> <span class="op">{</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">print</span><span class="op">(</span>elem <span class="op">+</span> <span class="st">&quot; &quot;</span><span class="op">);</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Использование:</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> li <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">);</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> ls <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="st">&quot;one&quot;</span><span class="op">,</span> <span class="st">&quot;two&quot;</span><span class="op">);</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="fu">printList</span><span class="op">(</span>li<span class="op">);</span> <span class="co">// Работает (Works)</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="fu">printList</span><span class="op">(</span>ls<span class="op">);</span> <span class="co">// Работает (Works)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Символ <code>?</code> (wildcard)
означает “неизвестный тип”. <code>List&lt;?&gt;</code> — это супертип
для любых списков. Однако, в такой список нельзя ничего добавлять (кроме
<code>null</code>), так как компилятор не знает конкретный тип
элементов. 符号
<code>?</code>（通配符）表示“未知类型”。<code>List&lt;?&gt;</code>
是所有列表的父类型。但是，你不能向这种列表中添加任何元素（<code>null</code>
除外），因为编译器不知道具体是哪种类型。</li>
</ul>
<hr />
<h3 id="родовые-методы">5. Родовые методы</h3>
<p><strong>泛型方法</strong></p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ArrayUtil <span class="op">{</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// &lt;T&gt; перед типом возврата объявляет метод родовым</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 返回类型前的 &lt;T&gt; 声明这是一个泛型方法</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="op">&lt;</span>T<span class="op">&gt;</span> T <span class="fu">getMiddle</span><span class="op">(</span>T<span class="op">[]</span> a<span class="op">)</span> <span class="op">{</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a<span class="op">[</span>a<span class="op">.</span><span class="fu">length</span> <span class="op">/</span> <span class="dv">2</span><span class="op">];</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="co">// Использование (T выводится автоматически)</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 使用（自动推断 T）</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span><span class="op">[]</span> names <span class="op">=</span> <span class="op">{</span><span class="st">&quot;John&quot;</span><span class="op">,</span> <span class="st">&quot;Q&quot;</span><span class="op">,</span> <span class="st">&quot;Public&quot;</span><span class="op">};</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> middle <span class="op">=</span> ArrayUtil<span class="op">.</span><span class="fu">getMiddle</span><span class="op">(</span>names<span class="op">);</span> <span class="co">// &quot;Q&quot;</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Родовые методы позволяют
использовать параметры типа в отдельных методах, не делая весь класс
родовым. Тип <code>T</code> определяется компилятором на основе
переданных аргументов.
泛型方法允许在单个方法中使用类型参数，而无需将整个类定义为泛型。编译器会根据传入的参数自动推断类型
<code>T</code>。</li>
</ul>
<hr />
<h3 id="ограниченные-родовые-типы">6. Ограниченные родовые типы</h3>
<p><strong>受限泛型 (Bounded Types)</strong></p>
<p>这是这一题最难的部分，通常分为 <strong>Upper Bound</strong>
(<code>extends</code>) 和 <strong>Lower Bound</strong>
(<code>super</code>)。考试常考 <code>extends</code>。</p>
<p><strong>示例 A: Upper Bound (Верхняя граница)</strong> 我们只想接受
<code>Number</code> 或其子类（如 Integer, Double）。</p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">// T должен быть наследником Number</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="co">// T 必须是 Number 的子类</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MathBox<span class="op">&lt;</span>T <span class="kw">extends</span> <span class="bu">Number</span><span class="op">&gt;</span> <span class="op">{</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> T value<span class="op">;</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">MathBox</span><span class="op">(</span>T value<span class="op">)</span> <span class="op">{</span> <span class="kw">this</span><span class="op">.</span><span class="fu">value</span> <span class="op">=</span> value<span class="op">;</span> <span class="op">}</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">doubleValue</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Мы уверены, что у T есть метод doubleValue()</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 我们确信 T 拥有 doubleValue() 方法</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> value<span class="op">.</span><span class="fu">doubleValue</span><span class="op">();</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a><span class="co">// MathBox&lt;String&gt; box = new MathBox&lt;&gt;(&quot;Hi&quot;); // ❌ Ошибка компиляции! String не Number.</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>MathBox<span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> iBox <span class="op">=</span> <span class="kw">new</span> MathBox<span class="op">&lt;&gt;(</span><span class="dv">10</span><span class="op">);</span>    <span class="co">// ✅ OK</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>T extends ClassName</code>
ограничивает параметр типа так, что он должен быть либо указанным
классом, либо его наследником. Это позволяет вызывать методы этого
класса внутри дженерика. <code>T extends ClassName</code>
将类型参数限制为该类本身或其子类。这允许你在泛型代码内部调用该类的方法（例如
<code>Number</code> 的 <code>doubleValue()</code>）。</li>
</ul>
<hr />
<h2
id="потоки-байтового-вывода-языка-java.-назначение-и-возможности-классов-outputstream-bytearrayoutputstream-fileoutputstream-pipedoutputstream-filteroutputstream-bufferedoutputstream-dataoutputstream-printstream.-потоки-символьного-вывода-языка-java.">#
9. Потоки байтового вывода языка Java. Назначение и возможности классов
OutputStream, ByteArrayOutputStream, FileOutputStream,
PipedOutputStream, FilterOutputStream, BufferedOutputStream,
DataOutputStream, PrintStream. Потоки символьного вывода языка
Java.</h2>
<h3 id="потоки-байтового-вывода-языка-java-outputstream">1. Потоки
байтового вывода языка Java (OutputStream)</h3>
<p><strong>Java 字节输出流 (OutputStream)</strong></p>
<div class="sourceCode" id="cb74"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Абстрактный базовый класс для всех байтовых потоков вывода</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 所有字节输出流的抽象基类</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">abstract</span> <span class="kw">class</span> <span class="bu">OutputStream</span> <span class="kw">implements</span> <span class="bu">Closeable</span><span class="op">,</span> <span class="bu">Flushable</span> <span class="op">{</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">abstract</span> <span class="dt">void</span> <span class="fu">write</span><span class="op">(</span><span class="dt">int</span> b<span class="op">)</span> <span class="kw">throws</span> <span class="bu">IOException</span><span class="op">;</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>OutputStream</code> — это
абстрактный родитель всех классов, которые выводят байты. Он определяет
базовый метод <code>write()</code>, но сам по себе не используется для
создания объектов. <code>OutputStream</code>
是所有输出字节类的抽象父类。它定义了基本的 <code>write()</code>
方法，但本身不能用于直接创建对象。</li>
</ul>
<hr />
<h3 id="bytearrayoutputstream">2. ByteArrayOutputStream</h3>
<p><strong>字节数组输出流</strong></p>
<div class="sourceCode" id="cb75"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testByteArray</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Пишет данные в память (внутренний массив), а не на диск.</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 将数据写入内存（内部数组），而不是磁盘。</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">ByteArrayOutputStream</span> baos <span class="op">=</span> <span class="kw">new</span> <span class="bu">ByteArrayOutputStream</span><span class="op">();</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    baos<span class="op">.</span><span class="fu">write</span><span class="op">(</span><span class="dv">65</span><span class="op">);</span> <span class="co">// &#39;A&#39;</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    baos<span class="op">.</span><span class="fu">write</span><span class="op">(</span><span class="dv">66</span><span class="op">);</span> <span class="co">// &#39;B&#39;</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Преобразование накопленных байтов в массив.</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 将积累的字节转换为数组。</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">byte</span><span class="op">[]</span> result <span class="op">=</span> baos<span class="op">.</span><span class="fu">toByteArray</span><span class="op">();</span> <span class="co">// [65, 66]</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Используется, когда нужно
собрать данные в памяти (буфер) перед тем, как отправить их куда-то еще.
Данные хранятся в динамически расширяемом массиве байтов.
用于在将数据发送到其他地方之前，先在内存（缓冲区）中收集数据。数据存储在动态扩展的字节数组中。</li>
</ul>
<hr />
<h3 id="fileoutputstream">3. FileOutputStream</h3>
<p><strong>文件输出流</strong></p>
<div class="sourceCode" id="cb76"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testFile</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: true означает режим добавления (append), false - перезапись.</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: true 表示追加模式 (append)，false 表示覆盖。</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">FileOutputStream</span> fos <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileOutputStream</span><span class="op">(</span><span class="st">&quot;test.txt&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> text <span class="op">=</span> <span class="st">&quot;Hello Java IO&quot;</span><span class="op">;</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Нужно явно преобразовать строку в байты.</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 需要显式地将字符串转换为字节。</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    fos<span class="op">.</span><span class="fu">write</span><span class="op">(</span>text<span class="op">.</span><span class="fu">getBytes</span><span class="op">());</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>    fos<span class="op">.</span><span class="fu">close</span><span class="op">();</span> <span class="co">// Обязательно закрывать! (务必关闭！)</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Предназначен для записи
необработанных байтов (например, изображений или текста) в файл на
диске. 用于将原始字节（例如图像或文本）写入磁盘文件。</li>
</ul>
<hr />
<h3 id="pipedoutputstream">4. PipedOutputStream</h3>
<p><strong>管道输出流</strong></p>
<div class="sourceCode" id="cb77"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testPipe</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">PipedOutputStream</span> out <span class="op">=</span> <span class="kw">new</span> <span class="bu">PipedOutputStream</span><span class="op">();</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">PipedInputStream</span> in <span class="op">=</span> <span class="kw">new</span> <span class="bu">PipedInputStream</span><span class="op">();</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Обязательно соединить вход и выход!</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 必须连接输入和输出！</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    out<span class="op">.</span><span class="fu">connect</span><span class="op">(</span>in<span class="op">);</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Обычно используется в двух разных потоках (Threads).</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Один поток пишет в &#39;out&#39;, другой читает из &#39;in&#39;.</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 通常在两个不同的线程中使用。一个线程写入 &#39;out&#39;，另一个从 &#39;in&#39; 读取。</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> <span class="bu">Thread</span><span class="op">(()</span> <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span> <span class="op">{</span> out<span class="op">.</span><span class="fu">write</span><span class="op">(</span><span class="ch">&#39;X&#39;</span><span class="op">);</span> <span class="op">}</span> <span class="cf">catch</span> <span class="op">(</span><span class="bu">IOException</span> e<span class="op">)</span> <span class="op">{}</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">}).</span><span class="fu">start</span><span class="op">();</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Создает канал связи между двумя
потоками (threads). Все, что записано в <code>PipedOutputStream</code>,
становится доступным для чтения в связанном
<code>PipedInputStream</code>. 在两个线程之间建立通信通道。写入
<code>PipedOutputStream</code> 的所有内容都可以在连接的
<code>PipedInputStream</code> 中读取。</li>
</ul>
<hr />
<h3 id="filteroutputstream">5. FilterOutputStream</h3>
<p><strong>过滤输出流</strong></p>
<div class="sourceCode" id="cb78"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Это базовый класс для &quot;оберток&quot; (Decorators)</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 这是所有“包装器”（装饰器）的基类</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> <span class="bu">FilterOutputStream</span> <span class="kw">extends</span> <span class="bu">OutputStream</span> <span class="op">{</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="bu">OutputStream</span> out<span class="op">;</span> <span class="co">// Ссылка на реальный поток (引用真实的流)</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">FilterOutputStream</span><span class="op">(</span><span class="bu">OutputStream</span> out<span class="op">)</span> <span class="op">{</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">out</span> <span class="op">=</span> out<span class="op">;</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Сам по себе этот класс редко
используется. Он служит базой для классов, которые добавляют
функциональность к существующему потоку (например, буферизацию или
шифрование).
这个类本身很少直接使用。它是那些为现有流添加功能（如缓冲或加密）的类的基类。</li>
</ul>
<hr />
<h3 id="bufferedoutputstream">6. BufferedOutputStream</h3>
<p><strong>缓冲输出流</strong></p>
<div class="sourceCode" id="cb79"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testBuffered</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Оборачиваем FileOutputStream для скорости.</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 包装 FileOutputStream 以提高速度。</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">FileOutputStream</span> fos <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileOutputStream</span><span class="op">(</span><span class="st">&quot;data.bin&quot;</span><span class="op">);</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">BufferedOutputStream</span> bos <span class="op">=</span> <span class="kw">new</span> <span class="bu">BufferedOutputStream</span><span class="op">(</span>fos<span class="op">);</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Данные копятся в буфере и записываются на диск большим куском.</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 数据积攒在缓冲区中，然后一大块一大块地写入磁盘。</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>    bos<span class="op">.</span><span class="fu">write</span><span class="op">(</span><span class="dv">1</span><span class="op">);</span> </span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>    bos<span class="op">.</span><span class="fu">flush</span><span class="op">();</span> <span class="co">// Принудительная запись (强制写入)</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>    bos<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Повышает производительность
ввода-вывода. Вместо того чтобы обращаться к диску для каждого байта, он
накапливает данные в памяти и пишет их блоками. 提高 I/O
性能。它不是为每个字节都访问磁盘，而是将数据在内存中积累，然后分块写入。</li>
</ul>
<hr />
<h3 id="dataoutputstream">7. DataOutputStream</h3>
<p><strong>数据输出流</strong></p>
<div class="sourceCode" id="cb80"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testData</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">DataOutputStream</span> dos <span class="op">=</span> <span class="kw">new</span> <span class="bu">DataOutputStream</span><span class="op">(</span><span class="kw">new</span> <span class="bu">FileOutputStream</span><span class="op">(</span><span class="st">&quot;file.dat&quot;</span><span class="op">));</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Записывает примитивные типы Java переносимым способом.</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 以可移植的方式写入 Java 基本数据类型。</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>    dos<span class="op">.</span><span class="fu">writeInt</span><span class="op">(</span><span class="dv">123</span><span class="op">);</span>       <span class="co">// 4 bytes</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>    dos<span class="op">.</span><span class="fu">writeDouble</span><span class="op">(</span><span class="fl">45.67</span><span class="op">);</span>  <span class="co">// 8 bytes</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>    dos<span class="op">.</span><span class="fu">writeBoolean</span><span class="op">(</span><span class="kw">true</span><span class="op">);</span>  <span class="co">// 1 byte</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>    dos<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Позволяет приложению записывать
примитивные типы данных Java (int, double, boolean) в поток вывода
переносимым способом. 允许应用程序以可移植的方式将 Java
基本数据类型（int, double, boolean）写入输出流。</li>
</ul>
<hr />
<h3 id="printstream">8. PrintStream</h3>
<p><strong>打印流</strong></p>
<div class="sourceCode" id="cb81"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testPrint</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">FileNotFoundException</span> <span class="op">{</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// System.out - это объект типа PrintStream!</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// System.out 就是一个 PrintStream 类型的对象！</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">PrintStream</span> ps <span class="op">=</span> <span class="kw">new</span> <span class="bu">PrintStream</span><span class="op">(</span><span class="kw">new</span> <span class="bu">FileOutputStream</span><span class="op">(</span><span class="st">&quot;log.txt&quot;</span><span class="op">));</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Удобные методы для печати текста. Не выбрасывает IOException.</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 便捷的文本打印方法。不抛出 IOException。</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    ps<span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Hello World&quot;</span><span class="op">);</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>    ps<span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;Age: </span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> <span class="dv">25</span><span class="op">);</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>    ps<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Добавляет возможность удобно
печатать представления различных значений данных. В отличие от других
потоков, он <strong>никогда не выбрасывает IOException</strong> и
поддерживает автоматический сброс (auto-flush).
添加了方便地打印各种数据值表示形式的功能。与其他流不同，它<strong>从不抛出
IOException</strong>，并且支持自动刷新 (auto-flush)。</li>
</ul>
<hr />
<h3 id="потоки-символьного-вывода-языка-java">9. Потоки символьного
вывода языка Java</h3>
<p><strong>Java 字符输出流</strong></p>
<p>题目最后提到了“字符输出流”。这是为了区分“字节 (Byte)”和“字符
(Char)”。</p>
<div class="sourceCode" id="cb82"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Байтовый поток (Byte Stream) -&gt; OutputStream</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Работает с raw binary data (изображения, видео).</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co">// 处理原始二进制数据（图像、视频）。</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Символьный поток (Character Stream) -&gt; Writer </span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Работает с текстом и кодировками (UTF-8).</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co">// 处理文本和编码（UTF-8）。</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="bu">Writer</span> writer <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileWriter</span><span class="op">(</span><span class="st">&quot;text.txt&quot;</span><span class="op">);</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>writer<span class="op">.</span><span class="fu">write</span><span class="op">(</span><span class="st">&quot;Привет!&quot;</span><span class="op">);</span> <span class="co">// Можно писать строки напрямую (可以直接写字符串)</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>writer<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Если <code>OutputStream</code>
предназначен для байтов, то для работы с текстом в Java используется
иерархия классов на основе абстрактного класса <code>Writer</code>. Они
автоматически обрабатывают кодировки символов. 如果说
<code>OutputStream</code> 是用于字节的，那么 Java
中处理文本则使用基于抽象类 <code>Writer</code>
的类层次结构。它们会自动处理字符编码。</li>
</ul>
<hr />
<h1
id="потоки-ввода-языка-java.-назначение-и-возможности-классов-inputstream-bytearrayinputstream-fileinputstream-pipedinputstream-filterinputstream-bufferedinputstream-datainputstream.-потоки-символьного-ввода-языка-java.-чтение-данных-из-потока-с-помощью-класса-scanner.">10.
Потоки ввода языка Java. Назначение и возможности классов InputStream,
ByteArrayInputStream, FileInputStream, PipedInputStream,
FilterInputStream, BufferedInputStream, DataInputStream. Потоки
символьного ввода языка Java. Чтение данных из потока с помощью класса
Scanner.</h1>
<hr />
<h3 id="потоки-ввода-языка-java-inputstream">1. Потоки ввода языка Java
(InputStream)</h3>
<p><strong>Java 字节输入流 (InputStream)</strong></p>
<div class="sourceCode" id="cb83"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Абстрактный базовый класс для всех байтовых потоков ввода</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 所有字节输入流的抽象基类</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">abstract</span> <span class="kw">class</span> <span class="bu">InputStream</span> <span class="kw">implements</span> <span class="bu">Closeable</span> <span class="op">{</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Возвращает следующий байт данных (0-255) или -1, если конец потока.</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// EN: Returns the next byte of data (0-255) or -1 if the end of the stream is reached.</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 返回下一个字节的数据 (0-255)，如果到达流的末尾则返回 -1。</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">abstract</span> <span class="dt">int</span> <span class="fu">read</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span><span class="op">;</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>InputStream</code> — это
родитель всех входных потоков. Его главный метод <code>read()</code>
читает по одному байту. Это медленно, поэтому обычно используются
наследники. <code>InputStream</code> 是所有输入流的父类。它的主要方法
<code>read()</code> 每次读取一个字节。这很慢，所以通常使用其子类。</li>
</ul>
<hr />
<h3 id="bytearrayinputstream">2. ByteArrayInputStream</h3>
<p><strong>字节数组输入流</strong></p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testByteArrayInput</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">byte</span><span class="op">[]</span> data <span class="op">=</span> <span class="op">{</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">66</span><span class="op">,</span> <span class="dv">67</span> <span class="op">};</span> <span class="co">// A, B, C</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Читаем данные из массива в памяти, как будто это поток.</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 从内存数组中读取数据，就像读取流一样。</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">ByteArrayInputStream</span> bais <span class="op">=</span> <span class="kw">new</span> <span class="bu">ByteArrayInputStream</span><span class="op">(</span>data<span class="op">);</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> b <span class="op">=</span> bais<span class="op">.</span><span class="fu">read</span><span class="op">();</span> <span class="co">// 65 (&#39;A&#39;)</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Позволяет использовать буфер в
памяти (массив байтов) как источник данных для потока ввода.
允许将内存中的缓冲区（字节数组）用作输入流的数据源。</li>
</ul>
<hr />
<h3 id="fileinputstream">3. FileInputStream</h3>
<p><strong>文件输入流</strong></p>
<div class="sourceCode" id="cb85"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testFileInput</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Открывает соединение с реальным файлом.</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 打开与真实文件的连接。</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">FileInputStream</span> fis <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileInputStream</span><span class="op">(</span><span class="st">&quot;config.txt&quot;</span><span class="op">);</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i<span class="op">;</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Читаем побайтово, пока не встретим -1 (конец файла).</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 逐字节读取，直到遇到 -1（文件结束）。</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">((</span>i <span class="op">=</span> fis<span class="op">.</span><span class="fu">read</span><span class="op">())</span> <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">print</span><span class="op">((</span><span class="dt">char</span><span class="op">)</span> i<span class="op">);</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>    fis<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Предназначен для чтения байтов
из файла в файловой системе. Это один из самых часто используемых
классов. 专用于从文件系统中的文件读取字节。这是最常用的类之一。</li>
</ul>
<hr />
<h3 id="pipedinputstream">4. PipedInputStream</h3>
<p><strong>管道输入流</strong></p>
<div class="sourceCode" id="cb86"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testPipedInput</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">PipedInputStream</span> in <span class="op">=</span> <span class="kw">new</span> <span class="bu">PipedInputStream</span><span class="op">();</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">PipedOutputStream</span> out <span class="op">=</span> <span class="kw">new</span> <span class="bu">PipedOutputStream</span><span class="op">();</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Соединяем &quot;трубу&quot;.</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 连接“管道”。</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>    in<span class="op">.</span><span class="fu">connect</span><span class="op">(</span>out<span class="op">);</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Читаем то, что другой поток записал в &#39;out&#39;.</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 读取另一个线程写入 &#39;out&#39; 的内容。</span></span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> data <span class="op">=</span> in<span class="op">.</span><span class="fu">read</span><span class="op">();</span> </span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Принимает данные, записанные в
связанный <code>PipedOutputStream</code>. Используется для передачи
данных между потоками (threads). 接收写入到相关联的
<code>PipedOutputStream</code> 中的数据。用于在线程之间传输数据。</li>
</ul>
<hr />
<h3 id="filterinputstream">5. FilterInputStream</h3>
<p><strong>过滤输入流</strong></p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Базовый класс-декоратор</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 装饰器基类</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> <span class="bu">FilterInputStream</span> <span class="kw">extends</span> <span class="bu">InputStream</span> <span class="op">{</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="kw">volatile</span> <span class="bu">InputStream</span> in<span class="op">;</span> <span class="co">// Обернутый поток (被包装的流)</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="bu">FilterInputStream</span><span class="op">(</span><span class="bu">InputStream</span> in<span class="op">)</span> <span class="op">{</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">in</span> <span class="op">=</span> in<span class="op">;</span></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Базовый класс для декораторов,
которые добавляют новую функциональность к существующему потоку ввода.
装饰器的基类，用于向现有的输入流添加新功能。</li>
</ul>
<hr />
<h3 id="bufferedinputstream">6. BufferedInputStream</h3>
<p><strong>缓冲输入流</strong></p>
<div class="sourceCode" id="cb88"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testBufferedInput</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">FileInputStream</span> fis <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileInputStream</span><span class="op">(</span><span class="st">&quot;large_video.mp4&quot;</span><span class="op">);</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Читает большие куски данных в память, уменьшая количество обращений к диску.</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 将大块数据读取到内存中，减少磁盘访问次数。</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">BufferedInputStream</span> bis <span class="op">=</span> <span class="kw">new</span> <span class="bu">BufferedInputStream</span><span class="op">(</span>fis<span class="op">);</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> data <span class="op">=</span> bis<span class="op">.</span><span class="fu">read</span><span class="op">();</span> <span class="co">// Быстро! (Fast!)</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>    bis<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Добавляет буферизацию. Когда вы
запрашиваете 1 байт, он читает сразу блок (например, 8KB) в память. Это
значительно ускоряет чтение файлов. 添加缓冲功能。当你请求 1
个字节时，它会一次性读取一个块（例如
8KB）到内存中。这极大地加快了文件读取速度。</li>
</ul>
<hr />
<h3 id="datainputstream">7. DataInputStream</h3>
<p><strong>数据输入流</strong></p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testDataInput</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">DataInputStream</span> dis <span class="op">=</span> <span class="kw">new</span> <span class="bu">DataInputStream</span><span class="op">(</span><span class="kw">new</span> <span class="bu">FileInputStream</span><span class="op">(</span><span class="st">&quot;data.bin&quot;</span><span class="op">));</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Читаем примитивы в том же порядке, в котором писали (через DataOutputStream).</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 按照写入的顺序（通过 DataOutputStream）读取基本类型。</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> dis<span class="op">.</span><span class="fu">readInt</span><span class="op">();</span>       <span class="co">// 4 bytes</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> d <span class="op">=</span> dis<span class="op">.</span><span class="fu">readDouble</span><span class="op">();</span> <span class="co">// 8 bytes</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">boolean</span> b <span class="op">=</span> dis<span class="op">.</span><span class="fu">readBoolean</span><span class="op">();</span> </span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>    dis<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Позволяет читать примитивные
типы данных Java (int, float, boolean) из потока. 允许从流中读取 Java
基本数据类型（int, float, boolean）。</li>
</ul>
<hr />
<h3 id="потоки-символьного-ввода-языка-java">8. Потоки символьного ввода
языка Java</h3>
<p><strong>Java 字符输入流</strong></p>
<p>这里再次强调 <strong>Byte vs Char</strong> 的区别。</p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">// InputStream -&gt; Reader</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co">// FileInputStream -&gt; FileReader</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testReader</span><span class="op">()</span> <span class="kw">throws</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: FileReader автоматически декодирует байты в символы (char).</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: FileReader 自动将字节解码为字符 (char)。</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Reader</span> reader <span class="op">=</span> <span class="kw">new</span> <span class="bu">FileReader</span><span class="op">(</span><span class="st">&quot;text.txt&quot;</span><span class="op">);</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> data <span class="op">=</span> reader<span class="op">.</span><span class="fu">read</span><span class="op">();</span> <span class="co">// Возвращает char (0-65535)</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>    reader<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Для чтения текста используется
иерархия <code>Reader</code> (читатель). Она работает с 16-битными
символами Unicode, в отличие от 8-битных байтов
<code>InputStream</code>. 读取文本使用
<code>Reader</code>（读取器）层次结构。与使用 8 位字节的
<code>InputStream</code> 不同，它处理 16 位 Unicode 字符。</li>
</ul>
<hr />
<h3 id="чтение-данных-из-потока-с-помощью-класса-scanner">9. Чтение
данных из потока с помощью класса Scanner</h3>
<p><strong>使用 Scanner 类从流中读取数据</strong></p>
<p>这是考试中<strong>必考</strong>的实用工具，因为它比
<code>InputStream</code> 好用太多了。</p>
<div class="sourceCode" id="cb91"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testScanner</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Scanner может читать из InputStream, файла или строки.</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: Scanner 可以从 InputStream、文件或字符串读取。</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Scanner</span> scanner <span class="op">=</span> <span class="kw">new</span> <span class="bu">Scanner</span><span class="op">(</span><span class="bu">System</span><span class="op">.</span><span class="fu">in</span><span class="op">);</span> <span class="co">// Чтение с клавиатуры (从键盘读取)</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">print</span><span class="op">(</span><span class="st">&quot;Enter number: &quot;</span><span class="op">);</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Удобные методы для парсинга токенов.</span></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 用于解析标记的便捷方法。</span></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>scanner<span class="op">.</span><span class="fu">hasNextInt</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> number <span class="op">=</span> scanner<span class="op">.</span><span class="fu">nextInt</span><span class="op">();</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;You entered: &quot;</span> <span class="op">+</span> number<span class="op">);</span></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> word <span class="op">=</span> scanner<span class="op">.</span><span class="fu">next</span><span class="op">();</span> <span class="co">// Читает слово до пробела (读取直到空格的一个单词)</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> line <span class="op">=</span> scanner<span class="op">.</span><span class="fu">nextLine</span><span class="op">();</span> <span class="co">// Читает всю строку (读取整行)</span></span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>    scanner<span class="op">.</span><span class="fu">close</span><span class="op">();</span></span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс <code>Scanner</code> — это
высокоуровневый текстовый сканер. Он разбивает входные данные на токены
с помощью разделителя (по умолчанию пробел) и может автоматически
парсить числа и строки. <code>Scanner</code>
类是一个高级文本扫描器。它使用分隔符（默认为空格）将输入数据分解为标记
(tokens)，并且可以自动解析数字和字符串。</li>
</ul>
<hr />
<h2
id="интернационализация-программ-в-языке-java.-файлы-текстовых-ресурсов.выбор-языка-пользователя-для-выдачи-текстовых-сообщений">#
11. Интернационализация программ в языке Java. Файлы текстовых
ресурсов.Выбор языка пользователя для выдачи текстовых сообщений</h2>
<h3 id="интернационализация-программ-в-языке-java-i18n">1.
Интернационализация программ в языке Java (I18n)</h3>
<p><strong>Java 程序的国际化</strong></p>
<div class="sourceCode" id="cb92"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co">// I18n = Internationalization (между &#39;I&#39; и &#39;n&#39; 18 букв)</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co">// I18n = Internationalization (&#39;I&#39; 和 &#39;n&#39; 之间有 18 个字母)</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Цель: Написать код один раз, а тексты хранить отдельно.</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="co">// 目标：代码只写一次，文本分开存储。</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Интернационализация — это
процесс проектирования приложения так, чтобы его можно было адаптировать
к различным языкам и регионам без изменения исходного кода.
国际化是设计应用程序的过程，使其无需更改源代码即可适应不同的语言和地区。</li>
</ul>
<hr />
<h3 id="файлы-текстовых-ресурсов-resource-bundles">2. Файлы текстовых
ресурсов (Resource Bundles)</h3>
<p><strong>文本资源文件</strong></p>
<p>在 Java 中，翻译通常存储在 <code>.properties</code>
文件中。文件名必须遵循严格的命名规则：<code>BaseName_language_country.properties</code>。</p>
<p><strong>Структура файлов (文件结构):</strong></p>
<ol type="1">
<li><strong>messages.properties</strong> (Default / 默认 - 英语)</li>
</ol>
<pre class="properties"><code>greeting=Hello
farewell=Goodbye
</code></pre>
<ol start="2" type="1">
<li><strong>messages_ru.properties</strong> (Russian / 俄语)</li>
</ol>
<pre class="properties"><code>greeting=Привет
farewell=Пока
</code></pre>
<ol start="3" type="1">
<li><strong>messages_zh.properties</strong> (Chinese / 中文)</li>
</ol>
<pre class="properties"><code>greeting=你好
farewell=再见
</code></pre>
<ul>
<li><strong>Объяснение (解释):</strong> Текстовые ресурсы хранятся в
файлах <code>.properties</code> в виде пар “ключ=значение”. Ключи
(например, <code>greeting</code>) одинаковы во всех файлах, а значения
зависят от языка. 文本资源以“键=值”对的形式存储在
<code>.properties</code> 文件中。键（例如
<code>greeting</code>）在所有文件中都是相同的，但值取决于语言。</li>
</ul>
<hr />
<h3 id="выбор-языка-пользователя-для-выдачи-текстовых-сообщений">3.
Выбор языка пользователя для выдачи текстовых сообщений</h3>
<p><strong>选择用户语言以显示文本消息</strong></p>
<p>我们需要使用 <code>java.util.Locale</code> 来指定语言，用
<code>java.util.ResourceBundle</code> 来加载对应的文件。</p>
<div class="sourceCode" id="cb96"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">Locale</span><span class="op">;</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">ResourceBundle</span><span class="op">;</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> I18nDemo <span class="op">{</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [1] Создаем локали для разных языков</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [1] 为不同的语言创建 Locale 对象</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Locale</span> localeEn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Locale</span><span class="op">(</span><span class="st">&quot;en&quot;</span><span class="op">,</span> <span class="st">&quot;US&quot;</span><span class="op">);</span> <span class="co">// English</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Locale</span> localeRu <span class="op">=</span> <span class="kw">new</span> <span class="bu">Locale</span><span class="op">(</span><span class="st">&quot;ru&quot;</span><span class="op">,</span> <span class="st">&quot;RU&quot;</span><span class="op">);</span> <span class="co">// Russian</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Locale</span> localeZh <span class="op">=</span> <span class="kw">new</span> <span class="bu">Locale</span><span class="op">(</span><span class="st">&quot;zh&quot;</span><span class="op">,</span> <span class="st">&quot;CN&quot;</span><span class="op">);</span> <span class="co">// Chinese</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [2] Выбираем язык пользователя (например, Русский)</span></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [2] 选择用户语言（例如：俄语）</span></span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Locale</span> currentLocale <span class="op">=</span> localeRu<span class="op">;</span> </span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [3] Загружаем нужный файл ресурсов</span></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Java ищет файл: messages_ru.properties</span></span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [3] 加载相应的资源文件</span></span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Java 会寻找：messages_ru.properties</span></span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">ResourceBundle</span> bundle <span class="op">=</span> <span class="bu">ResourceBundle</span><span class="op">.</span><span class="fu">getBundle</span><span class="op">(</span><span class="st">&quot;messages&quot;</span><span class="op">,</span> currentLocale<span class="op">);</span></span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [4] Получаем текст по ключу</span></span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">// [4] 通过键获取文本</span></span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> msg <span class="op">=</span> bundle<span class="op">.</span><span class="fu">getString</span><span class="op">(</span><span class="st">&quot;greeting&quot;</span><span class="op">);</span></span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>msg<span class="op">);</span> <span class="co">// Вывод (Output): Привет</span></span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс <code>Locale</code>
определяет регион (язык + страна). Метод
<code>ResourceBundle.getBundle()</code> автоматически ищет наиболее
подходящий файл <code>.properties</code> для заданной локали. Если
точное совпадение не найдено, используется файл по умолчанию.
<code>Locale</code> 类定义了区域（语言 +
国家）。<code>ResourceBundle.getBundle()</code>
方法会自动为指定的区域查找最匹配的 <code>.properties</code>
文件。如果没有找到完全匹配的，则使用默认文件。</li>
</ul>
<hr />
<h1
id="лямбда-выражения-в-языке-java8.-замена-анонимных-классов-лямбда-выражениями.-функциональные-интерфейсы.-синтаксис-lambda-выражений.-примеры-функциональных-интерфейсов-из-пакета-java.util.function.">12.
Лямбда выражения в языке Java8. Замена анонимных классов лямбда
выражениями. Функциональные интерфейсы. Синтаксис Lambda-выражений.
Примеры функциональных интерфейсов из пакета java.util.function.</h1>
<hr />
<h3 id="замена-анонимных-классов-лямбда-выражениями">1. Замена анонимных
классов лямбда выражениями</h3>
<p><strong>用 Lambda 表达式替换匿名类</strong></p>
<p>在 Java 8
之前，为了把一段代码（比如线程逻辑）传递给方法，我们不得不写冗长的匿名内部类。Lambda
表达式解决了这个问题。</p>
<h4 id="before-java-7---анонимный-класс-匿名类">🔴 Before (Java 7 -
Анонимный класс / 匿名类)</h4>
<div class="sourceCode" id="cb97"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Мы хотим запустить код в отдельном потоке.</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: We want to run code in a separate thread.</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 我们想在单独的线程中运行代码。</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="kw">new</span> <span class="bu">Thread</span><span class="op">(</span><span class="kw">new</span> <span class="bu">Runnable</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">run</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Hello from Anonymous Class!&quot;</span><span class="op">);</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="op">}).</span><span class="fu">start</span><span class="op">();</span></span></code></pre></div>
<h4 id="after-java-8---lambda-expression">🟢 After (Java 8 - Lambda
Expression)</h4>
<div class="sourceCode" id="cb98"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: То же самое, но в одну строку. &quot;Мусорный&quot; код (new Runnable...) исчез.</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: The same, but in one line. &quot;Garbage&quot; code is gone.</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 同样的功能，但只有一行。“垃圾”代码（new Runnable...）消失了。</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="kw">new</span> <span class="bu">Thread</span><span class="op">(()</span> <span class="op">-&gt;</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Hello from Lambda!&quot;</span><span class="op">)).</span><span class="fu">start</span><span class="op">();</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Lambda-выражение — это, по сути,
анонимная функция. Она позволяет реализовать метод интерфейса более
лаконично, не создавая громоздкий анонимный класс. Lambda
表达式本质上是一个匿名函数。它允许你以更简洁的方式实现接口方法，而无需创建笨重的匿名类。</li>
</ul>
<hr />
<h3 id="функциональные-интерфейсы">2. Функциональные интерфейсы</h3>
<p><strong>函数式接口</strong></p>
<p>这是 Lambda 表达式能工作的<strong>前提条件</strong>。</p>
<div class="sourceCode" id="cb99"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Интерфейс с ТОЛЬКО ОДНИМ абстрактным методом.</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 只有一个抽象方法的接口。</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="at">@FunctionalInterface</span> <span class="co">// (Optional annotation / 可选注解)</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> MathOperation <span class="op">{</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> <span class="fu">operate</span><span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">);</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Default и static методы не мешают интерфейсу быть функциональным.</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: Default 和 static 方法不影响接口成为函数式接口。</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">default</span> <span class="dt">void</span> <span class="fu">sayHello</span><span class="op">()</span> <span class="op">{</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Hi&quot;</span><span class="op">);</span> <span class="op">}</span></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Функциональный интерфейс — это
интерфейс, который содержит ровно один абстрактный метод.
Lambda-выражение всегда “подставляется” именно на место этого
единственного метода. 函数式接口是恰好包含一个抽象方法的接口。Lambda
表达式总是被“填入”这个唯一方法的位置。</li>
</ul>
<hr />
<h3 id="синтаксис-lambda-выражений">3. Синтаксис Lambda-выражений</h3>
<p><strong>Lambda 表达式的语法</strong></p>
<p>基本格式：<code>(parameters) -&gt; expression</code> 或
<code>(parameters) -&gt; { statements; }</code></p>
<div class="sourceCode" id="cb100"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Без параметров (No parameters)</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="op">()</span> <span class="op">-&gt;</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">);</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Один параметр (One parameter)</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Скобки вокруг x можно опустить.</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: x 周围的括号可以省略。</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>x <span class="op">-&gt;</span> x <span class="op">*</span> x<span class="op">;</span> </span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Несколько параметров (Multiple parameters)</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a><span class="op">(</span>x<span class="op">,</span> y<span class="op">)</span> <span class="op">-&gt;</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a><span class="co">// 4. Блок кода (Block of code)</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Если есть {}, нужен return и ;</span></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 如果有 {}，则需要 return 和 ;</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a><span class="op">(</span>x<span class="op">,</span> y<span class="op">)</span> <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> sum <span class="op">=</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Синтаксис состоит из трех
частей: список параметров, стрелка <code>-&gt;</code> и тело функции
(выражение или блок кода). Типы параметров обычно выводятся компилятором
автоматически. 语法由三部分组成：参数列表、箭头 <code>-&gt;</code>
和函数体（表达式或代码块）。参数类型通常由编译器自动推断。</li>
</ul>
<hr />
<h3
id="примеры-функциональных-интерфейсов-из-пакета-java.util.function">4.
Примеры функциональных интерфейсов из пакета java.util.function</h3>
<p><strong>java.util.function 包中的函数式接口示例</strong></p>
<p>Java 8
提供了很多内置的标准接口，这样我们就不用每次都自己定义了。考试常考以下四个：</p>
<h4 id="a.-predicate-предикат-断言">A. Predicate<T> (Предикат /
断言)</h4>
<p><strong>用途：</strong> 接收一个参数，返回
<code>boolean</code>（用于检查条件）。</p>
<div class="sourceCode" id="cb101"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Проверяет, длина строки &gt; 5?</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 检查字符串长度是否 &gt; 5？</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Predicate</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> isLong <span class="op">=</span> s <span class="op">-&gt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">()</span> <span class="op">&gt;</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>isLong<span class="op">.</span><span class="fu">test</span><span class="op">(</span><span class="st">&quot;Hello World&quot;</span><span class="op">));</span> <span class="co">// true</span></span></code></pre></div>
<h4 id="b.-consumer-потребитель-消费者">B. Consumer<T> (Потребитель /
消费者)</h4>
<p><strong>用途：</strong>
接收一个参数，<strong>不返回任何值</strong>（void）。（用于打印、写入数据库等）。</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Печатает строку в верхнем регистре.</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 以大写形式打印字符串。</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>Consumer<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> printer <span class="op">=</span> s <span class="op">-&gt;</span> <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>s<span class="op">.</span><span class="fu">toUpperCase</span><span class="op">());</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>printer<span class="op">.</span><span class="fu">accept</span><span class="op">(</span><span class="st">&quot;java&quot;</span><span class="op">);</span> <span class="co">// JAVA</span></span></code></pre></div>
<h4 id="c.-functiont-r-функция-函数">C. Function&lt;T, R&gt; (Функция /
函数)</h4>
<p><strong>用途：</strong> 接收类型 T，返回类型
R。（用于转换数据）。</p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Преобразует Строку в Число (длину).</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 将字符串转换为数字（长度）。</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>Function<span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> lengthFunc <span class="op">=</span> s <span class="op">-&gt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> len <span class="op">=</span> lengthFunc<span class="op">.</span><span class="fu">apply</span><span class="op">(</span><span class="st">&quot;Code&quot;</span><span class="op">);</span> <span class="co">// 4</span></span></code></pre></div>
<h4 id="d.-supplier-поставщик-供给者">D. Supplier<T> (Поставщик /
供给者)</h4>
<p><strong>用途：</strong> 不接收参数，返回一个
T。（用于工厂方法、延迟生成数据）。</p>
<div class="sourceCode" id="cb104"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Генерирует случайное число.</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 生成随机数。</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>Supplier<span class="op">&lt;</span><span class="bu">Double</span><span class="op">&gt;</span> randomizer <span class="op">=</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">random</span><span class="op">();</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>randomizer<span class="op">.</span><span class="fu">get</span><span class="op">());</span></span></code></pre></div>
<hr />
<h1
id="потоки-в-языке-java8.-определение-потоков.-отличие-операций-потоков-от-операций-коллекций.-обработка-данных-потока-в-конвейере.-методы-для-порождения-потоков.-методы-для-преобразования-потоков-в-конвейере.-преобразования-в-конце-конвейера.">13.
Потоки в языке Java8. Определение потоков. Отличие операций потоков от
операций коллекций. Обработка данных потока в конвейере. Методы для
порождения потоков. Методы для преобразования потоков в конвейере.
Преобразования в конце конвейера.</h1>
<p>好的，我们进入 <strong>第 13 题 (Question 13)</strong> 。这是 Java 8
中非常重要的一章：<strong>Stream API</strong>。</p>
<p>请注意，这里的“流” (Stream) 不是 IO 流
(InputStream)，而是<strong>数据流</strong>。</p>
<hr />
<h3 id="потоки-в-языке-java8.-определение-потоков.">1. Потоки в языке
Java8. Определение потоков.</h3>
<p><strong>Java 8 中的流。流的定义。</strong></p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Stream — это последовательность элементов, поддерживающая последовательные и параллельные операции агрегирования.</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: Stream 是支持串行和并行聚合操作的元素序列。</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> list <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span><span class="op">);</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Создание потока из коллекции.</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 从集合创建流。</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> stream <span class="op">=</span> list<span class="op">.</span><span class="fu">stream</span><span class="op">();</span> </span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>Stream</code>
(java.util.stream.Stream) — это не структура данных. Он не хранит
данные. Это инструмент для обработки данных (как конвейер на заводе).
<code>Stream</code> (java.util.stream.Stream)
不是数据结构。它不存储数据。它是用于处理数据的工具（就像工厂里的流水线）。</li>
</ul>
<hr />
<h3 id="отличие-операций-потоков-от-операций-коллекций.">2. Отличие
операций потоков от операций коллекций.</h3>
<p><strong>流操作与集合操作的区别。</strong></p>
<p>这是一个理论重点，考试常问。</p>
<p><strong>对比表 (Сравнение / Comparison):</strong></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>特性 (Feature)</th>
<th>集合 (Collections)</th>
<th>流 (Streams)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>主要目的 (Main Goal)</strong></td>
<td><strong>存储</strong>数据 (Storage)</td>
<td><strong>计算</strong>数据 (Computation)</td>
</tr>
<tr>
<td><strong>数据处理 (Processing)</strong></td>
<td>外部迭代 (External Iteration - <code>for-each</code>)</td>
<td>内部迭代 (Internal Iteration)</td>
</tr>
<tr>
<td><strong>数据量 (Size)</strong></td>
<td>有限 (Finite)</td>
<td>可以是无限的 (Can be infinite)</td>
</tr>
<tr>
<td><strong>修改 (Modification)</strong></td>
<td>可以修改元素 (Can modify)</td>
<td><strong>不修改</strong>源数据 (Does not modify source)</td>
</tr>
<tr>
<td><strong>执行时机 (Execution)</strong></td>
<td>立即执行 (Eager)</td>
<td><strong>延迟执行</strong> (Lazy)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Объяснение (解释):</strong> Коллекции — это про то, <em>как
хранить</em> данные (в памяти). Потоки — это про то, <em>как
вычислять</em> данные (процессинг). Потоки ленивы: они ничего не делают,
пока не вызвана терминальная операция.
集合关注的是<em>如何存储</em>数据（在内存中）。流关注的是<em>如何计算</em>数据（处理）。流是延迟的：在调用终端操作之前，它们什么也不做。</li>
</ul>
<hr />
<h3 id="обработка-данных-потока-в-конвейере.">3. Обработка данных потока
в конвейере.</h3>
<p><strong>在流水线中处理流数据。</strong></p>
<p>流的操作分为三个阶段，就像工厂流水线： <strong>Source (原料) -&gt;
Intermediate Ops (加工) -&gt; Terminal Op (成品)</strong></p>
<div class="sourceCode" id="cb106"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> names <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="st">&quot;Alice&quot;</span><span class="op">,</span> <span class="st">&quot;Bob&quot;</span><span class="op">,</span> <span class="st">&quot;Charlie&quot;</span><span class="op">,</span> <span class="st">&quot;David&quot;</span><span class="op">);</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>names<span class="op">.</span><span class="fu">stream</span><span class="op">()</span> <span class="co">// 1. Источник (Source / 源)</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>     <span class="op">.</span><span class="fu">filter</span><span class="op">(</span>s <span class="op">-&gt;</span> s<span class="op">.</span><span class="fu">startsWith</span><span class="op">(</span><span class="st">&quot;C&quot;</span><span class="op">))</span> <span class="co">// 2. Промежуточная операция (Intermediate / 中间操作)</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>     <span class="op">.</span><span class="fu">map</span><span class="op">(</span><span class="bu">String</span><span class="op">::</span>toUpperCase<span class="op">)</span>       <span class="co">// 2. Промежуточная операция (Intermediate / 中间操作)</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>     <span class="op">.</span><span class="fu">forEach</span><span class="op">(</span><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">::</span>println<span class="op">);</span>  <span class="co">// 3. Терминальная операция (Terminal / 终端操作)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Конвейер состоит из источника
(коллекция, массив), нуля или более промежуточных операций
(трансформация) и одной терминальной операции (результат).
流水线由源（集合、数组）、零个或多个中间操作（转换）和一个终端操作（结果）组成。</li>
</ul>
<hr />
<h3 id="методы-для-порождения-потоков.">4. Методы для порождения
потоков.</h3>
<p><strong>生成流的方法。</strong></p>
<div class="sourceCode" id="cb107"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Из коллекции (From Collection)</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> list <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">asList</span><span class="op">(</span><span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span><span class="op">);</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> s1 <span class="op">=</span> list<span class="op">.</span><span class="fu">stream</span><span class="op">();</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Из массива (From Array)</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span><span class="op">[]</span> arr <span class="op">=</span> <span class="op">{</span><span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span><span class="op">};</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> s2 <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">stream</span><span class="op">(</span>arr<span class="op">);</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Статический метод of() (Static method of)</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> s3 <span class="op">=</span> Stream<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span><span class="op">,</span> <span class="st">&quot;C&quot;</span><span class="op">);</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="co">// 4. Бесконечные потоки (Infinite Streams - для генерации)</span></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">Double</span><span class="op">&gt;</span> randoms <span class="op">=</span> Stream<span class="op">.</span><span class="fu">generate</span><span class="op">(</span><span class="bu">Math</span><span class="op">::</span>random<span class="op">);</span></span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> evens <span class="op">=</span> Stream<span class="op">.</span><span class="fu">iterate</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> n <span class="op">-&gt;</span> n <span class="op">+</span> <span class="dv">2</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Самый частый способ — вызов
<code>.stream()</code> у коллекции. Но можно создавать потоки и из
массивов, и даже генерировать бесконечные последовательности чисел.
最常用的方法是对集合调用
<code>.stream()</code>。但也可以从数组创建流，甚至生成无限的数字序列。</li>
</ul>
<hr />
<h3 id="методы-для-преобразования-потоков-в-конвейере-промежуточные.">5.
Методы для преобразования потоков в конвейере (Промежуточные).</h3>
<p><strong>在流水线中转换流的方法（中间操作）。</strong></p>
<p>这些操作返回一个新的 Stream，并且是<strong>惰性 (Lazy)</strong>
的。</p>
<div class="sourceCode" id="cb108"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> stream <span class="op">=</span> Stream<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">&quot;apple&quot;</span><span class="op">,</span> <span class="st">&quot;banana&quot;</span><span class="op">,</span> <span class="st">&quot;cherry&quot;</span><span class="op">,</span> <span class="st">&quot;apricot&quot;</span><span class="op">);</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>stream</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [A] filter: Фильтрация (Отсеивает лишнее)</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 过滤：保留以 &quot;a&quot; 开头的</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">filter</span><span class="op">(</span>s <span class="op">-&gt;</span> s<span class="op">.</span><span class="fu">startsWith</span><span class="op">(</span><span class="st">&quot;a&quot;</span><span class="op">))</span> </span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [B] map: Преобразование (Меняет каждый элемент)</span></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 映射：把每个字符串变成它的长度 (String -&gt; Integer)</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">map</span><span class="op">(</span>s <span class="op">-&gt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">())</span> </span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [C] sorted: Сортировка</span></span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 排序</span></span>
<span id="cb108-14"><a href="#cb108-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">sorted</span><span class="op">()</span></span>
<span id="cb108-15"><a href="#cb108-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb108-16"><a href="#cb108-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [D] distinct: Удаление дубликатов</span></span>
<span id="cb108-17"><a href="#cb108-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 去重</span></span>
<span id="cb108-18"><a href="#cb108-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">distinct</span><span class="op">()</span></span>
<span id="cb108-19"><a href="#cb108-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb108-20"><a href="#cb108-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [E] limit: Ограничение количества</span></span>
<span id="cb108-21"><a href="#cb108-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 限制：只取前 3 个</span></span>
<span id="cb108-22"><a href="#cb108-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">limit</span><span class="op">(</span><span class="dv">3</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Промежуточные операции
(Intermediate Operations) всегда возвращают новый поток. Они не
выполняются сразу, а лишь “настраивают” конвейер.
中间操作总是返回一个新的流。它们不会立即执行，而只是“配置”流水线。</li>
</ul>
<hr />
<h3 id="преобразования-в-конце-конвейера-терминальные.">6.
Преобразования в конце конвейера (Терминальные).</h3>
<p><strong>流水线末端的转换（终端操作）。</strong></p>
<p>这些操作会触发整个流水线的执行，并返回结果（不再是
Stream）。流一旦经过终端操作，就<strong>关闭</strong>了，不能再用了。</p>
<div class="sourceCode" id="cb109"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>Stream<span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> stream <span class="op">=</span> Stream<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">&quot;one&quot;</span><span class="op">,</span> <span class="st">&quot;two&quot;</span><span class="op">,</span> <span class="st">&quot;three&quot;</span><span class="op">);</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="co">// [A] forEach: Действие для каждого элемента (void)</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 对每个元素执行操作</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="co">// stream.forEach(System.out::println);</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="co">// [B] collect: Сбор результатов в коллекцию (List, Set)</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="co">// 将结果收集到集合中</span></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> resultList <span class="op">=</span> stream<span class="op">.</span><span class="fu">collect</span><span class="op">(</span>Collectors<span class="op">.</span><span class="fu">toList</span><span class="op">());</span></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="co">// [C] count: Подсчет количества элементов (long)</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="co">// 统计元素数量</span></span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a><span class="co">// long count = stream.count();</span></span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a><span class="co">// [D] reduce: Сведение всех элементов к одному значению (агрегация)</span></span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a><span class="co">// 将所有元素归约为一个值（聚合）</span></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a><span class="co">// Optional&lt;String&gt; concatenated = stream.reduce((s1, s2) -&gt; s1 + s2);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Терминальные операции (Terminal
Operations) запускают процесс обработки и возвращают результат
(коллекцию, число или void). После этого поток закрывается и его нельзя
использовать повторно. 终端操作启动处理过程并返回结果（集合、数字或
void）。此后流关闭，不能再次使用。</li>
</ul>
<hr />
<h1
id="модули-в-java-9.-назначение-модулей.-синтаксис-описания-модулей.-зависимость-от-модулей.-экспорт-пакетов-модуля.-открытость-модуля.">14.
Модули в Java 9. Назначение модулей. Синтаксис описания модулей.
Зависимость от модулей. Экспорт пакетов модуля. Открытость модуля.</h1>
<p>好的，我们进入 <strong>第 14 题 (Question 14)</strong> 。这是 Java 9
引入的“模块系统” (Project Jigsaw)，它的主要目的是解决“JAR 地狱” (JAR
Hell) 和打破单体架构。</p>
<p>这一题的重点在于理解 <code>module-info.java</code> 文件的写法。</p>
<hr />
<h3 id="назначение-модулей">1. Назначение модулей</h3>
<p><strong>模块的用途</strong></p>
<p>模块是比“包” (Package)
更高一级的封装单位。它是一组包和资源的集合。</p>
<ul>
<li><strong>解决 “Classpath Hell” (Решение проблемы Classpath):</strong>
在 Java 9 之前，所有类都混在一个大桶里
(Classpath)。如果两个库用了同一个类的不同版本，程序就会崩溃。模块明确了“我依赖谁，谁依赖我”。</li>
<li><strong>强封装 (Сильная инкапсуляция):</strong> 在 Java 8
中，<code>public</code> 类在任何地方都能被访问。在 Java 9 模块中，即使是
<code>public</code> 类，如果没有被<strong>导出
(exported)</strong>，外部模块也是看不见的。</li>
</ul>
<hr />
<h3 id="синтаксис-описания-модулей">2. Синтаксис описания модулей</h3>
<p><strong>模块描述的语法</strong></p>
<p>模块的定义必须放在一个名为 <code>module-info.java</code>
的特殊文件中，该文件位于源代码的根目录下。</p>
<div class="sourceCode" id="cb110"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 文件名: module-info.java</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Ключевое слово module + имя модуля</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 关键字 module + 模块名</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>module com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">mymodule</span> <span class="op">{</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Тело модуля</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 模块体</span></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Описание модуля находится в
файле <code>module-info.java</code>. Это декларация того, что модуль
требует для работы и что он предоставляет другим. 模块描述位于
<code>module-info.java</code>
文件中。它声明了该模块运行所需的内容以及它提供给其他模块的内容。</li>
</ul>
<hr />
<h3 id="зависимость-от-модулей-requires">3. Зависимость от модулей
(requires)</h3>
<p><strong>对模块的依赖</strong></p>
<p>如果你的模块需要使用别人的代码，必须显式声明。</p>
<div class="sourceCode" id="cb111"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>module com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">app</span> <span class="op">{</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Модуль требует модуль java.sql для работы.</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 该模块需要 java.sql 模块才能工作。</span></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>    requires java<span class="op">.</span><span class="fu">sql</span><span class="op">;</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: requires transitive означает, что тот, кто зависит от нас,</span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// автоматически получит зависимость и от com.mylib.core.</span></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: requires transitive 意味着依赖我们的模块也会自动依赖 com.mylib.core。</span></span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>    requires transitive com<span class="op">.</span><span class="fu">mylib</span><span class="op">.</span><span class="fu">core</span><span class="op">;</span></span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Директива <code>requires</code>
указывает, от каких других модулей зависит данный модуль. Без этого вы
не сможете использовать классы из этих модулей, даже если они public.
<code>requires</code>
指令指明当前模块依赖于哪些其他模块。如果没有它，即使类是 public
的，你也无法使用这些模块中的类。</li>
</ul>
<hr />
<h3 id="экспорт-пакетов-модуля-exports">4. Экспорт пакетов модуля
(exports)</h3>
<p><strong>导出模块的包</strong></p>
<p>默认情况下，模块里的所有包都是<strong>隐藏</strong>的。你想让别人用的包，必须“暴露”出来。</p>
<div class="sourceCode" id="cb112"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>module com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">utils</span> <span class="op">{</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Пакет com.mycompany.utils.api доступен всем.</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 包 com.mycompany.utils.api 对所有人可用。</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>    exports com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">utils</span><span class="op">.</span><span class="fu">api</span><span class="op">;</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Пакет com.mycompany.utils.internal СКРЫТ.</span></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Его нельзя использовать из других модулей!</span></span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 包 com.mycompany.utils.internal 是隐藏的。其他模块无法使用它！</span></span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// (Нет exports для internal)</span></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Экспорт только для конкретного друга.</span></span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 仅对特定的朋友导出。</span></span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>    exports com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">utils</span><span class="op">.</span><span class="fu">debug</span> to com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">test</span><span class="op">;</span></span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Директива <code>exports</code>
делает public классы в указанном пакете видимыми для других модулей.
Все, что не экспортировано, остается строго внутренним
(инкапсулированным). <code>exports</code> 指令使指定包中的 public
类对其他模块可见。所有未导出的内容都严格保持内部私有（封装）。</li>
</ul>
<hr />
<h3 id="открытость-модуля-openness">5. Открытость модуля (Openness)</h3>
<p><strong>模块的开放性</strong></p>
<p>这是一个难点。Java 9 默认禁止<strong>反射 (Reflection)</strong>
访问私有成员（这破坏了 Spring, Hibernate
等框架）。为了允许反射，我们需要“开放”模块。</p>
<p><strong>场景 A: 开放整个模块 (Open Module)</strong></p>
<div class="sourceCode" id="cb113"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Разрешает рефлексию (reflection) ко ВСЕМ пакетам модуля.</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 允许对模块内的“所有”包进行反射访问。</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>open module com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">entity</span> <span class="op">{</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><strong>场景 B: 开放特定包 (Opens Package)</strong></p>
<div class="sourceCode" id="cb114"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>module com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">service</span> <span class="op">{</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Разрешает рефлексию только к этому пакету (например, для Hibernate).</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 仅允许对该包进行反射访问（例如为了给 Hibernate 使用）。</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>    opens com<span class="op">.</span><span class="fu">mycompany</span><span class="op">.</span><span class="fu">service</span><span class="op">.</span><span class="fu">models</span><span class="op">;</span></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>opens</code> разрешает
доступ через рефлексию (Deep Reflection) к приватным полям и методам
пакета. <code>open module</code> делает это для всего модуля сразу. Это
критически важно для фреймворков. <code>opens</code>
允许通过反射（深度反射）访问包的私有字段和方法。<code>open module</code>
则是立刻对整个模块开放。这对框架来说至关重要。</li>
</ul>
<hr />
<h1 id="возможности-версий-java9-java17.">15. Возможности версий
Java9-Java17.</h1>
<p>这是 <strong>第 15 题 (Question 15)</strong>
的详细解答。虽然考纲中只写了标题，但这是面试和现代 Java
开发中非常热门的话题。</p>
<p>这道题考察的是你对 <strong>“现代 Java” (Modern Java)</strong>
语法的掌握程度。从 Java 9 到 Java 17
(LTS)，语法变得更简洁、更像脚本语言。</p>
<p>以下是考试中最可能问到的 6 个关键特性：</p>
<hr />
<h3 id="вывод-типов-локальных-переменных-var---java-10">1. Вывод типов
локальных переменных (var) - Java 10</h3>
<p><strong>局部变量类型推断 (var)</strong></p>
<p>Java 终于可以像 JavaScript 或 Kotlin 一样，让编译器自己猜类型了。</p>
<div class="sourceCode" id="cb115"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 9 (Old)</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="co">// String message = &quot;Hello&quot;;</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="co">// ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 10+ (New)</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testVar</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Компилятор сам понимает, что это String.</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 编译器自己明白这是 String。</span></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">var</span> message <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="op">;</span> </span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Очень удобно для длинных типов.</span></span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 对于很长的类型名非常方便。</span></span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">var</span> list <span class="op">=</span> <span class="kw">new</span> <span class="bu">ArrayList</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;();</span> </span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Ключевое слово <code>var</code>
позволяет не указывать тип переменной явно, если компилятор может
вывести его из правой части выражения. Работает <strong>только</strong>
внутри методов (локальные переменные). 关键字 <code>var</code>
允许你不显式指定变量类型，只要编译器能从表达式右侧推断出来。<strong>仅</strong>适用于方法内部（局部变量）。</li>
</ul>
<hr />
<h3 id="switch-выражения-switch-expressions---java-14">2. Switch
выражения (Switch Expressions) - Java 14</h3>
<p><strong>Switch 表达式</strong></p>
<p>旧的 <code>switch</code> 很笨重，容易漏写 <code>break</code>。新的
<code>switch</code> 可以返回值，而且语法更漂亮。</p>
<div class="sourceCode" id="cb116"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 14+</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">getDays</span><span class="op">(</span><span class="bu">String</span> day<span class="op">)</span> <span class="op">{</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Используем стрелку -&gt;. break не нужен! Возвращаем значение.</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 使用箭头 -&gt;。不需要 break！直接返回值。</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> numLetters <span class="op">=</span> <span class="cf">switch</span> <span class="op">(</span>day<span class="op">)</span> <span class="op">{</span></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="st">&quot;MONDAY&quot;</span><span class="op">,</span> <span class="st">&quot;FRIDAY&quot;</span><span class="op">,</span> <span class="st">&quot;SUNDAY&quot;</span> <span class="op">-&gt;</span> <span class="dv">6</span><span class="op">;</span></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="st">&quot;TUESDAY&quot;</span>                    <span class="op">-&gt;</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">default</span>                           <span class="op">-&gt;</span> day<span class="op">.</span><span class="fu">length</span><span class="op">();</span></span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">};</span></span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> numLetters<span class="op">;</span></span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Новый синтаксис
<code>switch</code> позволяет использовать его как выражение (возвращать
значение). Стрелочный синтаксис <code>-&gt;</code> предотвращает
случайное выполнение следующих кейсов (no fall-through). 新的
<code>switch</code> 语法允许将其用作表达式（返回值）。箭头语法
<code>-&gt;</code> 防止了意外执行后续的 case（消除了穿透效应）。</li>
</ul>
<hr />
<h3 id="текстовые-блоки-text-blocks---java-15">3. Текстовые блоки (Text
Blocks) - Java 15</h3>
<p><strong>文本块</strong></p>
<p>以前写 JSON 或 SQL 字符串简直是噩梦（全是 <code>\"</code> 和
<code>\n</code>）。现在可以用三个引号 <code>"""</code>。</p>
<div class="sourceCode" id="cb117"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 15+</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">testTextBlocks</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Многострочная строка без экранирования.</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 无需转义的多行字符串。</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> json <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="st">        {</span></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a><span class="st">            &quot;name&quot;: &quot;Java&quot;,</span></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a><span class="st">            &quot;version&quot;: 17</span></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a><span class="st">        &quot;&quot;&quot;</span><span class="op">;</span></span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Текстовые блоки
(<code>"""</code>) позволяют писать многострочные строки, сохраняя
форматирование и избегая лишнего экранирования кавычек. 文本块
(<code>"""</code>)
允许编写多行字符串，保留格式并避免不必要的引号转义。</li>
</ul>
<hr />
<h3
id="сопоставление-с-образцом-для-instanceof-pattern-matching---java-16">4.
Сопоставление с образцом для instanceof (Pattern Matching) - Java
16</h3>
<p><strong>instanceof 的模式匹配</strong></p>
<p>以前判断完类型还得强转，现在一步到位。</p>
<div class="sourceCode" id="cb118"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 16+</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">printLength</span><span class="op">(</span><span class="bu">Object</span> obj<span class="op">)</span> <span class="op">{</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Если obj это String, то сразу создается переменная &#39;s&#39;.</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 如果 obj 是 String，则立即创建变量 &#39;s&#39;。</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>obj <span class="kw">instanceof</span> <span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Не нужно делать (String) obj</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 不需要写 (String) obj</span></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>s<span class="op">.</span><span class="fu">length</span><span class="op">());</span></span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Эта фича устраняет необходимость
явного приведения типов (casting) после проверки
<code>instanceof</code>. Переменная создается автоматически.
此特性消除了在 <code>instanceof</code> 检查后进行显式类型转换 (casting)
的需要。变量会自动创建。</li>
</ul>
<hr />
<h3 id="записи-records---java-16">5. Записи (Records) - Java 16</h3>
<p><strong>记录类</strong></p>
<p>这是为了消灭样板代码（Boilerplate
Code）。如果你只是想存数据（DTO），不要再写
Getter/Setter/Equals/HashCode 了。</p>
<div class="sourceCode" id="cb119"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 16+</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Одной строкой мы создаем класс с полями, конструктором, геттерами, equals и toString.</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 只需一行，我们就创建了一个包含字段、构造器、Getters、equals 和 toString 的类。</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">record</span> <span class="bu">Point</span><span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> y<span class="op">)</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Использование:</span></span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a><span class="bu">Point</span> p <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">);</span></span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> x <span class="op">=</span> p<span class="op">.</span><span class="fu">x</span><span class="op">();</span> <span class="co">// Не getX(), а просто x()</span></span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>p<span class="op">);</span> <span class="co">// Point[x=10, y=20]</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>record</code> — это
компактный способ объявления неизменяемых (immutable) классов-носителей
данных. Компилятор автоматически генерирует конструктор, геттеры,
<code>equals</code>, <code>hashCode</code> и <code>toString</code>.
<code>record</code> 是一种声明不可变 (immutable)
数据载体类的紧凑方式。编译器会自动生成构造器、访问器、<code>equals</code>、<code>hashCode</code>
和 <code>toString</code>。</li>
</ul>
<hr />
<h3 id="запечатанные-классы-sealed-classes---java-17">6. Запечатанные
классы (Sealed Classes) - Java 17</h3>
<p><strong>密封类</strong></p>
<p>这让你能严格控制<strong>谁可以继承你</strong>。</p>
<div class="sourceCode" id="cb120"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Java 17+ (LTS)</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Мы разрешаем наследоваться ТОЛЬКО Circle и Square.</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 我们只允许 Circle 和 Square 继承此类。</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">sealed</span> <span class="kw">class</span> <span class="bu">Shape</span> <span class="kw">permits</span> Circle<span class="op">,</span> Square <span class="op">{</span> <span class="op">}</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a><span class="dt">final</span> <span class="kw">class</span> Circle <span class="kw">extends</span> <span class="bu">Shape</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="dt">final</span> <span class="kw">class</span> Square <span class="kw">extends</span> <span class="bu">Shape</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a><span class="co">// ❌ Ошибка компиляции: Triangle не в списке permits.</span></span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 编译错误：Triangle 不在 permits 列表中。</span></span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a><span class="co">// final class Triangle extends Shape { } </span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Запечатанные классы
(<code>sealed</code>) позволяют разработчику точно контролировать
иерархию наследования, указывая список разрешенных подклассов
(<code>permits</code>). 密封类 (<code>sealed</code>)
允许开发者通过指定允许的子类列表 (<code>permits</code>)
来精确控制继承层次结构。</li>
</ul>
<hr />
<h1
id="назначение-библиотеки-standard-widget-toolkit.-основные-классы-библиотеки.-класс-display.-класс-shell.-класс-composite.-класс-control.-цикл-событий-event-loop.">16.
Назначение библиотеки Standard Widget Toolkit. Основные классы
библиотеки. Класс Display. Класс Shell. Класс Composite. Класс Control.
Цикл событий (event loop).</h1>
<p>这是 <strong>第 16 题 (Question 16)</strong> 的完整解析。</p>
<p>这标志着考试内容从纯 Java 语言转到了
<strong>GUI（图形用户界面）开发</strong>。SWT (Standard Widget Toolkit)
是 Eclipse IDE 能够运行的基础，它的核心理念是“调用操作系统的原生
API”，这使得 SWT 程序看起来和原生程序一模一样，而且速度很快。</p>
<hr />
<h3 id="назначение-библиотеки-standard-widget-toolkit-swt">1. Назначение
библиотеки Standard Widget Toolkit (SWT)</h3>
<p><strong>Standard Widget Toolkit 库的用途</strong></p>
<div class="sourceCode" id="cb121"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Swing (Old Java GUI): Рисует кнопки сам (выглядят одинаково везде).</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Swing (旧 Java GUI): 自己绘制按钮（随处看起来都一样）。</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="co">// SWT: Вызывает операционную систему для создания кнопки.</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="co">// SWT: 调用操作系统来创建按钮。</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Windows -&gt; WinAPI</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Linux -&gt; GTK</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="co">// macOS -&gt; Cocoa</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> SWT — это библиотека для
создания графического интерфейса пользователя (GUI). Её главная цель —
обеспечить “родной” (native) вид и производительность приложений,
используя прямые вызовы API операционной системы. SWT
是一个用于构建图形用户界面 (GUI)
的库。它的主要目标是通过直接调用操作系统的
API，提供“原生”的外观和性能。</li>
</ul>
<hr />
<h3 id="основные-классы-библиотеки">2. Основные классы библиотеки</h3>
<p><strong>库的主要类</strong></p>
<p>SWT 的类层次结构非常严格，你需要记住以下继承关系： <strong>Widget
-&gt; Control -&gt; (Composite, Button, Label…)</strong></p>
<ul>
<li><p><strong>Widget (Виджет):</strong> Базовый абстрактный класс для
всех объектов UI.</p></li>
<li><p><strong>Control (Управляющий элемент):</strong> Виджет, имеющий
окно в ОС (handle).</p></li>
<li><p><strong>Composite (Композит):</strong> Контейнер, который может
содержать другие контролы.</p></li>
<li><p><strong>Shell (Окно):</strong> Главное окно приложения.</p></li>
<li><p><strong>Объяснение (解释):</strong> Вся иерархия начинается с
класса <code>Widget</code>. Все, что мы видим на экране (кнопки, метки,
окна), является наследниками <code>Control</code>. 整个层次结构从
<code>Widget</code>
类开始。我们在屏幕上看到的所有内容（按钮、标签、窗口）都是
<code>Control</code> 的子类。</p></li>
</ul>
<hr />
<h3 id="класс-display">3. Класс Display</h3>
<p><strong>Display 类</strong></p>
<div class="sourceCode" id="cb122"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Создается один раз на все приложение</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 整个应用程序只创建一个</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>Display display <span class="op">=</span> <span class="kw">new</span> <span class="fu">Display</span><span class="op">();</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Метод для связи с ОС</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="co">// 与操作系统通信的方法</span></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>display<span class="op">.</span><span class="fu">readAndDispatch</span><span class="op">();</span> </span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс <code>Display</code>
представляет собой связь между SWT и операционной системой. Он управляет
циклом событий и передает команды от мыши/клавиатуры в ваше приложение.
<code>Display</code> 类代表 SWT
与操作系统之间的连接。它管理事件循环，并将来自鼠标/键盘的命令传递给你的应用程序。</li>
</ul>
<hr />
<h3 id="класс-shell">4. Класс Shell</h3>
<p><strong>Shell 类</strong></p>
<div class="sourceCode" id="cb123"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Shell — это &quot;окно&quot;, которое видит пользователь</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Shell 是用户看到的“窗口”</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>Shell shell <span class="op">=</span> <span class="kw">new</span> <span class="fu">Shell</span><span class="op">(</span>display<span class="op">);</span></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>shell<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Exam Window&quot;</span><span class="op">);</span> <span class="co">// Заголовок окна (窗口标题)</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>shell<span class="op">.</span><span class="fu">setSize</span><span class="op">(</span><span class="dv">400</span><span class="op">,</span> <span class="dv">300</span><span class="op">);</span>      <span class="co">// Размер (尺寸)</span></span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Обязательно нужно открыть!</span></span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 必须打开！</span></span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a>shell<span class="op">.</span><span class="fu">open</span><span class="op">();</span> </span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>Shell</code> — это окно
верхнего уровня (окно приложения или диалоговое окно). Он служит корнем
для всех остальных элементов интерфейса. <code>Shell</code>
是顶层窗口（应用程序窗口或对话框）。它是所有其他界面元素的根节点。</li>
</ul>
<hr />
<h3 id="класс-composite">5. Класс Composite</h3>
<p><strong>Composite 类</strong></p>
<div class="sourceCode" id="cb124"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Composite — это контейнер (панель)</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Composite 是一个容器（面板）</span></span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Composite</span> panel <span class="op">=</span> <span class="kw">new</span> <span class="bu">Composite</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">BORDER</span><span class="op">);</span></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Мы кладем кнопку ВНУТРЬ панели (родитель - panel)</span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="co">// 我们把按钮放进面板“里面”（父级是 panel）</span></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> btn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>panel<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>Composite</code> — это
класс, который может содержать другие элементы управления
(<code>Controls</code>). Он используется для группировки виджетов и
создания сложной разметки. <code>Composite</code> 是一个可以包含其他控件
(<code>Controls</code>)
的类。它用于对小部件进行分组并创建复杂的布局。</li>
</ul>
<hr />
<h3 id="класс-control">6. Класс Control</h3>
<p><strong>Control 类</strong></p>
<div class="sourceCode" id="cb125"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Control - это родитель для Button, Label, Text и т.д.</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Control 是 Button, Label, Text 等的父类</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Control</span> myControl <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Методы класса Control (общие для всех):</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Control 类的方法（所有控件通用）：</span></span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>myControl<span class="op">.</span><span class="fu">setVisible</span><span class="op">(</span><span class="kw">true</span><span class="op">);</span>   <span class="co">// Видимость (可见性)</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>myControl<span class="op">.</span><span class="fu">setEnabled</span><span class="op">(</span><span class="kw">false</span><span class="op">);</span>  <span class="co">// Активность (启用/禁用)</span></span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a>myControl<span class="op">.</span><span class="fu">setBackground</span><span class="op">(</span><span class="bu">Color</span><span class="op">.</span><span class="fu">RED</span><span class="op">);</span> <span class="co">// Цвет фона (背景色)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>Control</code> — это
абстрактный класс для всех элементов GUI, которые имеют графическое
представление (окно) в операционной системе. У него есть размеры,
позиция, цвет и шрифт. <code>Control</code>
是所有在操作系统中具有图形表示（窗口句柄）的 GUI
元素的抽象类。它具有大小、位置、颜色和字体等属性。</li>
</ul>
<hr />
<h3 id="цикл-событий-event-loop">7. Цикл событий (Event Loop)</h3>
<p><strong>事件循环</strong></p>
<p>这是 SWT 程序最核心的<strong>“样板代码” (Boilerplate
Code)</strong>。如果考试让你写一个“最小的 SWT
程序”，你必须写出这段代码。</p>
<div class="sourceCode" id="cb126"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>    Display display <span class="op">=</span> <span class="kw">new</span> <span class="fu">Display</span><span class="op">();</span> <span class="co">// 1. Связь с ОС</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>    Shell shell <span class="op">=</span> <span class="kw">new</span> <span class="fu">Shell</span><span class="op">(</span>display<span class="op">);</span> <span class="co">// 2. Окно</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>    shell<span class="op">.</span><span class="fu">open</span><span class="op">();</span> <span class="co">// 3. Показать окно</span></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// === EVENT LOOP (ЦИКЛ СОБЫТИЙ) ===</span></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Пока окно не уничтожено...</span></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 只要窗口没有被销毁……</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(!</span>shell<span class="op">.</span><span class="fu">isDisposed</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ...читай события (клики, нажатия) и обрабатывай их.</span></span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ...读取事件（点击、按键）并处理它们。</span></span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Если событий нет, спи (sleep), чтобы не грузить процессор.</span></span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 如果没有事件，就休眠 (sleep)，以免占用 CPU。</span></span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>display<span class="op">.</span><span class="fu">readAndDispatch</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb126-16"><a href="#cb126-16" aria-hidden="true" tabindex="-1"></a>            display<span class="op">.</span><span class="fu">sleep</span><span class="op">();</span></span>
<span id="cb126-17"><a href="#cb126-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb126-18"><a href="#cb126-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb126-19"><a href="#cb126-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb126-20"><a href="#cb126-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Освобождение ресурсов (Обязательно!)</span></span>
<span id="cb126-21"><a href="#cb126-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 释放资源（必须！）</span></span>
<span id="cb126-22"><a href="#cb126-22" aria-hidden="true" tabindex="-1"></a>    display<span class="op">.</span><span class="fu">dispose</span><span class="op">();</span></span>
<span id="cb126-23"><a href="#cb126-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Цикл событий — это бесконечный
цикл, который ждет действий пользователя (событий) от операционной
системы и передает их соответствующим виджетам. Без этого цикла
программа откроется и сразу закроется.
事件循环是一个无限循环，它等待来自操作系统的用户操作（事件）并将它们传递给相应的小部件。没有这个循环，程序打开后会立即关闭。</li>
</ul>
<hr />
<h1
id="пакеты-библиотеки-standard-widget-toolkit.-класс-swt.-иерархия-управляющих-элементов.-конструкторы-и-стили-управляющих-элементов.">17.
Пакеты библиотеки Standard Widget Toolkit. Класс SWT. Иерархия
управляющих элементов. Конструкторы и стили управляющих элементов.</h1>
<p>这是 <strong>第 17 题 (Question 17)</strong> 的详细解析。</p>
<p>这道题考察的是 SWT
开发的“语法基础”。如果你不懂这一题，连最基本的按钮都写不出来。核心在于理解
<strong>SWT 类</strong>（那个装满常量的类）以及 <strong>构造器</strong>
的独特写法。</p>
<hr />
<h3 id="пакеты-библиотеки-standard-widget-toolkit">1. Пакеты библиотеки
Standard Widget Toolkit</h3>
<p><strong>SWT 库的包结构</strong></p>
<p>SWT 的包组织得非常扁平化，没有 Swing 那么深。</p>
<div class="sourceCode" id="cb127"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Главный пакет с константами (Самый важный!)</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] 包含常量的核心包（最重要的！）</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">org</span><span class="op">.</span><span class="im">eclipse</span><span class="op">.</span><span class="im">swt</span><span class="op">.</span><span class="im">SWT</span><span class="op">;</span> </span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Пакет с виджетами (Кнопки, Окна, Метки)</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] 包含小部件的包（按钮、窗口、标签）</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">org</span><span class="op">.</span><span class="im">eclipse</span><span class="op">.</span><span class="im">swt</span><span class="op">.</span><span class="im">widgets</span><span class="op">.*;</span> </span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="co">// [3] Пакет с менеджерами компоновки (Расположение элементов)</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="co">// [3] 布局管理器包（元素排列）</span></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">org</span><span class="op">.</span><span class="im">eclipse</span><span class="op">.</span><span class="im">swt</span><span class="op">.</span><span class="im">layout</span><span class="op">.*;</span> </span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a><span class="co">// [4] Пакет для обработки событий (Клики мыши, клавиатура)</span></span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a><span class="co">// [4] 事件处理包（鼠标点击、键盘）</span></span>
<span id="cb127-15"><a href="#cb127-15" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">org</span><span class="op">.</span><span class="im">eclipse</span><span class="op">.</span><span class="im">swt</span><span class="op">.</span><span class="im">events</span><span class="op">.*;</span> </span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> В отличие от AWT/Swing, где
классы разбросаны, в SWT почти все визуальные компоненты живут в
<code>org.eclipse.swt.widgets</code>. 与 AWT/Swing 类分散不同，在 SWT
中，几乎所有的可视化组件都居住在 <code>org.eclipse.swt.widgets</code>
中。</li>
</ul>
<hr />
<h3 id="класс-swt">2. Класс SWT</h3>
<p><strong>SWT 类 (常量类)</strong></p>
<p>这是一个非常特殊的类。它<strong>不是</strong>用来创建对象的，它是用来存放<strong>常量
(Constants)</strong> 的。</p>
<div class="sourceCode" id="cb128"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Класс SWT содержит тысячи констант для настройки стиля.</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: SWT 类包含数千个用于配置样式的常量。</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Пример использования (使用示例):</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> style <span class="op">=</span> SWT<span class="op">.</span><span class="fu">BORDER</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">READ_ONLY</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">CENTER</span><span class="op">;</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс
<code>org.eclipse.swt.SWT</code> — это просто “мешок” с константами
(<code>static final int</code>). Вы используете их, чтобы задать внешний
вид и поведение виджетов (например, <code>SWT.PUSH</code> для кнопки или
<code>SWT.BOLD</code> для шрифта). <code>org.eclipse.swt.SWT</code>
类只是一个装满常量 (<code>static final int</code>)
的“袋子”。你使用它们来定义小部件的外观和行为（例如，按钮用
<code>SWT.PUSH</code>，字体用 <code>SWT.BOLD</code>）。</li>
</ul>
<hr />
<h3 id="иерархия-управляющих-элементов">3. Иерархия управляющих
элементов</h3>
<p><strong>控件的层次结构</strong></p>
<p>这是考试中需要背诵的继承树：</p>
<pre class="text"><code>java.lang.Object
  |
  +-- org.eclipse.swt.widgets.Widget (Базовый класс / 基类)
        |
        +-- org.eclipse.swt.widgets.Control (Есть окно ОС / 拥有系统窗口)
              |
              +-- org.eclipse.swt.widgets.Scrollable (Есть полосы прокрутки / 有滚动条)
                    |
                    +-- org.eclipse.swt.widgets.Composite (Контейнер / 容器)
                    |     |
                    |     +-- Shell (Окно / 窗口)
                    |     +-- Canvas (Холст / 画布)
                    |
                    +-- Button, Label, Text, List (Листовые элементы / 叶子节点元素)
</code></pre>
<ul>
<li><strong>Объяснение (解释):</strong></li>
<li><strong>Widget:</strong> База для всего. Отвечает за освобождение
ресурсов (<code>dispose</code>).</li>
<li><strong>Control:</strong> Элемент, у которого есть “ручка” (handle)
в операционной системе. Его можно двигать и красить.</li>
<li><strong>Composite:</strong> Элемент, который может содержать
<em>другие</em> элементы (родитель).</li>
<li><strong>Widget:</strong> 一切的基础。负责资源释放
(<code>dispose</code>)。</li>
<li><strong>Control:</strong> 在操作系统中拥有“句柄” (handle)
的元素。可以移动和着色。</li>
<li><strong>Composite:</strong>
可以包含<em>其他</em>元素的元素（父容器）。</li>
</ul>
<hr />
<h3 id="конструкторы-и-стили-управляющих-элементов">4. Конструкторы и
стили управляющих элементов</h3>
<p><strong>控件的构造器和样式</strong></p>
<p>这是 SWT
最独特的规则：<strong>“父级在构造时确定，且不可更改”</strong>。</p>
<h4 id="构造器语法-constructor-syntax">构造器语法 (Constructor
Syntax)</h4>
<div class="sourceCode" id="cb130"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Общий вид конструктора:</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 构造器的通用形式：</span></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="fu">ClassName</span><span class="op">(</span><span class="bu">Composite</span> parent<span class="op">,</span> <span class="dt">int</span> style<span class="op">)</span> <span class="op">{</span> <span class="kw">...</span> <span class="op">}</span></span></code></pre></div>
<h4 id="代码示例-code-example">代码示例 (Code Example)</h4>
<div class="sourceCode" id="cb131"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">createWidgets</span><span class="op">(</span>Shell shell<span class="op">)</span> <span class="op">{</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Кнопка (Button)</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Родитель: shell</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Стиль: SWT.PUSH (обычная кнопка)</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Button</span> btn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>    btn<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Click Me&quot;</span><span class="op">);</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 2. Текстовое поле (Text)</span></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------</span></span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Стиль: SWT.BORDER (рамка) | SWT.PASSWORD (звездочки вместо букв)</span></span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Мы комбинируем стили с помощью побитового ИЛИ (|)</span></span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 我们使用按位或 (|) 来组合样式</span></span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Text</span> password <span class="op">=</span> <span class="kw">new</span> <span class="bu">Text</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">BORDER</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">PASSWORD</span><span class="op">);</span></span>
<span id="cb131-17"><a href="#cb131-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-18"><a href="#cb131-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------</span></span>
<span id="cb131-19"><a href="#cb131-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 3. Метка (Label)</span></span>
<span id="cb131-20"><a href="#cb131-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ---------------------------------------------------------</span></span>
<span id="cb131-21"><a href="#cb131-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Стиль: SWT.NONE (стиль по умолчанию)</span></span>
<span id="cb131-22"><a href="#cb131-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Label</span> label <span class="op">=</span> <span class="kw">new</span> <span class="bu">Label</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">NONE</span><span class="op">);</span></span>
<span id="cb131-23"><a href="#cb131-23" aria-hidden="true" tabindex="-1"></a>    label<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Enter Password:&quot;</span><span class="op">);</span></span>
<span id="cb131-24"><a href="#cb131-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong></li>
</ul>
<ol type="1">
<li><strong>Parent (Родитель):</strong> В отличие от Swing (где мы
делаем <code>add()</code>), в SWT мы передаем родителя
<strong>сразу</strong> в конструктор. Ребенок “приклеивается” к родителю
навсегда.</li>
<li><strong>Style (Стиль):</strong> Это битовая маска (int). Если нужно
несколько стилей, их объединяют через <code>|</code>.</li>
<li><strong>Parent (父级):</strong> 与 Swing（我们需要调用
<code>add()</code>）不同，在 SWT
中，我们<strong>立即</strong>将父级传递给构造器。子元素永远“粘”在父元素上。</li>
<li><strong>Style (样式):</strong> 这是一个位掩码
(int)。如果需要多个样式，用 <code>|</code> 将它们合并。</li>
</ol>
<hr />
<h1
id="класс-widget-библиотеки-standard-widget-toolkit.-освобождение-ресурсов-графики-и-управляющих-элементов.-класс-control.-конструктор-стили-события-характерные-методы-класса-control.">18.
Класс Widget библиотеки Standard Widget Toolkit. Освобождение ресурсов
графики и управляющих элементов. Класс Control. Конструктор, стили,
события, характерные методы класса Control.</h1>
<p>这是 <strong>第 18 题 (Question 18)</strong> 的详细解析 。</p>
<p>这道题考察的是 SWT
最底层的机制：<strong>资源管理</strong>。如果不理解这一点，写的程序运行一会儿就会因为内存泄漏（准确说是操作系统句柄耗尽）而崩溃。</p>
<hr />
<h3 id="класс-widget-библиотеки-standard-widget-toolkit">1. Класс Widget
библиотеки Standard Widget Toolkit</h3>
<p><strong>Standard Widget Toolkit 库的 Widget 类</strong></p>
<p><code>Widget</code> 是所有 SWT UI
组件的<strong>老祖宗</strong>（抽象基类）。</p>
<div class="sourceCode" id="cb132"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">abstract</span> <span class="kw">class</span> Widget <span class="op">{</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Главный метод. Возвращает true, если виджет уже уничтожен.</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 核心方法。如果小部件已被销毁，则返回 true。</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">isDisposed</span><span class="op">();</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Освобождает ресурсы ОС, связанные с этим виджетом.</span></span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 释放与此小部件关联的操作系统资源。</span></span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">dispose</span><span class="op">();</span></span>
<span id="cb132-10"><a href="#cb132-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb132-11"><a href="#cb132-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>Widget</code> — это корень
иерархии. Он не обязательно имеет “тело” на экране (например,
<code>TreeItem</code> — это Widget, но не Control). Его главная задача —
связь с операционной системой. <code>Widget</code>
是层次结构的根。它不一定在屏幕上有“实体”（例如 <code>TreeItem</code> 是
Widget，但不是 Control）。它的主要任务是与操作系统通信。</li>
</ul>
<hr />
<h3 id="освобождение-ресурсов-графики-и-управляющих-элементов">2.
Освобождение ресурсов графики и управляющих элементов</h3>
<p><strong>释放图形和控件资源</strong></p>
<p>这是 SWT 与 Swing/JavaFX 最大的不同点。<strong>Java 的垃圾回收器 (GC)
管不了操作系统的资源！</strong></p>
<p><strong>两大原则 (Два правила):</strong></p>
<ol type="1">
<li><strong>Rule 1:</strong> 如果你 <code>new</code> 了一个 SWT
对象（特别是 <code>Color</code>, <code>Font</code>,
<code>Image</code>），你必须负责 <code>dispose()</code> 它。</li>
<li><strong>Rule 2:</strong>
对于控件（Controls），如果你销毁了父级（Parent），子级会自动被销毁。</li>
</ol>
<div class="sourceCode" id="cb133"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">resourceManagementDemo</span><span class="op">(</span>Shell shell<span class="op">)</span> <span class="op">{</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [1] Создаем ресурс (Цвет)</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [1] 创建资源（颜色）</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Мы используем &quot;new&quot;, значит мы обязаны вызвать dispose().</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 我们使用了 &quot;new&quot;，这意味着我们必须负责调用 dispose()。</span></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Color</span> redColor <span class="op">=</span> <span class="kw">new</span> <span class="bu">Color</span><span class="op">(</span>shell<span class="op">.</span><span class="fu">getDisplay</span><span class="op">(),</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Button</span> btn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>    btn<span class="op">.</span><span class="fu">setBackground</span><span class="op">(</span>redColor<span class="op">);</span> <span class="co">// Используем ресурс (使用资源)</span></span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [2] Правильное освобождение (Correct Disposal)</span></span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Когда окно закрывается, мы должны удалить цвет.</span></span>
<span id="cb133-13"><a href="#cb133-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 当窗口关闭时，我们要手动删除颜色。</span></span>
<span id="cb133-14"><a href="#cb133-14" aria-hidden="true" tabindex="-1"></a>    shell<span class="op">.</span><span class="fu">addDisposeListener</span><span class="op">(</span>e <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb133-15"><a href="#cb133-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Проверяем, не удален ли он уже (检查是否已被删除)</span></span>
<span id="cb133-16"><a href="#cb133-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>redColor<span class="op">.</span><span class="fu">isDisposed</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb133-17"><a href="#cb133-17" aria-hidden="true" tabindex="-1"></a>            redColor<span class="op">.</span><span class="fu">dispose</span><span class="op">();</span> <span class="co">// Обязательно! (必须！)</span></span>
<span id="cb133-18"><a href="#cb133-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb133-19"><a href="#cb133-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span>
<span id="cb133-20"><a href="#cb133-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> В Java есть Garbage Collector,
но он управляет только памятью Java. SWT использует ресурсы ОС
(дескрипторы/handles). Если их не освободить методом
<code>dispose()</code>, приложение “потечет” и может зависнуть. Java
有垃圾回收器，但它只管理 Java 内存。SWT
使用操作系统资源（句柄）。如果不通过 <code>dispose()</code>
释放它们，应用程序会发生“泄漏”并可能卡死。</li>
</ul>
<hr />
<h3 id="класс-control-1">3. Класс Control</h3>
<p><strong>Control 类</strong></p>
<p><code>Control</code> 继承自
<code>Widget</code>。它是所有<strong>可见</strong>元素的父类（有窗口句柄）。</p>
<ul>
<li><strong>继承链:</strong> <code>Widget</code> -&gt;
<code>Control</code> -&gt; (<code>Button</code>, <code>Label</code>,
<code>Composite</code>…)</li>
<li><strong>本质:</strong>
凡是能在屏幕上画出来、能接受鼠标键盘事件的东西，都是
<code>Control</code>。</li>
</ul>
<hr />
<h3 id="конструктор-стили-события-класса-control">4. Конструктор, стили,
события класса Control</h3>
<p><strong>Control 类的构造器、样式和事件</strong></p>
<h4 id="a.-конструктор-constructor">A. Конструктор (Constructor)</h4>
<p>SWT 强制要求在构造时指定父级。</p>
<div class="sourceCode" id="cb134"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co">// public Control(Composite parent, int style)</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Родитель обязателен. Стиль обязателен (можно передать SWT.NONE).</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 父级是必须的。样式是必须的（可以传 SWT.NONE）。</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Control</span> button <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span></code></pre></div>
<h4 id="b.-стили-styles">B. Стили (Styles)</h4>
<p>样式定义了控件的初始外观。</p>
<div class="sourceCode" id="cb135"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Битовая маска стилей.</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 样式的位掩码。</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> style <span class="op">=</span> SWT<span class="op">.</span><span class="fu">BORDER</span>      <span class="co">// Рамка (边框)</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>          <span class="op">|</span> SWT<span class="op">.</span><span class="fu">LEFT</span>        <span class="co">// Выравнивание по левому краю (左对齐)</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>          <span class="op">|</span> SWT<span class="op">.</span><span class="fu">READ_ONLY</span><span class="op">;</span>  <span class="co">// Только для чтения (只读)</span></span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a><span class="bu">Text</span> text <span class="op">=</span> <span class="kw">new</span> <span class="bu">Text</span><span class="op">(</span>shell<span class="op">,</span> style<span class="op">);</span></span></code></pre></div>
<h4 id="c.-события-events">C. События (Events)</h4>
<p><code>Control</code>
处理通用的交互事件（鼠标、键盘、焦点、绘制）。</p>
<div class="sourceCode" id="cb136"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> btn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Типизированный слушатель (Typed Listener) - проще использовать</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] 类型化监听器 - 使用更简单</span></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>btn<span class="op">.</span><span class="fu">addMouseListener</span><span class="op">(</span><span class="kw">new</span> <span class="bu">MouseAdapter</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">mouseDown</span><span class="op">(</span><span class="bu">MouseEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Click!&quot;</span><span class="op">);</span></span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span>
<span id="cb136-11"><a href="#cb136-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-12"><a href="#cb136-12" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Универсальный слушатель (Untyped Listener) - более гибкий</span></span>
<span id="cb136-13"><a href="#cb136-13" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] 通用监听器 - 更灵活</span></span>
<span id="cb136-14"><a href="#cb136-14" aria-hidden="true" tabindex="-1"></a>btn<span class="op">.</span><span class="fu">addListener</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">MouseDown</span><span class="op">,</span> event <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb136-15"><a href="#cb136-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Low level click handling&quot;</span><span class="op">);</span></span>
<span id="cb136-16"><a href="#cb136-16" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<hr />
<h3 id="характерные-методы-класса-control">5. Характерные методы класса
Control</h3>
<p><strong>Control 类的特征方法</strong></p>
<p>这些是所有控件（按钮、文本框、列表）通用的方法。</p>
<div class="sourceCode" id="cb137"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">manipulateControl</span><span class="op">(</span><span class="bu">Control</span> ctrl<span class="op">)</span> <span class="op">{</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Геометрия (Geometry / 几何属性)</span></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setSize</span><span class="op">(</span><span class="dv">100</span><span class="op">,</span> <span class="dv">50</span><span class="op">);</span>      <span class="co">// Размер (尺寸)</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setLocation</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">);</span>   <span class="co">// Позиция (位置)</span></span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// или (or)</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setBounds</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">50</span><span class="op">);</span> </span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 2. Состояние (State / 状态)</span></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setVisible</span><span class="op">(</span><span class="kw">true</span><span class="op">);</span>      <span class="co">// Показать/Скрыть (显示/隐藏)</span></span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setEnabled</span><span class="op">(</span><span class="kw">false</span><span class="op">);</span>     <span class="co">// Активен/Неактивен (Серя кнопка) (启用/禁用)</span></span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-12"><a href="#cb137-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 3. Внешний вид (Appearance / 外观)</span></span>
<span id="cb137-13"><a href="#cb137-13" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setBackground</span><span class="op">(</span><span class="kw">new</span> <span class="bu">Color</span><span class="op">(</span><span class="kw">null</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">));</span> <span class="co">// Фон (背景)</span></span>
<span id="cb137-14"><a href="#cb137-14" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setForeground</span><span class="op">(</span><span class="kw">new</span> <span class="bu">Color</span><span class="op">(</span><span class="kw">null</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">));</span>   <span class="co">// Текст (前景色/文字颜色)</span></span>
<span id="cb137-15"><a href="#cb137-15" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setToolTipText</span><span class="op">(</span><span class="st">&quot;Это подсказка&quot;</span><span class="op">);</span>           <span class="co">// Подсказка (工具提示)</span></span>
<span id="cb137-16"><a href="#cb137-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-17"><a href="#cb137-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 4. Фокус (Focus / 焦点)</span></span>
<span id="cb137-18"><a href="#cb137-18" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setFocus</span><span class="op">();</span> <span class="co">// Запросить фокус ввода (请求输入焦点)</span></span>
<span id="cb137-19"><a href="#cb137-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb137-20"><a href="#cb137-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 5. Данные (Data / 数据)</span></span>
<span id="cb137-21"><a href="#cb137-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Можно прикрепить любой объект к контролу (как тег).</span></span>
<span id="cb137-22"><a href="#cb137-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 可以把任何对象绑定到控件上（像标签一样）。</span></span>
<span id="cb137-23"><a href="#cb137-23" aria-hidden="true" tabindex="-1"></a>    ctrl<span class="op">.</span><span class="fu">setData</span><span class="op">(</span><span class="st">&quot;MyID&quot;</span><span class="op">,</span> <span class="dv">12345</span><span class="op">);</span></span>
<span id="cb137-24"><a href="#cb137-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h1
id="класс-shell.-конструктор-стили-события-характерные-методы-класса-shell.-класс-composite.-конструктор-стили-события-характерные-методы-класса-composite.-класс-canvas.-конструктор-стили-события-характерные-методы-класса-canvas.">19.
Класс Shell. Конструктор, стили, события, характерные методы класса
Shell. Класс Composite. Конструктор, стили, события, характерные методы
класса Composite. Класс Canvas. Конструктор, стили, события, характерные
методы класса Canvas.</h1>
<p>这是 <strong>第 19 题 (Question 19)</strong> 的详细解析。</p>
<p>这道题涵盖了构建 GUI 界面最核心的三个“容器级”组件：<strong>窗口
(Shell)</strong>、<strong>容器 (Composite)</strong> 和 <strong>画布
(Canvas)</strong>。</p>
<hr />
<h3 id="класс-shell-окно">1. Класс Shell (Окно)</h3>
<p><strong>Shell 类（窗口）</strong></p>
<p><code>Shell</code>
代表应用程序的一个窗口。它是所有其他控件的“根”。</p>
<h4 id="a.-конструктор-и-создание-构造器与创建">A. Конструктор и
создание (构造器与创建)</h4>
<div class="sourceCode" id="cb138"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Главное окно приложения (Main Window)</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] 应用程序的主窗口</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>Display display <span class="op">=</span> <span class="kw">new</span> <span class="fu">Display</span><span class="op">();</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>Shell mainShell <span class="op">=</span> <span class="kw">new</span> <span class="fu">Shell</span><span class="op">(</span>display<span class="op">,</span> SWT<span class="op">.</span><span class="fu">SHELL_TRIM</span><span class="op">);</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Диалоговое окно (Dialog Window)</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] 对话框窗口（依赖于主窗口）</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Модальное окно (блокирует родителя)</span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 模态窗口（阻塞父窗口）</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>Shell dialog <span class="op">=</span> <span class="kw">new</span> <span class="fu">Shell</span><span class="op">(</span>mainShell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">DIALOG_TRIM</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">APPLICATION_MODAL</span><span class="op">);</span></span></code></pre></div>
<h4 id="b.-стили-styles-1">B. Стили (Styles)</h4>
<p><code>Shell</code> 的样式决定了窗口的行为和外观。</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr>
<th>样式 (Style)</th>
<th>说明 (Description)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SWT.SHELL_TRIM</code></td>
<td><strong>标准窗口</strong> (标题栏 + 最小化 + 最大化 + 关闭 +
可调整大小)。</td>
</tr>
<tr>
<td><code>SWT.DIALOG_TRIM</code></td>
<td><strong>对话框标准</strong> (标题栏 + 关闭按钮 + 边框)。</td>
</tr>
<tr>
<td><code>SWT.NO_TRIM</code></td>
<td><strong>无边框窗口</strong> (没有任何装饰，通常用于启动画面 Splash
Screen)。</td>
</tr>
<tr>
<td><code>SWT.ON_TOP</code></td>
<td><strong>总在最前</strong> (Always on top)。</td>
</tr>
<tr>
<td><code>SWT.RESIZE</code></td>
<td><strong>可调整大小</strong>。</td>
</tr>
<tr>
<td><code>SWT.APPLICATION_MODAL</code></td>
<td><strong>模态</strong> (用户必须先关闭此窗口才能操作其他窗口)。</td>
</tr>
</tbody>
</table>
<h4 id="c.-характерные-методы-特征方法">C. Характерные методы
(特征方法)</h4>
<div class="sourceCode" id="cb139"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>mainShell<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;My Application&quot;</span><span class="op">);</span> <span class="co">// Заголовок (标题)</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>mainShell<span class="op">.</span><span class="fu">setImage</span><span class="op">(</span><span class="kw">new</span> <span class="bu">Image</span><span class="op">(</span>display<span class="op">,</span> <span class="st">&quot;icon.png&quot;</span><span class="op">));</span> <span class="co">// Иконка (图标)</span></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>mainShell<span class="op">.</span><span class="fu">pack</span><span class="op">();</span> <span class="co">// Подогнать размер под содержимое (根据内容自动调整大小)</span></span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="co">// ИЛИ (OR)</span></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>mainShell<span class="op">.</span><span class="fu">setSize</span><span class="op">(</span><span class="dv">800</span><span class="op">,</span> <span class="dv">600</span><span class="op">);</span> <span class="co">// Явный размер (显式设置大小)</span></span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>mainShell<span class="op">.</span><span class="fu">open</span><span class="op">();</span> <span class="co">// Сделать видимым и активным (显示并激活)</span></span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a>mainShell<span class="op">.</span><span class="fu">close</span><span class="op">();</span> <span class="co">// Закрыть (запускает событие dispose) (关闭)</span></span></code></pre></div>
<h4 id="d.-события-events">D. События (Events)</h4>
<p>主要通过 <code>ShellListener</code> 处理。</p>
<ul>
<li><code>shellClosed</code>:
当用户点击“X”关闭按钮时触发（可以在这里拦截关闭，比如弹出“是否保存？”）。</li>
<li><code>shellActivated</code>: 窗口获得焦点。</li>
</ul>
<hr />
<h3 id="класс-composite-композит-контейнер">2. Класс Composite (Композит
/ Контейнер)</h3>
<p><strong>Composite 类（复合容器）</strong></p>
<p><code>Composite</code>
是所有可以包含其他控件的控件的父类。你可以把它想象成 HTML 中的
<code>&lt;div&gt;</code> 或者 Swing 中的 <code>JPanel</code>。</p>
<h4 id="a.-конструктор-constructor-1">A. Конструктор (Constructor)</h4>
<div class="sourceCode" id="cb140"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Всегда нужен родитель!</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 永远需要父级！</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Composite</span> panel <span class="op">=</span> <span class="kw">new</span> <span class="bu">Composite</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">BORDER</span><span class="op">);</span></span></code></pre></div>
<h4 id="b.-стили-styles-2">B. Стили (Styles)</h4>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr>
<th>样式 (Style)</th>
<th>说明 (Description)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SWT.BORDER</code></td>
<td><strong>边框</strong> (在面板周围画一条线)。</td>
</tr>
<tr>
<td><code>SWT.NO_BACKGROUND</code></td>
<td><strong>无背景</strong>
(不绘制背景，用于防止闪烁或自定义绘制)。</td>
</tr>
<tr>
<td><code>SWT.NO_FOCUS</code></td>
<td><strong>无焦点</strong> (此面板不接受键盘焦点)。</td>
</tr>
<tr>
<td><code>SWT.DOUBLE_BUFFERED</code></td>
<td><strong>双重缓冲</strong> (用于消除绘图闪烁)。</td>
</tr>
</tbody>
</table>
<h4 id="c.-характерные-методы-特征方法-1">C. Характерные методы
(特征方法)</h4>
<p><code>Composite</code> 的核心功能是<strong>布局管理 (Layout
Management)</strong>。</p>
<div class="sourceCode" id="cb141"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Установка Layout (布局)</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Говорим, как располагать детей внутри.</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 告诉它如何排列内部的子元素。</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>panel<span class="op">.</span><span class="fu">setLayout</span><span class="op">(</span><span class="kw">new</span> <span class="bu">GridLayout</span><span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="kw">false</span><span class="op">));</span> </span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Управление детьми (Children Management)</span></span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a><span class="bu">Control</span><span class="op">[]</span> children <span class="op">=</span> panel<span class="op">.</span><span class="fu">getChildren</span><span class="op">();</span> <span class="co">// Получить все элементы внутри (获取内部所有元素)</span></span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Обновление (Refresh)</span></span>
<span id="cb141-10"><a href="#cb141-10" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Если вы добавили кнопку динамически, нужно пересчитать размеры.</span></span>
<span id="cb141-11"><a href="#cb141-11" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 如果你动态添加了按钮，需要重新计算尺寸。</span></span>
<span id="cb141-12"><a href="#cb141-12" aria-hidden="true" tabindex="-1"></a>panel<span class="op">.</span><span class="fu">layout</span><span class="op">();</span> </span></code></pre></div>
<hr />
<h3 id="класс-canvas-холст">3. Класс Canvas (Холст)</h3>
<p><strong>Canvas 类（画布）</strong></p>
<p><code>Canvas</code> 是 <code>Composite</code>
的子类，专门用于<strong>自定义绘图</strong>。如果你想画线条、圆圈、图表，或者显示复杂的图片，就用它。</p>
<h4 id="a.-конструктор-constructor-2">A. Конструктор (Constructor)</h4>
<div class="sourceCode" id="cb142"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Canvas</span> canvas <span class="op">=</span> <span class="kw">new</span> <span class="bu">Canvas</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">NONE</span><span class="op">);</span></span></code></pre></div>
<h4 id="b.-стили-styles-3">B. Стили (Styles)</h4>
<p>通常与 <code>Composite</code> 相同，但常结合以下样式使用：</p>
<ul>
<li><code>SWT.NO_BACKGROUND</code>:
不要在每次重绘时擦除背景（防止闪烁）。</li>
<li><code>SWT.NO_REDRAW_RESIZE</code>:
改变大小时不重绘（性能优化）。</li>
</ul>
<h4 id="c.-события-events---paintlistener">C. События (Events) -
PaintListener</h4>
<p>这是 <code>Canvas</code> 的灵魂。你必须监听 <code>Paint</code>
事件来绘图。</p>
<div class="sourceCode" id="cb143"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>canvas<span class="op">.</span><span class="fu">addPaintListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">PaintListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">paintControl</span><span class="op">(</span><span class="bu">PaintEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// GC = Graphic Context (Графический контекст)</span></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// GC = 图形上下文 (画笔)</span></span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>        GC gc <span class="op">=</span> e<span class="op">.</span><span class="fu">gc</span><span class="op">;</span> </span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a>        gc<span class="op">.</span><span class="fu">setBackground</span><span class="op">(</span>display<span class="op">.</span><span class="fu">getSystemColor</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">COLOR_BLUE</span><span class="op">));</span></span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a>        gc<span class="op">.</span><span class="fu">fillOval</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span> <span class="co">// Рисуем синий круг (画个蓝圆)</span></span>
<span id="cb143-10"><a href="#cb143-10" aria-hidden="true" tabindex="-1"></a>        gc<span class="op">.</span><span class="fu">drawText</span><span class="op">(</span><span class="st">&quot;Hello Canvas&quot;</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">50</span><span class="op">);</span></span>
<span id="cb143-11"><a href="#cb143-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb143-12"><a href="#cb143-12" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<h4 id="d.-характерные-методы-特征方法">D. Характерные методы
(特征方法)</h4>
<ul>
<li><code>scroll(int destX, int destY, ...)</code>:
高效滚动画布内容。</li>
<li><code>redraw()</code>: <strong>非常重要！</strong>
告诉系统“这里脏了，请触发 Paint 事件重绘”。不要直接调用 paint
方法，要调用 <code>redraw()</code>。</li>
</ul>
<hr />
<h1
id="структурирование-интерфейса-пользователя-с-помощью-классов-tabfolder-и-tabitem.-конструктор-стили-события-характерные-методы-классов-tabfolder-и-tabitem.">20.
Структурирование интерфейса пользователя с помощью классов TabFolder и
TabItem. Конструктор, стили, события, характерные методы классов
TabFolder и TabItem.</h1>
<p>这是 <strong>第 20 题 (Question 20)</strong> 的完整详细解析 。</p>
<p>这道题考察的是如何构建 <strong>选项卡式界面 (Tabbed
Interface)</strong>。这是现代 GUI 应用程序（如浏览器、设置面板、IDE
编辑器）中最常见的布局模式之一。</p>
<p>在 SWT 中，结构化界面的核心在于理解三个组件的关系：</p>
<ol type="1">
<li><strong>TabFolder</strong> (容器/文件夹)</li>
<li><strong>TabItem</strong> (标签头)</li>
<li><strong>Control</strong> (标签对应的内容，通常是
<code>Composite</code>)</li>
</ol>
<hr />
<h3 id="структурирование-интерфейса-пользователя">1. Структурирование
интерфейса пользователя</h3>
<p><strong>用户界面的结构化</strong></p>
<div class="sourceCode" id="cb144"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Структура (结构):</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="co">// TabFolder (Папка)</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="co">//   |-- TabItem 1 (Вкладка 1) -&gt; Control 1 (Содержимое 1)</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="co">//   |-- TabItem 2 (Вкладка 2) -&gt; Control 2 (Содержимое 2)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>TabItem</code> сам по себе
— это просто заголовок. Чтобы отобразить содержимое (кнопки, текст),
нужно создать отдельный контейнер (например, <code>Composite</code>) и
привязать его к вкладке методом <code>setControl()</code>.
<code>TabItem</code>
本身只是一个标题。为了显示内容（按钮、文本），你需要创建一个独立的容器（例如
<code>Composite</code>），并通过 <code>setControl()</code>
方法将其绑定到选项卡上。</li>
</ul>
<hr />
<h3 id="класс-tabfolder">2. Класс TabFolder</h3>
<p><strong>TabFolder 类（选项卡容器）</strong></p>
<p>它是所有选项卡的“父亲”。</p>
<h4 id="a.-конструктор-и-стили-constructor-styles">A. Конструктор и
Стили (Constructor &amp; Styles)</h4>
<div class="sourceCode" id="cb145"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Создаем контейнер вкладок.</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 创建选项卡容器。</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>TabFolder folder <span class="op">=</span> <span class="kw">new</span> <span class="fu">TabFolder</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">TOP</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">BORDER</span><span class="op">);</span></span></code></pre></div>
<p><strong>Стили (Styles):</strong></p>
<ul>
<li><code>SWT.TOP</code>: <strong>Вкладки сверху</strong> (标签在顶部 -
标准样式)。</li>
<li><code>SWT.BOTTOM</code>: <strong>Вкладки снизу</strong>
(标签在底部)。</li>
<li><code>SWT.BORDER</code>: <strong>Рамка</strong> (边框)。</li>
</ul>
<h4 id="b.-события-events">B. События (Events)</h4>
<p>Самое важное событие — выбор вкладки.</p>
<div class="sourceCode" id="cb146"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>folder<span class="op">.</span><span class="fu">addSelectionListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">SelectionAdapter</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">widgetSelected</span><span class="op">(</span>SelectionEvent e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Получаем выбранную вкладку.</span></span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 获取被选中的选项卡。</span></span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a>        TabItem selectedItem <span class="op">=</span> <span class="op">(</span>TabItem<span class="op">)</span> e<span class="op">.</span><span class="fu">item</span><span class="op">;</span></span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Выбрано: &quot;</span> <span class="op">+</span> selectedItem<span class="op">.</span><span class="fu">getText</span><span class="op">());</span></span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb146-9"><a href="#cb146-9" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<h4 id="c.-характерные-методы-methods">C. Характерные методы
(Methods)</h4>
<ul>
<li><code>getSelectionIndex()</code>: Возвращает индекс выбранной
вкладки (返回选中标签的索引)。</li>
<li><code>setSelection(int index)</code>: Программно переключает вкладку
(代码切换标签)。</li>
</ul>
<hr />
<h3 id="класс-tabitem">3. Класс TabItem</h3>
<p><strong>TabItem 类（选项卡项）</strong></p>
<p>它是具体的“标签页耳朵”。</p>
<h4 id="a.-конструктор-constructor-3">A. Конструктор (Constructor)</h4>
<div class="sourceCode" id="cb147"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Прикрепляем вкладку к папке.</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 将选项卡绑定到文件夹上。</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>TabItem item <span class="op">=</span> <span class="kw">new</span> <span class="fu">TabItem</span><span class="op">(</span>folder<span class="op">,</span> SWT<span class="op">.</span><span class="fu">NONE</span><span class="op">);</span></span></code></pre></div>
<h4 id="b.-характерные-методы-methods">B. Характерные методы
(Methods)</h4>
<ul>
<li><code>setText(String text)</code>: Заголовок вкладки
(设置标题).</li>
<li><code>setImage(Image image)</code>: Иконка (设置图标).</li>
<li><code>setControl(Control control)</code>: <strong>Ключевой
метод!</strong> Привязывает содержимое к вкладке
(关键方法！绑定内容到选项卡).</li>
</ul>
<hr />
<h3 id="полный-пример-кода-complete-example">4. Полный пример кода
(Complete Example)</h3>
<p><strong>完整代码示例</strong></p>
<p>这个例子展示了如何正确地把 <code>Composite</code>,
<code>TabItem</code> 和 <code>TabFolder</code> 组装在一起。</p>
<div class="sourceCode" id="cb148"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">createTabbedUI</span><span class="op">(</span>Shell shell<span class="op">)</span> <span class="op">{</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>    shell<span class="op">.</span><span class="fu">setLayout</span><span class="op">(</span><span class="kw">new</span> <span class="fu">FillLayout</span><span class="op">());</span> <span class="co">// Растянуть на все окно (填满窗口)</span></span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Создаем папку (创建文件夹)</span></span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>    TabFolder folder <span class="op">=</span> <span class="kw">new</span> <span class="fu">TabFolder</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">TOP</span><span class="op">);</span></span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// --- Вкладка 1: Общие настройки (Tab 1: General Settings) ---</span></span>
<span id="cb148-8"><a href="#cb148-8" aria-hidden="true" tabindex="-1"></a>    TabItem tab1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">TabItem</span><span class="op">(</span>folder<span class="op">,</span> SWT<span class="op">.</span><span class="fu">NONE</span><span class="op">);</span></span>
<span id="cb148-9"><a href="#cb148-9" aria-hidden="true" tabindex="-1"></a>    tab1<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;General&quot;</span><span class="op">);</span></span>
<span id="cb148-10"><a href="#cb148-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb148-11"><a href="#cb148-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Создаем содержимое для первой вкладки (Composite)</span></span>
<span id="cb148-12"><a href="#cb148-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 为第一个标签创建内容容器</span></span>
<span id="cb148-13"><a href="#cb148-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Composite</span> comp1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Composite</span><span class="op">(</span>folder<span class="op">,</span> SWT<span class="op">.</span><span class="fu">NONE</span><span class="op">);</span></span>
<span id="cb148-14"><a href="#cb148-14" aria-hidden="true" tabindex="-1"></a>    comp1<span class="op">.</span><span class="fu">setLayout</span><span class="op">(</span><span class="kw">new</span> <span class="fu">RowLayout</span><span class="op">());</span></span>
<span id="cb148-15"><a href="#cb148-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>comp1<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">).</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Button 1&quot;</span><span class="op">);</span></span>
<span id="cb148-16"><a href="#cb148-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>comp1<span class="op">,</span> SWT<span class="op">.</span><span class="fu">CHECK</span><span class="op">).</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Option A&quot;</span><span class="op">);</span></span>
<span id="cb148-17"><a href="#cb148-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb148-18"><a href="#cb148-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">// !!! Связываем вкладку и содержимое !!!</span></span>
<span id="cb148-19"><a href="#cb148-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// !!! 将标签与内容绑定 !!!</span></span>
<span id="cb148-20"><a href="#cb148-20" aria-hidden="true" tabindex="-1"></a>    tab1<span class="op">.</span><span class="fu">setControl</span><span class="op">(</span>comp1<span class="op">);</span></span>
<span id="cb148-21"><a href="#cb148-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-22"><a href="#cb148-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">// --- Вкладка 2: Редактор (Tab 2: Editor) ---</span></span>
<span id="cb148-23"><a href="#cb148-23" aria-hidden="true" tabindex="-1"></a>    TabItem tab2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">TabItem</span><span class="op">(</span>folder<span class="op">,</span> SWT<span class="op">.</span><span class="fu">NONE</span><span class="op">);</span></span>
<span id="cb148-24"><a href="#cb148-24" aria-hidden="true" tabindex="-1"></a>    tab2<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Editor&quot;</span><span class="op">);</span></span>
<span id="cb148-25"><a href="#cb148-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-26"><a href="#cb148-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Text</span> text <span class="op">=</span> <span class="kw">new</span> <span class="bu">Text</span><span class="op">(</span>folder<span class="op">,</span> SWT<span class="op">.</span><span class="fu">BORDER</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">MULTI</span><span class="op">);</span></span>
<span id="cb148-27"><a href="#cb148-27" aria-hidden="true" tabindex="-1"></a>    text<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Type here...&quot;</span><span class="op">);</span></span>
<span id="cb148-28"><a href="#cb148-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb148-29"><a href="#cb148-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Связываем (绑定)</span></span>
<span id="cb148-30"><a href="#cb148-30" aria-hidden="true" tabindex="-1"></a>    tab2<span class="op">.</span><span class="fu">setControl</span><span class="op">(</span>text<span class="op">);</span></span>
<span id="cb148-31"><a href="#cb148-31" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Обратите внимание: родитель для
<code>comp1</code> и <code>text</code> — это <strong>folder</strong>, а
не shell. Но <code>TabItem</code> управляет их видимостью (setVisible),
когда пользователь переключает вкладки. 注意：<code>comp1</code> 和
<code>text</code> 的父级是 <strong>folder</strong>，而不是
shell。但是当用户切换标签时，<code>TabItem</code> 负责管理它们的可见性
(setVisible)。</li>
</ul>
<hr />
<h1
id="рисование-графических-элементов-с-помощью-класса-graphics-context-gc-библиотеки-standard-widget-toolkit.-рисование-линий-фигур-изображений-графических-файлов-курсоров.-задание-их-атрибутов-представления-на-экране.">21.
Рисование графических элементов с помощью класса Graphics Context
(GC) библиотеки Standard Widget Toolkit. Рисование линий, фигур,
изображений графических файлов, курсоров. Задание их атрибутов
представления на экране.</h1>
<p>这是 <strong>第 21 题 (Question 21)</strong> 的详细解析 。</p>
<p>这道题是关于 <strong>SWT 图形绘制 (GDI)</strong>
的核心。所有的自定义绘图（画图板、图表、游戏画面）都依赖于
<code>GC</code> (Graphics Context) 类。</p>
<p>我们将题目拆解为 5 个小问来回答。</p>
<hr />
<h3
id="рисование-графических-элементов-с-помощью-класса-graphics-context-gc">1.
Рисование графических элементов с помощью класса Graphics Context
(GC)</h3>
<p><strong>使用 Graphics Context (GC) 类绘制图形元素</strong></p>
<p><code>GC</code> (Graphics Context)
是你的“画笔”。你不能凭空画画，通常需要在 <code>Canvas</code> 的
<code>PaintListener</code> 中获取它。</p>
<div class="sourceCode" id="cb149"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Canvas</span> canvas <span class="op">=</span> <span class="kw">new</span> <span class="bu">Canvas</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">DOUBLE_BUFFERED</span><span class="op">);</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>canvas<span class="op">.</span><span class="fu">addPaintListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">PaintListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">paintControl</span><span class="op">(</span><span class="bu">PaintEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Получаем объект GC из события. Это наша кисть.</span></span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// EN: Get the GC object from the event. This is our brush.</span></span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 从事件中获取 GC 对象。这就是我们的画笔。</span></span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a>        GC gc <span class="op">=</span> e<span class="op">.</span><span class="fu">gc</span><span class="op">;</span> </span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Теперь можно рисовать... (Now we can draw...)</span></span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a>        gc<span class="op">.</span><span class="fu">drawString</span><span class="op">(</span><span class="st">&quot;Hello Graphics&quot;</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>GC</code> — это класс,
предоставляющий методы для рисования на <code>Drawable</code>
поверхностях (Shell, Composite, Canvas, Image). Самый правильный способ
рисования — внутри события <code>PaintEvent</code>. <code>GC</code>
是一个类，提供了在 <code>Drawable</code> 表面（Shell, Composite, Canvas,
Image）上绘图的方法。最正确的绘图方式是在 <code>PaintEvent</code>
事件内部进行。</li>
</ul>
<hr />
<h3 id="рисование-линий">2. Рисование линий</h3>
<p><strong>绘制线条</strong></p>
<div class="sourceCode" id="cb150"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Рисует линию от точки (x1, y1) до (x2, y2).</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 绘制一条从点 (x1, y1) 到 (x2, y2) 的线。</span></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">drawLine</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Рисует ломаную линию (соединяет массив точек).</span></span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 绘制折线（连接点数组）。</span></span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> points <span class="op">=</span> <span class="op">{</span><span class="dv">10</span><span class="op">,</span><span class="dv">10</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span><span class="dv">50</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span><span class="dv">10</span><span class="op">};</span></span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">drawPolyline</span><span class="op">(</span>points<span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Метод <code>drawLine</code>
соединяет две точки. Координаты начинаются с верхнего левого угла (0,0).
Ось Y направлена вниз. <code>drawLine</code>
方法连接两个点。坐标系从左上角 (0,0) 开始。Y 轴向下延伸。</li>
</ul>
<hr />
<h3 id="рисование-фигур-прямоугольники-овалы">3. Рисование фигур
(прямоугольники, овалы)</h3>
<p><strong>绘制图形（矩形、椭圆）</strong></p>
<p>这里要区分 <strong>Draw (轮廓)</strong> 和 <strong>Fill
(填充)</strong>。</p>
<div class="sourceCode" id="cb151"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Прямоугольник (Rectangle)</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Только рамка (контур). Использует Foreground color.</span></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 只有边框（轮廓）。使用前景色。</span></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">drawRectangle</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span></span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Залитая фигура. Использует Background color.</span></span>
<span id="cb151-7"><a href="#cb151-7" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 实心图形。使用背景色。</span></span>
<span id="cb151-8"><a href="#cb151-8" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">fillRectangle</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span></span>
<span id="cb151-9"><a href="#cb151-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-10"><a href="#cb151-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Овал / Круг (Oval / Circle)</span></span>
<span id="cb151-11"><a href="#cb151-11" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Вписывается в прямоугольник.</span></span>
<span id="cb151-12"><a href="#cb151-12" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 内切于矩形。</span></span>
<span id="cb151-13"><a href="#cb151-13" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">drawOval</span><span class="op">(</span><span class="dv">50</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span> <span class="co">// Круг (Circle)</span></span>
<span id="cb151-14"><a href="#cb151-14" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">fillOval</span><span class="op">(</span><span class="dv">50</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Методы, начинающиеся с
<code>draw</code> (например, <code>drawRectangle</code>), рисуют контур
цветом переднего плана. Методы <code>fill</code> (например,
<code>fillRectangle</code>) закрашивают фигуру цветом фона. 以
<code>draw</code> 开头的方法（如
<code>drawRectangle</code>）用<strong>前景色</strong>绘制轮廓。以
<code>fill</code> 开头的方法（如
<code>fillRectangle</code>）用<strong>背景色</strong>填充图形。</li>
</ul>
<hr />
<h3 id="рисование-изображений-графических-файлов">4. Рисование
изображений графических файлов</h3>
<p><strong>绘制图形文件的图像</strong></p>
<p>注意：图像是昂贵的资源，用完记得 <code>dispose()</code>！</p>
<div class="sourceCode" id="cb152"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Загрузка (Loading)</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Загружаем картинку из файла.</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 从文件加载图片。</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Image</span> image <span class="op">=</span> <span class="kw">new</span> <span class="bu">Image</span><span class="op">(</span>display<span class="op">,</span> <span class="st">&quot;logo.png&quot;</span><span class="op">);</span></span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Рисование (Drawing)</span></span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Рисуем картинку в точке (0, 0).</span></span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 在点 (0, 0) 处绘制图片。</span></span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">drawImage</span><span class="op">(</span>image<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Масштабирование (рисуем с изменением размера).</span></span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 缩放（改变大小绘制）。</span></span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a><span class="co">// gc.drawImage(image, srcX, srcY, srcW, srcH, destX, destY, destW, destH);</span></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-15"><a href="#cb152-15" aria-hidden="true" tabindex="-1"></a><span class="co">// [3] Освобождение (Disposal) - ОЧЕНЬ ВАЖНО!</span></span>
<span id="cb152-16"><a href="#cb152-16" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 释放资源 - 非常重要！</span></span>
<span id="cb152-17"><a href="#cb152-17" aria-hidden="true" tabindex="-1"></a><span class="co">// image.dispose(); (Делать это нужно при закрытии окна)</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс <code>Image</code>
используется для загрузки графики (PNG, JPG, GIF). Метод
<code>gc.drawImage</code> копирует пиксели изображения на холст.
<code>Image</code> 类用于加载图形（PNG, JPG,
GIF）。<code>gc.drawImage</code> 方法将图像像素复制到画布上。</li>
</ul>
<hr />
<h3 id="рисование-курсоров-и-установка-курсоров">5. Рисование курсоров
(и установка курсоров)</h3>
<p><strong>绘制光标（及设置光标）</strong></p>
<p>通常我们不“画”光标，而是“设置”光标。但如果要自定义光标，也是通过图像来实现的。</p>
<div class="sourceCode" id="cb153"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Системный курсор (System Cursor)</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Стандартная &quot;рука&quot;.</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 标准的“手型”光标。</span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Cursor</span> handCursor <span class="op">=</span> display<span class="op">.</span><span class="fu">getSystemCursor</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">CURSOR_HAND</span><span class="op">);</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>shell<span class="op">.</span><span class="fu">setCursor</span><span class="op">(</span>handCursor<span class="op">);</span></span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Пользовательский курсор (Custom Cursor)</span></span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Создаем курсор из картинки.</span></span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 从图片创建光标。</span></span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Cursor custom = new Cursor(display, sourceData, maskData, hotX, hotY);</span></span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a><span class="co">// shell.setCursor(custom);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Курсор устанавливается для
конкретного контрола методом <code>setCursor</code>. Можно использовать
системные курсоры (стрелка, рука, ожидание) или создавать свои из
изображений. 光标是通过 <code>setCursor</code>
方法为特定控件设置的。可以使用系统光标（箭头、手型、等待）或从图像创建自定义光标。</li>
</ul>
<hr />
<h3 id="задание-их-атрибутов-представления-на-экране">6. Задание их
атрибутов представления на экране</h3>
<p><strong>设置它们在屏幕上的显示属性</strong></p>
<p>这些设置必须在调用 <code>draw</code> 或 <code>fill</code>
<strong>之前</strong>完成。</p>
<div class="sourceCode" id="cb154"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. Цвет (Color)</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Цвет линий/текста.</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 线条/文本的颜色。</span></span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">setForeground</span><span class="op">(</span>display<span class="op">.</span><span class="fu">getSystemColor</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">COLOR_RED</span><span class="op">));</span></span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Цвет заливки.</span></span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 填充颜色。</span></span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">setBackground</span><span class="op">(</span>display<span class="op">.</span><span class="fu">getSystemColor</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">COLOR_YELLOW</span><span class="op">));</span></span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Толщина линии (Line Width)</span></span>
<span id="cb154-11"><a href="#cb154-11" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Ширина линии в пикселях.</span></span>
<span id="cb154-12"><a href="#cb154-12" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 线条宽度（像素）。</span></span>
<span id="cb154-13"><a href="#cb154-13" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">setLineWidth</span><span class="op">(</span><span class="dv">5</span><span class="op">);</span></span>
<span id="cb154-14"><a href="#cb154-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-15"><a href="#cb154-15" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Стиль линии (Line Style)</span></span>
<span id="cb154-16"><a href="#cb154-16" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Сплошная, пунктирная, точечная...</span></span>
<span id="cb154-17"><a href="#cb154-17" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 实线、虚线、点线……</span></span>
<span id="cb154-18"><a href="#cb154-18" aria-hidden="true" tabindex="-1"></a>gc<span class="op">.</span><span class="fu">setLineStyle</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">LINE_DASH</span><span class="op">);</span> <span class="co">// - - - -</span></span>
<span id="cb154-19"><a href="#cb154-19" aria-hidden="true" tabindex="-1"></a><span class="co">// gc.setLineStyle(SWT.LINE_SOLID); // _______</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>GC</code> имеет состояние.
Если вы установите красный цвет, все последующие операции рисования
будут красными, пока вы не измените цвет снова. <code>GC</code>
是有状态的。如果你设置了红色，后续所有的绘图操作都会是红色的，直到你再次更改颜色。</li>
</ul>
<hr />
<h1
id="обработка-событий-в-библиотеке-standard-widget-toolkit.-интерфейс-обработчика-события-paintlistener-для-перерисовки-изображений-на-экране.">22.
Обработка событий в библиотеке Standard Widget Toolkit. Интерфейс
обработчика события PaintListener для перерисовки изображений на
экране.</h1>
<p>这是 <strong>第 22 题 (Question 22)</strong> 的详细解析。</p>
<p>这道题考察的是 SWT
中最核心的交互机制——<strong>事件处理</strong>，特别是<strong>绘图事件</strong>。如果不理解
<code>PaintListener</code>，你就无法在屏幕上绘制动态的图像或自定义控件。</p>
<hr />
<h3 id="обработка-событий-в-библиотеке-swt">1. Обработка событий в
библиотеке SWT</h3>
<p><strong>SWT 库中的事件处理</strong></p>
<p>SWT 使用标准的 <strong>观察者模式 (Observer Pattern)</strong>。</p>
<ul>
<li><strong>Event (Событие):</strong>
用户做的事情（点击、移动鼠标、改变窗口大小）。</li>
<li><strong>Listener (Слушатель):</strong>
一个接口，包含处理事件的方法。</li>
<li><strong>Widget (Виджет):</strong> 事件源（按钮、窗口、画布）。</li>
</ul>
<div class="sourceCode" id="cb155"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Общая схема (General Scheme / 通用模式):</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>widget<span class="op">.</span><span class="fu">addSomeListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">SomeListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">handleEvent</span><span class="op">(</span><span class="bu">Event</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Code...</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> В SWT обработка событий
происходит через добавление слушателей (Listeners) к виджетам. Когда
происходит событие, ОС сообщает об этом SWT, а SWT вызывает метод вашего
слушателя. 在 SWT 中，事件处理是通过向小部件添加监听器 (Listeners)
来完成的。当事件发生时，操作系统通知 SWT，然后 SWT
调用你的监听器方法。</li>
</ul>
<hr />
<h3 id="интерфейс-обработчика-события-paintlistener">2. Интерфейс
обработчика события PaintListener</h3>
<p><strong>PaintListener 事件处理接口</strong></p>
<p>这是专门用于<strong>绘图</strong>的接口。当操作系统认为窗口的一部分需要“重绘”（比如窗口被遮挡后又显示出来，或者大小改变了）时，就会触发这个事件。</p>
<p><strong>定义 (Definition):</strong></p>
<div class="sourceCode" id="cb156"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">interface</span> PaintListener <span class="kw">extends</span> SWTEventListener <span class="op">{</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Вызывается, когда нужно перерисовать виджет.</span></span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 当需要重绘小部件时被调用。</span></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">paintControl</span><span class="op">(</span><span class="bu">PaintEvent</span> e<span class="op">);</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="перерисовка-изображений-на-экране-пример-кода">3. Перерисовка
изображений на экране (Пример кода)</h3>
<p><strong>在屏幕上重绘图像（代码示例）</strong></p>
<p>要在屏幕上画图，通常使用 <code>Canvas</code> 组件加上
<code>PaintListener</code>。</p>
<p><strong>关键点 (Key Points):</strong></p>
<ol type="1">
<li><strong>PaintEvent e:</strong> 事件对象包含一个 <code>GC</code>
(Graphics Context)。</li>
<li><strong>e.gc:</strong> 只能在 <code>paintControl</code>
方法内部使用这个 GC。<strong>不要 dispose
它！</strong>（它是系统传给你的，系统负责释放）。</li>
</ol>
<div class="sourceCode" id="cb157"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">org</span><span class="op">.</span><span class="im">eclipse</span><span class="op">.</span><span class="im">swt</span><span class="op">.</span><span class="im">events</span><span class="op">.</span><span class="im">PaintEvent</span><span class="op">;</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">org</span><span class="op">.</span><span class="im">eclipse</span><span class="op">.</span><span class="im">swt</span><span class="op">.</span><span class="im">events</span><span class="op">.</span><span class="im">PaintListener</span><span class="op">;</span></span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a><span class="co">// ... imports ...</span></span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">setupPainting</span><span class="op">(</span>Shell shell<span class="op">)</span> <span class="op">{</span></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [1] Создаем Canvas (Холст)</span></span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 创建画布，开启双重缓冲以防闪烁</span></span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Canvas</span> canvas <span class="op">=</span> <span class="kw">new</span> <span class="bu">Canvas</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">DOUBLE_BUFFERED</span><span class="op">);</span></span>
<span id="cb157-9"><a href="#cb157-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb157-10"><a href="#cb157-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Загружаем изображение (Load Image)</span></span>
<span id="cb157-11"><a href="#cb157-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Image</span> image <span class="op">=</span> <span class="kw">new</span> <span class="bu">Image</span><span class="op">(</span>shell<span class="op">.</span><span class="fu">getDisplay</span><span class="op">(),</span> <span class="st">&quot;photo.png&quot;</span><span class="op">);</span></span>
<span id="cb157-12"><a href="#cb157-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-13"><a href="#cb157-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [2] Добавляем PaintListener</span></span>
<span id="cb157-14"><a href="#cb157-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 添加绘图监听器</span></span>
<span id="cb157-15"><a href="#cb157-15" aria-hidden="true" tabindex="-1"></a>    canvas<span class="op">.</span><span class="fu">addPaintListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">PaintListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb157-16"><a href="#cb157-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">@Override</span></span>
<span id="cb157-17"><a href="#cb157-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">paintControl</span><span class="op">(</span><span class="bu">PaintEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb157-18"><a href="#cb157-18" aria-hidden="true" tabindex="-1"></a>            <span class="co">// RU: Получаем GC из события. НЕ удаляйте (dispose) этот GC!</span></span>
<span id="cb157-19"><a href="#cb157-19" aria-hidden="true" tabindex="-1"></a>            <span class="co">// EN: Get GC from event. DO NOT dispose this GC!</span></span>
<span id="cb157-20"><a href="#cb157-20" aria-hidden="true" tabindex="-1"></a>            <span class="co">// CN: 从事件中获取 GC。不要 dispose 这个 GC！</span></span>
<span id="cb157-21"><a href="#cb157-21" aria-hidden="true" tabindex="-1"></a>            GC gc <span class="op">=</span> e<span class="op">.</span><span class="fu">gc</span><span class="op">;</span></span>
<span id="cb157-22"><a href="#cb157-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-23"><a href="#cb157-23" aria-hidden="true" tabindex="-1"></a>            <span class="co">// RU: Рисуем изображение</span></span>
<span id="cb157-24"><a href="#cb157-24" aria-hidden="true" tabindex="-1"></a>            <span class="co">// CN: 绘制图像</span></span>
<span id="cb157-25"><a href="#cb157-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>image <span class="op">!=</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb157-26"><a href="#cb157-26" aria-hidden="true" tabindex="-1"></a>                <span class="co">// (image, x, y)</span></span>
<span id="cb157-27"><a href="#cb157-27" aria-hidden="true" tabindex="-1"></a>                gc<span class="op">.</span><span class="fu">drawImage</span><span class="op">(</span>image<span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">);</span> </span>
<span id="cb157-28"><a href="#cb157-28" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb157-29"><a href="#cb157-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-30"><a href="#cb157-30" aria-hidden="true" tabindex="-1"></a>            <span class="co">// RU: Рисуем рамку поверх изображения</span></span>
<span id="cb157-31"><a href="#cb157-31" aria-hidden="true" tabindex="-1"></a>            <span class="co">// CN: 在图像上方画一个边框</span></span>
<span id="cb157-32"><a href="#cb157-32" aria-hidden="true" tabindex="-1"></a>            gc<span class="op">.</span><span class="fu">setForeground</span><span class="op">(</span>shell<span class="op">.</span><span class="fu">getDisplay</span><span class="op">().</span><span class="fu">getSystemColor</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">COLOR_RED</span><span class="op">));</span></span>
<span id="cb157-33"><a href="#cb157-33" aria-hidden="true" tabindex="-1"></a>            gc<span class="op">.</span><span class="fu">drawRectangle</span><span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span></span>
<span id="cb157-34"><a href="#cb157-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb157-35"><a href="#cb157-35" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span>
<span id="cb157-36"><a href="#cb157-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-37"><a href="#cb157-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [3] Важно! Освобождаем картинку при закрытии окна</span></span>
<span id="cb157-38"><a href="#cb157-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 重要！窗口关闭时释放图片资源</span></span>
<span id="cb157-39"><a href="#cb157-39" aria-hidden="true" tabindex="-1"></a>    shell<span class="op">.</span><span class="fu">addDisposeListener</span><span class="op">(</span>event <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb157-40"><a href="#cb157-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>image <span class="op">!=</span> <span class="kw">null</span> <span class="op">&amp;&amp;</span> <span class="op">!</span>image<span class="op">.</span><span class="fu">isDisposed</span><span class="op">())</span> image<span class="op">.</span><span class="fu">dispose</span><span class="op">();</span></span>
<span id="cb157-41"><a href="#cb157-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">});</span></span>
<span id="cb157-42"><a href="#cb157-42" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h3 id="метод-redraw-как-запустить-перерисовку-вручную">4. Метод
redraw() — Как запустить перерисовку вручную?</h3>
<p><strong>redraw() 方法 — 如何手动触发重绘？</strong></p>
<p><code>paintControl</code>
是被动调用的。如果你更改了数据（比如图片坐标变了），你需要通知系统“嘿，这里脏了，请重绘”。</p>
<div class="sourceCode" id="cb158"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Этот метод говорит системе: &quot;Вызови PaintListener как можно скорее&quot;.</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="co">// EN: This method tells the system: &quot;Call PaintListener as soon as possible&quot;.</span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 这个方法告诉系统：“尽快调用 PaintListener”。</span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>canvas<span class="op">.</span><span class="fu">redraw</span><span class="op">();</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Никогда не вызывайте
<code>paintControl()</code> напрямую! Если вы хотите обновить экран,
вызовите метод <code>redraw()</code> у виджета. SWT поставит задачу
перерисовки в очередь событий. 永远不要直接调用
<code>paintControl()</code>！如果你想更新屏幕，请调用小部件的
<code>redraw()</code> 方法。SWT 会将重绘任务放入事件队列中。</li>
</ul>
<hr />
<h1
id="интерфейс-обработчика-клавиатуры-мыши-mouselistener-вращения-колеса-mousewheellistener-перемещения-мыши-mousemovelistener.">23.
Интерфейс обработчика клавиатуры мыши MouseListener, вращения колеса
MouseWheelListener, перемещения мыши MouseMoveListener.</h1>
<p>这是 <strong>第 23 题 (Question 23)</strong> 的详细解析。</p>
<p>这道题考察的是用户与程序最基本的交互方式：<strong>鼠标操作</strong>。在
SWT 中，鼠标事件被细分为三个不同的接口，分别处理点击、移动和滚动。</p>
<hr />
<h3 id="интерфейс-mouselistener-обработка-кликов">1. Интерфейс
MouseListener (Обработка кликов)</h3>
<p><strong>MouseListener 接口（处理点击）</strong></p>
<p>用于处理鼠标按键的状态变化（按下、松开、双击）。</p>
<p><strong>Методы (Methods):</strong></p>
<ul>
<li><code>mouseDown(MouseEvent e)</code>: 按下鼠标键时触发。</li>
<li><code>mouseUp(MouseEvent e)</code>: 松开鼠标键时触发。</li>
<li><code>mouseDoubleClick(MouseEvent e)</code>: 双击时触发。</li>
</ul>
<div class="sourceCode" id="cb159"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> btn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>btn<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Click Me&quot;</span><span class="op">);</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Используем MouseAdapter, чтобы не реализовывать все 3 метода.</span></span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 使用 MouseAdapter，这样就不需要实现所有 3 个方法。</span></span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>btn<span class="op">.</span><span class="fu">addMouseListener</span><span class="op">(</span><span class="kw">new</span> <span class="bu">MouseAdapter</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">mouseDown</span><span class="op">(</span><span class="bu">MouseEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// e.button: 1 = Left, 2 = Middle, 3 = Right</span></span>
<span id="cb159-10"><a href="#cb159-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Mouse Down: Button &quot;</span> <span class="op">+</span> e<span class="op">.</span><span class="fu">button</span><span class="op">);</span></span>
<span id="cb159-11"><a href="#cb159-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb159-12"><a href="#cb159-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-13"><a href="#cb159-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb159-14"><a href="#cb159-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">mouseDoubleClick</span><span class="op">(</span><span class="bu">MouseEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb159-15"><a href="#cb159-15" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Double Click!&quot;</span><span class="op">);</span></span>
<span id="cb159-16"><a href="#cb159-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb159-17"><a href="#cb159-17" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>MouseListener</code>
отслеживает именно нажатия кнопок. Объект <code>MouseEvent</code>
содержит информацию о том, какая кнопка была нажата
(<code>e.button</code>) и где (<code>e.x</code>, <code>e.y</code>).
<code>MouseListener</code> 专门跟踪按键动作。<code>MouseEvent</code>
对象包含按下了哪个键 (<code>e.button</code>) 以及位置 (<code>e.x</code>,
<code>e.y</code>) 的信息。</li>
</ul>
<hr />
<h3 id="интерфейс-mousemovelistener-перемещение-мыши">2. Интерфейс
MouseMoveListener (Перемещение мыши)</h3>
<p><strong>MouseMoveListener 接口（鼠标移动）</strong></p>
<p>用于追踪鼠标指针的移动轨迹。注意：这个事件触发频率极高！</p>
<p><strong>Методы (Methods):</strong></p>
<ul>
<li><code>mouseMove(MouseEvent e)</code>:
当鼠标在控件上方移动时不断触发。</li>
</ul>
<div class="sourceCode" id="cb160"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Canvas</span> canvas <span class="op">=</span> <span class="kw">new</span> <span class="bu">Canvas</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">BORDER</span><span class="op">);</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>canvas<span class="op">.</span><span class="fu">addMouseMoveListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">MouseMoveListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">mouseMove</span><span class="op">(</span><span class="bu">MouseEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Получаем текущие координаты курсора.</span></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 获取光标的当前坐标。</span></span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> position <span class="op">=</span> <span class="st">&quot;X: &quot;</span> <span class="op">+</span> e<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> <span class="st">&quot;, Y: &quot;</span> <span class="op">+</span> e<span class="op">.</span><span class="fu">y</span><span class="op">;</span></span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb160-10"><a href="#cb160-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Обновляем заголовок окна (не делайте тяжелых вычислений здесь!)</span></span>
<span id="cb160-11"><a href="#cb160-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 更新窗口标题（不要在这里做繁重的计算！）</span></span>
<span id="cb160-12"><a href="#cb160-12" aria-hidden="true" tabindex="-1"></a>        shell<span class="op">.</span><span class="fu">setText</span><span class="op">(</span>position<span class="op">);</span></span>
<span id="cb160-13"><a href="#cb160-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb160-14"><a href="#cb160-14" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Используется для рисования
(drag-and-drop), игр или подсветки элементов. Будьте осторожны: тяжелый
код внутри <code>mouseMove</code> замедлит работу программы.
用于绘图（拖放）、游戏或元素高亮。请注意：<code>mouseMove</code>
中的繁重代码会拖慢程序运行速度。</li>
</ul>
<hr />
<h3 id="интерфейс-mousewheellistener-вращение-колеса">3. Интерфейс
MouseWheelListener (Вращение колеса)</h3>
<p><strong>MouseWheelListener 接口（滚轮旋转）</strong></p>
<p>用于处理鼠标滚轮的滚动。</p>
<p><strong>Методы (Methods):</strong></p>
<ul>
<li><code>mouseScrolled(MouseEvent e)</code>: 当滚轮滚动时触发。</li>
</ul>
<div class="sourceCode" id="cb161"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>shell<span class="op">.</span><span class="fu">addMouseWheelListener</span><span class="op">(</span><span class="kw">new</span> <span class="bu">MouseWheelListener</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">mouseScrolled</span><span class="op">(</span><span class="bu">MouseEvent</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: e.count показывает направление и силу прокрутки.</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// &gt; 0 : Вверх (Up)</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// &lt; 0 : Вниз (Down)</span></span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: e.count 显示滚动的方向和力度。</span></span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// &gt; 0 : 向上</span></span>
<span id="cb161-9"><a href="#cb161-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// &lt; 0 : 向下</span></span>
<span id="cb161-10"><a href="#cb161-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb161-11"><a href="#cb161-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>e<span class="op">.</span><span class="fu">count</span> <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb161-12"><a href="#cb161-12" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Scroll UP&quot;</span><span class="op">);</span></span>
<span id="cb161-13"><a href="#cb161-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb161-14"><a href="#cb161-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Scroll DOWN&quot;</span><span class="op">);</span></span>
<span id="cb161-15"><a href="#cb161-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb161-16"><a href="#cb161-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb161-17"><a href="#cb161-17" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Главное поле здесь —
<code>e.count</code>. В Windows обычно один “щелчок” колеса равен +/- 3,
но это зависит от настроек ОС. 这里的主要字段是 <code>e.count</code>。在
Windows 中，通常滚轮的一“格”等于 +/- 3，但这取决于操作系统的设置。</li>
</ul>
<hr />
<h3 id="объект-mouseevent-событие-мыши">4. Объект MouseEvent (Событие
мыши)</h3>
<p><strong>MouseEvent 对象</strong></p>
<p>所有上述监听器都接收同一个参数
<code>MouseEvent</code>。它的核心字段如下：</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr>
<th>字段 (Field)</th>
<th>说明 (Description)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code>, <code>y</code></td>
<td>鼠标相对于控件的坐标 (Coordinates relative to control)。</td>
</tr>
<tr>
<td><code>button</code></td>
<td>按下的键 (1=左, 2=中, 3=右)。仅在 <code>MouseListener</code>
中有效。</td>
</tr>
<tr>
<td><code>count</code></td>
<td>滚动量。仅在 <code>MouseWheelListener</code> 中有效。</td>
</tr>
<tr>
<td><code>stateMask</code></td>
<td>键盘修饰键状态 (Shift, Ctrl, Alt)。用于检测 “Ctrl+Click”。</td>
</tr>
</tbody>
</table>
<hr />
<h1
id="списки-библиотеки-swt-в-интерфейсе-пользователя.-инициализация-списков.-слушатели-событий.-определение-выбранного-элемента-списка.">24.
Списки библиотеки SWT в интерфейсе пользователя. Инициализация списков.
Слушатели событий. Определение выбранного элемента списка.</h1>
<p>这是 <strong>第 24 题 (Question 24)</strong> 的详细解析。</p>
<p>这道题考察的是 SWT
中用于显示简单文本列表的控件：<strong>List</strong>。注意不要把它和 Java
集合框架中的 <code>java.util.List</code> 搞混了，这里的全名是
<code>org.eclipse.swt.widgets.List</code>。</p>
<hr />
<h3 id="списки-библиотеки-swt-в-интерфейсе-пользователя">1. Списки
библиотеки SWT в интерфейсе пользователя</h3>
<p><strong>用户界面中的 SWT 列表</strong></p>
<p><code>List</code>
控件用于显示一列字符串，用户可以从中选择一项或多项。</p>
<hr />
<h3 id="инициализация-списков">2. Инициализация списков</h3>
<p><strong>列表的初始化</strong></p>
<p>在创建列表时，我们需要决定它是<strong>单选 (Single)</strong>
还是<strong>多选 (Multi)</strong>。</p>
<div class="sourceCode" id="cb162"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Импорт: org.eclipse.swt.widgets.List</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">createList</span><span class="op">(</span>Shell shell<span class="op">)</span> <span class="op">{</span></span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [1] Создание (Creation)</span></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Стиль SWT.MULTI: Можно выбрать несколько элементов (Ctrl+Click).</span></span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Стиль SWT.V_SCROLL: Вертикальная прокрутка.</span></span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: SWT.MULTI 样式：可以选择多个元素 (Ctrl+Click)。</span></span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: SWT.V_SCROLL 样式：垂直滚动条。</span></span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span> list <span class="op">=</span> <span class="kw">new</span> <span class="bu">List</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">BORDER</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">MULTI</span> <span class="op">|</span> SWT<span class="op">.</span><span class="fu">V_SCROLL</span><span class="op">);</span></span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb162-11"><a href="#cb162-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// [2] Заполнение данными (Populating Data)</span></span>
<span id="cb162-12"><a href="#cb162-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Добавление по одному элементу.</span></span>
<span id="cb162-13"><a href="#cb162-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 逐个添加元素。</span></span>
<span id="cb162-14"><a href="#cb162-14" aria-hidden="true" tabindex="-1"></a>    list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Java&quot;</span><span class="op">);</span></span>
<span id="cb162-15"><a href="#cb162-15" aria-hidden="true" tabindex="-1"></a>    list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Python&quot;</span><span class="op">);</span></span>
<span id="cb162-16"><a href="#cb162-16" aria-hidden="true" tabindex="-1"></a>    list<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;C++&quot;</span><span class="op">);</span></span>
<span id="cb162-17"><a href="#cb162-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-18"><a href="#cb162-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Добавление массива строк (заменяет старые данные!).</span></span>
<span id="cb162-19"><a href="#cb162-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 添加字符串数组（会覆盖旧数据！）。</span></span>
<span id="cb162-20"><a href="#cb162-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span><span class="op">[]</span> items <span class="op">=</span> <span class="op">{</span> <span class="st">&quot;Spring&quot;</span><span class="op">,</span> <span class="st">&quot;Hibernate&quot;</span><span class="op">,</span> <span class="st">&quot;SWT&quot;</span> <span class="op">};</span></span>
<span id="cb162-21"><a href="#cb162-21" aria-hidden="true" tabindex="-1"></a>    list<span class="op">.</span><span class="fu">setItems</span><span class="op">(</span>items<span class="op">);</span></span>
<span id="cb162-22"><a href="#cb162-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb162-23"><a href="#cb162-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Выделение элемента по индексу (например, 0-й).</span></span>
<span id="cb162-24"><a href="#cb162-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 根据索引选中元素（例如第 0 个）。</span></span>
<span id="cb162-25"><a href="#cb162-25" aria-hidden="true" tabindex="-1"></a>    list<span class="op">.</span><span class="fu">select</span><span class="op">(</span><span class="dv">0</span><span class="op">);</span></span>
<span id="cb162-26"><a href="#cb162-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Основные методы инициализации:
<code>add()</code> добавляет строку в конец, а <code>setItems()</code>
полностью перезаписывает содержимое списка.
初始化的主要方法：<code>add()</code> 在末尾添加字符串，而
<code>setItems()</code> 会完全覆盖列表内容。</li>
</ul>
<hr />
<h3 id="слушатели-событий">3. Слушатели событий</h3>
<p><strong>事件监听器</strong></p>
<p>要响应用户的点击操作，我们使用 <code>SelectionListener</code>。</p>
<div class="sourceCode" id="cb163"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>list<span class="op">.</span><span class="fu">addSelectionListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">SelectionAdapter</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">widgetSelected</span><span class="op">(</span>SelectionEvent e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Этот метод вызывается при клике мышью или нажатии Enter.</span></span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 当鼠标点击或按下回车键时调用此方法。</span></span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;User clicked on the list&quot;</span><span class="op">);</span></span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Внимание: объект &#39;e&#39; здесь не содержит текст выбранного элемента.</span></span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Нужно спрашивать у самого списка (см. пункт 4).</span></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 注意：这里的对象 &#39;e&#39; 不包含选中的文本。需要去问列表本身（见第 4 点）。</span></span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">widgetDefaultSelected</span><span class="op">(</span>SelectionEvent e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Вызывается при двойном клике (Double Click).</span></span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 双击时调用。</span></span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Double click detected!&quot;</span><span class="op">);</span></span>
<span id="cb163-18"><a href="#cb163-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb163-19"><a href="#cb163-19" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> <code>widgetSelected</code>
срабатывает при одиночном выборе. <code>widgetDefaultSelected</code>
срабатывает при двойном щелчке (или Enter). <code>widgetSelected</code>
在单击选择时触发。<code>widgetDefaultSelected</code>
在双击（或回车）时触发。</li>
</ul>
<hr />
<h3 id="определение-выбранного-элемента-списка">4. Определение
выбранного элемента списка</h3>
<p><strong>确定列表中被选中的元素</strong></p>
<p>因为列表可能是多选的，所以 SWT 总是返回<strong>数组</strong>。</p>
<div class="sourceCode" id="cb164"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Получение текста (Getting Text)</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Возвращает массив строк, которые выбрал пользователь.</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 返回用户选中的字符串数组。</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span><span class="op">[]</span> selectedItems <span class="op">=</span> list<span class="op">.</span><span class="fu">getSelection</span><span class="op">();</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>selectedItems<span class="op">.</span><span class="fu">length</span> <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="bu">String</span> item <span class="op">:</span> selectedItems<span class="op">)</span> <span class="op">{</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Selected: &quot;</span> <span class="op">+</span> item<span class="op">);</span></span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Получение индексов (Getting Indices)</span></span>
<span id="cb164-13"><a href="#cb164-13" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Возвращает индекс (номер) выбранного элемента.</span></span>
<span id="cb164-14"><a href="#cb164-14" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 返回选中元素的索引（编号）。</span></span>
<span id="cb164-15"><a href="#cb164-15" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> index <span class="op">=</span> list<span class="op">.</span><span class="fu">getSelectionIndex</span><span class="op">();</span> <span class="co">// Для одиночного выбора (单选)</span></span>
<span id="cb164-16"><a href="#cb164-16" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> indices <span class="op">=</span> list<span class="op">.</span><span class="fu">getSelectionIndices</span><span class="op">();</span> <span class="co">// Для множественного (多选)</span></span>
<span id="cb164-17"><a href="#cb164-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-18"><a href="#cb164-18" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>index <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb164-19"><a href="#cb164-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Selected index: &quot;</span> <span class="op">+</span> index<span class="op">);</span></span>
<span id="cb164-20"><a href="#cb164-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb164-21"><a href="#cb164-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// RU: Можно удалить выбранный элемент.</span></span>
<span id="cb164-22"><a href="#cb164-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">// CN: 可以删除选中的元素。</span></span>
<span id="cb164-23"><a href="#cb164-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// list.remove(index); </span></span>
<span id="cb164-24"><a href="#cb164-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Метод
<code>getSelection()</code> возвращает массив строк
(<code>String[]</code>). Если ничего не выбрано, массив будет пустым (но
не null). Метод <code>getSelectionIndex()</code> возвращает
<code>-1</code>, если ничего не выбрано. <code>getSelection()</code>
方法返回字符串数组
(<code>String[]</code>)。如果没有选中任何内容，数组为空（但不是
null）。如果没有选中任何内容，<code>getSelectionIndex()</code> 返回
<code>-1</code>。</li>
</ul>
<hr />
<h1
id="кнопки-библиотеки-swt-в-интерфейсе-пользователя.-радио-кнопки.-инициализация-кнопок.-слушатели-событий.-определение-выбора-пользователя.">25.
Кнопки библиотеки SWT в интерфейсе пользователя. Радио-кнопки.
Инициализация кнопок. Слушатели событий. Определение выбора
пользователя.</h1>
<p>这是 <strong>第 25 题 (Question 25)</strong> 的详细解析。</p>
<p>这道题考察的是 SWT 中最基础的交互控件——<strong>按钮
(Button)</strong>。 在 SWT 中，普通按钮、复选框 (Checkbox) 和 单选按钮
(Radio Button) 实际上<strong>都是同一个类</strong>
(<code>org.eclipse.swt.widgets.Button</code>)，只是构造时的<strong>样式
(Style)</strong> 不同。</p>
<hr />
<h3 id="кнопки-библиотеки-swt-и-инициализация-кнопок">1. Кнопки
библиотеки SWT и Инициализация кнопок</h3>
<p><strong>SWT 库的按钮与初始化</strong></p>
<p>要创建不同类型的按钮，我们在构造器中传入不同的常量。</p>
<div class="sourceCode" id="cb165"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co">// [1] Обычная кнопка (Push Button)</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Стиль SWT.PUSH. Используется для выполнения действия.</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 样式 SWT.PUSH。用于执行动作（如“确定”、“取消”）。</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> pushBtn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">PUSH</span><span class="op">);</span></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>pushBtn<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Save&quot;</span><span class="op">);</span></span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="co">// [2] Флажок (Checkbox)</span></span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Стиль SWT.CHECK. Имеет состояние (галочка есть/нет).</span></span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 样式 SWT.CHECK。具有状态（勾选/未勾选）。</span></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> checkBtn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">CHECK</span><span class="op">);</span></span>
<span id="cb165-11"><a href="#cb165-11" aria-hidden="true" tabindex="-1"></a>checkBtn<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;I agree to terms&quot;</span><span class="op">);</span></span>
<span id="cb165-12"><a href="#cb165-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-13"><a href="#cb165-13" aria-hidden="true" tabindex="-1"></a><span class="co">// [3] Радио-кнопка (Radio Button)</span></span>
<span id="cb165-14"><a href="#cb165-14" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Стиль SWT.RADIO. Только одна кнопка в группе может быть выбрана.</span></span>
<span id="cb165-15"><a href="#cb165-15" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 样式 SWT.RADIO。组内只能选中一个按钮。</span></span>
<span id="cb165-16"><a href="#cb165-16" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> radioBtn <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">RADIO</span><span class="op">);</span></span>
<span id="cb165-17"><a href="#cb165-17" aria-hidden="true" tabindex="-1"></a>radioBtn<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Option A&quot;</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Класс всегда один —
<code>Button</code>. Поведение определяется стилем.
类始终只有一个——<code>Button</code>。行为由样式决定。</li>
</ul>
<hr />
<h3 id="радио-кнопки-radio-buttons">2. Радио-кнопки (Radio Buttons)</h3>
<p><strong>单选按钮</strong></p>
<p>单选按钮有一个特殊的<strong>“互斥逻辑” (Exclusion
Logic)</strong>。</p>
<div class="sourceCode" id="cb166"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co">// RU: Чтобы сгруппировать радио-кнопки, их нужно поместить в один Composite (или Group).</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="co">// CN: 为了将单选按钮分组，必须将它们放在同一个 Composite（或 Group）中。</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Group</span> group <span class="op">=</span> <span class="kw">new</span> <span class="bu">Group</span><span class="op">(</span>shell<span class="op">,</span> SWT<span class="op">.</span><span class="fu">SHADOW_ETCHED_IN</span><span class="op">);</span></span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>group<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Choose Gender&quot;</span><span class="op">);</span></span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a>group<span class="op">.</span><span class="fu">setLayout</span><span class="op">(</span><span class="kw">new</span> <span class="fu">RowLayout</span><span class="op">(</span>SWT<span class="op">.</span><span class="fu">VERTICAL</span><span class="op">));</span></span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Эти две кнопки теперь связаны (внутри group):</span></span>
<span id="cb166-9"><a href="#cb166-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 这两个按钮现在是关联的（在 group 内部）：</span></span>
<span id="cb166-10"><a href="#cb166-10" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> male <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>group<span class="op">,</span> SWT<span class="op">.</span><span class="fu">RADIO</span><span class="op">);</span></span>
<span id="cb166-11"><a href="#cb166-11" aria-hidden="true" tabindex="-1"></a>male<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Male&quot;</span><span class="op">);</span></span>
<span id="cb166-12"><a href="#cb166-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-13"><a href="#cb166-13" aria-hidden="true" tabindex="-1"></a><span class="bu">Button</span> female <span class="op">=</span> <span class="kw">new</span> <span class="bu">Button</span><span class="op">(</span>group<span class="op">,</span> SWT<span class="op">.</span><span class="fu">RADIO</span><span class="op">);</span></span>
<span id="cb166-14"><a href="#cb166-14" aria-hidden="true" tabindex="-1"></a>female<span class="op">.</span><span class="fu">setText</span><span class="op">(</span><span class="st">&quot;Female&quot;</span><span class="op">);</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> SWT автоматически обеспечивает
логику “только один выбран”. Все кнопки <code>SWT.RADIO</code>, имеющие
<strong>одного и того же родителя</strong>, становятся одной группой.
SWT 自动提供“单选”逻辑。所有具有<strong>相同父级</strong>的
<code>SWT.RADIO</code> 按钮会自动组成一个组。</li>
</ul>
<hr />
<h3 id="слушатели-событий-1">3. Слушатели событий</h3>
<p><strong>事件监听器</strong></p>
<p>所有按钮都使用 <code>SelectionListener</code>。</p>
<div class="sourceCode" id="cb167"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>pushBtn<span class="op">.</span><span class="fu">addSelectionListener</span><span class="op">(</span><span class="kw">new</span> <span class="fu">SelectionAdapter</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">widgetSelected</span><span class="op">(</span>SelectionEvent e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Код выполняется при клике.</span></span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 点击时执行代码。</span></span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Button Clicked!&quot;</span><span class="op">);</span></span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// RU: Источник события (какая именно кнопка нажата).</span></span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// CN: 事件源（具体是哪个按钮被按下了）。</span></span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Button</span> source <span class="op">=</span> <span class="op">(</span><span class="bu">Button</span><span class="op">)</span> e<span class="op">.</span><span class="fu">getSource</span><span class="op">();</span></span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a><span class="op">});</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Мы используем
<code>SelectionAdapter</code> (класс-заглушку), чтобы не реализовывать
метод <code>widgetDefaultSelected</code> (он редко нужен для кнопок).
我们使用 <code>SelectionAdapter</code>（适配器类），这样就不需要实现
<code>widgetDefaultSelected</code> 方法（按钮通常不需要它）。</li>
</ul>
<hr />
<h3 id="определение-выбора-пользователя">4. Определение выбора
пользователя</h3>
<p><strong>确定用户的选择</strong></p>
<p>对于 <code>CHECK</code> 和 <code>RADIO</code>
类型的按钮，我们需要知道它们是否被选中。</p>
<div class="sourceCode" id="cb168"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Метод getSelection() возвращает boolean</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="co">// getSelection() 方法返回 boolean</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Пример проверки (Check Example):</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>checkBtn<span class="op">.</span><span class="fu">getSelection</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;User agreed.&quot;</span><span class="op">);</span></span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;User disagreed.&quot;</span><span class="op">);</span></span>
<span id="cb168-9"><a href="#cb168-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb168-10"><a href="#cb168-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-11"><a href="#cb168-11" aria-hidden="true" tabindex="-1"></a><span class="co">// Пример для радио-кнопок (Radio Example):</span></span>
<span id="cb168-12"><a href="#cb168-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>male<span class="op">.</span><span class="fu">getSelection</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb168-13"><a href="#cb168-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Selected: Male&quot;</span><span class="op">);</span></span>
<span id="cb168-14"><a href="#cb168-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li><strong>Объяснение (解释):</strong> Метод
<code>getSelection()</code> работает только для кнопок с состоянием
(<code>CHECK</code>, <code>RADIO</code>, <code>TOGGLE</code>). Для
обычной кнопки (<code>PUSH</code>) он не имеет смысла (она не хранит
состояние). <code>getSelection()</code>
方法仅适用于有状态的按钮（<code>CHECK</code>, <code>RADIO</code>,
<code>TOGGLE</code>）。对于普通按钮
(<code>PUSH</code>)，它没有意义（因为普通按钮不保存状态）。</li>
</ul>
<hr />
</body>
</html>
